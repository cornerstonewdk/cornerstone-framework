# 최적??

----------

## 1. 최적????

### Header / Footer 고정?키?

**?인)**

?스?톱 ?경?서??거의 모든 브라???"position:fixed" ?성?????? 모바???경?서??최근??????"position:fixed" ?성????다. iOS 5.0 버전??Safari??Android 2.1 버전??브라??? "position:fixed" ?성?????? ?상?으??작?려?iOS 5.0 버전 ?상??Safari??Android 3.0 버전 ?상??브라???야 ?다. ?음 링크?서 ? ?? ?인 ?????다.
position:fixed ?성 ? ??
그뿐??니??"position:fixed" ?성???용???반?인 모바??UI?만들? ?쪽??래쪽의 고정???역?도 ?크롤이 ?시?어 ?자???약??발생?다. 브라???서 기본?로 ?공?는 "position:fixed" ?성만으로는 ?양??모바???경?서 ?일 UI???일 기능??보장?기 ?렵??

* ?들??상 [http://www.youtube.com/embed/yps8Ea5GO4I](http://www.youtube.com/embed/yps8Ea5GO4I "?영??링크")

* ?치 ?서???동 [http://www.youtube.com/embed/YIOdPf7jqK4](http://www.youtube.com/embed/YIOdPf7jqK4 "?영??링크")

* ?치 ?(?패???출 ???? [http://www.youtube.com/embed/lrnvZDwgJRc](http://www.youtube.com/embed/lrnvZDwgJRc "?영??링크")


**최적??방안)**

Header / Footer?position:fixed??용?고 content?역??

1) ?드로이??: iScroll ?는 최적?된 ?크롤뷰?구현 

2) iOS : ?래 CSS??크롤뷰 구현 

	-webkit-overflow-scrolling: touch


### Scroll View

**Android?서??iOS?서보다 ?크롤이 ?독 ?리??**

모바?에???크롤을 구현????? 문제??는 ????능?다. ?히, Android?서 빠르?매끄?운 ?크롤을 구현?는 것? 매우 ?려???이?? ??유???음?같다.

**GC??한 UI 블록 발생**

? 머신(Virtual Machine) 기반??Android??주기?으?메모리? ?리?는 GC(garbage collection)?발생?다. ?때 ?간?으?블록(block) ?상??발생?며 ?는 UI ?능 ????발?다.

**?레???선?위**

Android?서???크롤이 iOS?서보다 ?린 근본?인 ?유????? ?선?위 ?문?다. iOS???용?의 ?력(touch)??발생?을 ??'UI ?레???'?시?RealTime)' ?선?위?처리?다. 반면, Android???용?의 ?력(touch)??'메인 ?레???'보통(normal)' ?선?위?처리?다. ?라?? ?무??드?어?좋더?도 ?용???력 ????리??문??UI 반응?이 ?리??
Android?서??빠르?매끄?운 ?크롤을 구현?려??양???근법을 ??????야 ?다. 그렇??으??능 문제??봉착?게 ?다.

**?양???크?컴포?트**

?에???급???유??해 ?? ?중?는 많? ?크?컴포?트??? ?다. ???인 ?크?컴포?트로는 iScroll4(http://cubiq.org/iscroll-4) , Sencha Touch(http://www.sencha.com/products/touch)??DataView, List ?이 ?으? jQuery 기반??각종 ?러그인???다.

????들 컴포?트???양??모바???말기에 범용?으??용?기?는 ?소 ?전?과 ?능???어진다. ?히, ??서 ?산?는 모바???말기에?는 ?욱 ??도??하?? 

* ?크롤뷰??구조 

![](http://prandy.iptime.org:3000/html5_framework/doc/blob?path=doc%2F2.+Reference%2Fimages%2Fopti-scrollview-1.png)

#### ?크??니메이??

**최적??구현 방식**

모바???에???니메이?을 구현?는 기술?는 JavaScript, CSS3, SVG, Canvas ???양??기술??존재??? JMC ?크?컴포?트??최적???능???해, ?드?어 ??????CSS3?????으?리소???용?이 ?? JavaScript 기술??병행???용?다.

?음 ?는 CSS3 ?성??'transform:translate'?'transform:translate3d'???용?고, TimingFunction?JavaScript??setTimeout ?수?병행?여 ?니메이?을 구현?을 ?의 ?징???리???이??

* CSS3??JavaScript 구현 기술 비교

|?동 방식 | CSS3 Transform:Translate | CSS3 Trnasform:Translate3d|
| ------- | ------------------------ | ------------------------- |
| ?니메이??방식 | setTimeout???한 ?크립트 방식 | CSS3 TimingFunction???한 방식 | setTimeout???한 ?크립트 방식 | CSS3 TimingFunction???한 방식 |







?드?어?고사?이거나 콘텐츠의 ?이 ?을 ?는 'CSS3 Translate(3d) + CSS3 TimingFunction' 방식???용?는 것이 좋고, ?드?어????이거나 콘텐츠의 ?이 많을 ?는 'CSS3 Translate(3d) + setTimeout???한 ?크립트 방식'???용?는 것이 좋다.

반면, ?니메이???질 측면?서??'setTimeout???한 ?크립트 방식'보다??'CSS3 TimingFunction 방식'???택?는 것이 ??좋다.

**모바???말기별 차별??*

?능??질 측면?서?????? ?해 ?느 ?도 ????찾을 ????? ?제 모바???말기에?는 ?말기별 버그???드?어 ? ? ?????라 ?택?????는 방법??많이 ?라진다. CSS3 3D Transform??? ????래 링크??해 ?인 ?????다.
[http://caniuse.com/#feat=transforms2d](http://caniuse.com/#feat=transforms2d)

iOS??초기? ?드?어 ??????? Android??3.0 버전? ?드?어 ?????기 ?작??Android 4.0 버전???어?야 ?정?으???다.

??? ?는 모바???말기에??CSS3 3D??용?면 ?더????면??깜빡?거???이?웃??깨???문제?발생?다. ?럴 ?는 ?히??'setTimeout???한 ?크립트 방식'???용?는 것이 ?욱 ?과?이??




### 기본 브라???서 URL 주소 감추?
**?인)**
주소창이 ?출/비노??때??
1) ?면?환??주소창에 ?왔???라? 문제(jqMobi)


**최적??방안)**

1) javascript??용??주소??애?

	window.addEventListener('load', function() {
		setTimeout(scrollTo(0, 0), 1);
	}, false);

???

- 컨텐??용 길이??크린보??짧으?주소창이 ?라?? ?는??

2) 무조??라? ?는 방법

	viewport??height=device-height

???

- orientationchange?발생?면 portrait ??landscape???이 값이 ?적??????되??문제



### ?치 기반 ?바?스?서 ?치???이?이???과
**?인)**

 ???분의 ?치기반 ?바?스??기본 브라?????릭 ???치?????역???치???경우 ?이?이??UI??출?킨??

1) ?드로이??: 주황??박스

2) ?이??: ?명 그림??박스

?이?브?의 경우 ?런 ?치 ?이?이?? ?출?키??는?? jQuery Mobile?jQmobi?서???치???이?이?는 ?출?? ?는??

**최적??방안)**

body ?그???래?? 추?/???키???으??게 ?용?다.

	<html>
	<head>    
	<style type="text/css">
	        .no-highlight {
	            /* iOS ?치?이?이??비활?화 */
	            -webkit-tap-highlight-color: transparent;
	            /* ?드로이???치 ?이?이??비활?화 */
	            -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
	        }
	    </style>
	</head>
	<body class="no-highlight">
	...
	</body>
	</html>
### Hover Delay
**?인)**

Hover 문제 : ?릭 / ?치 ?벤?? 발생 ?키??모든 ?그?서 ?기??문제?hover?????반응???체감??무겁? ?리?는 ?낌??받음.

BTS hover(O)	BTS hover(X)	FastButton	?균 ?요?간	체감 ?견
그림. 5-1	O	X	X	0.2 ~ 0.3?Hover ?에 click 발생?로 ?당???리?고 ?켜?
그림. 5-2	X	O	X	0.05 ~ 0.1?반응 ?도?그림5.1??비해 ?당??빨라?
그림. 5-3	O	X	O	0.03 ~ 0.5?그림 5.2??체감??차이???? ?다.
그림. 5-4	X	O	O	0.03 ~ 0.5?그림 5.3??체감??차이???? ?다.
??Highlight ?거 ?(-webkit-tap-highlight-color:rgba(255, 255, 255, 0))???용 ?????능??차이???다.
?? 5-1 ?스??결과 비교 ?이?



### FastButton (iOS)
**?인)**

?이???이?드/?이?의 모바???파리? ?드로이?의 모바???롬 ?? 모두 ?치기반 모바???킷???용?는 브라?져?이?? ??브라?져?? 버튼 ?을 ????touchstart) ?도(touchup) 즉시 반응(click)?? ?는?? ??유???속?는 ?치 ?작(touchstart-touchmove-touchend)?이 ?스?swipe, long click, ???? ????인?기 ?해 최? 300ms????간???기??문?다. 모바?????이?? 만드??경우?면 ???도????간???게 문제?????? ???으??속??반응???구?는 ?웹???라??기??라진다.

?모 링크 : [http://cubiq.org/dropbox/clickdelay.html](http://cubiq.org/dropbox/clickdelay.html "http://cubiq.org/dropbox/clickdelay.html")


**최적??방안)**

1) ???으?무언?? ?르?touchstart) 

2) ?킷??기본 ?작(300ms ?)??못하?막고(preventDefault)

3) ????touchmove) ?이

4) ???을 ?면(touchend)

5) ?릭(click)?로 간주?다.


### ?위????트??Dropdown
**?인)**

* 기본 ??트??Dropdown

![](http://prandy.iptime.org:3000/html5_framework/doc/blob?path=doc%2F2.+Reference%2Fimages%2Fopti-bts-dropdown-1.png)

좌측 ?면?서 메뉴 ?치???측 ?면??메뉴??기면서 content?역??같이 ?려간다. ?? 같? UI???체?이?? ???는 ??이?? ?체?이?? ????경우 체감??버벅거린?고 ?낄 ???다.

**최적??방안)**

1) ?체 ?이?? ???는 ?과??제?다.

2) 메뉴??버???태??출?킨??



### ?면?환
**?랜? ?요?**

?면?환 panel???당?는 html ???문서 ?공 ?수

transform3d 좌표?정
http://www.w3schools.com/css3/css3_3dtransforms.asp

transition 좌표 ??작?간 ?정
http://www.w3schools.com/css3/css3_transitions.asp

**?랜? 종류**

jqMobi 
slide(?? pop(?? flip(? fade(?? 

GWT Mobile
slide(?? fade(?? pop(?? swap(?? flip(?

jQuery Mobile
fade(?? pop(?? flip(? turn(?? flow(? slide(??


**fallback(???**
?면?환 미???브라??(ex ie9)??경우 모든 브라???서 ????과?? fade

**구현 ?계??? ?사???러그인**

http://ricostacruz.com/jquery.transit/





4:47 ?후 ?요?? 7??17, 2012 by ???