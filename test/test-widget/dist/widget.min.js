function onYouTubePlayerAPIReady(){mejs.YouTubeApi.iFrameReady()}function onYouTubePlayerReady(e){mejs.YouTubeApi.flashReady(e)}!function(e){e(function(){"use strict";e.support.transition=function(){var e=function(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},n;for(n in t)if(e.style[n]!==undefined)return t[n]}();return e&&{end:e}}()})}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.options=e.extend({},e.fn.affix.defaults,n),this.$window=e(window).on("scroll.affix.data-api",e.proxy(this.checkPosition,this)),this.$element=e(t),this.checkPosition()};t.prototype.checkPosition=function(){if(!this.$element.is(":visible"))return;var t=e(document).height(),n=this.$window.scrollTop(),r=this.$element.offset(),i=this.options.offset,s=i.bottom,o=i.top,u="affix affix-top affix-bottom",a;typeof i!="object"&&(s=o=i),typeof o=="function"&&(o=i.top()),typeof s=="function"&&(s=i.bottom()),a=this.unpin!=null&&n+this.unpin<=r.top?!1:s!=null&&r.top+this.$element.height()>=t-s?"bottom":o!=null&&n<=o?"top":!1;if(this.affixed===a)return;this.affixed=a,this.unpin=a=="bottom"?r.top-n:null,this.$element.removeClass(u).addClass("affix"+(a?"-"+a:""))},e.fn.affix=function(n){return this.each(function(){var r=e(this),i=r.data("affix"),s=typeof n=="object"&&n;i||r.data("affix",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.affix.Constructor=t,e.fn.affix.defaults={offset:0},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var t=e(this),n=t.data();n.offset=n.offset||{},n.offsetBottom&&(n.offset.bottom=n.offsetBottom),n.offsetTop&&(n.offset.top=n.offsetTop),t.affix(n)})})}(window.jQuery),!function(e){"use strict";var t='[data-dismiss="alert"]',n=function(n){e(n).on("click",t,this.close)};n.prototype.close=function(t){function s(){i.trigger("closed").remove()}var n=e(this),r=n.attr("data-target"),i;r||(r=n.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,"")),i=e(r),t&&t.preventDefault(),i.length||(i=n.hasClass("alert")?n:n.parent()),i.trigger(t=e.Event("close"));if(t.isDefaultPrevented())return;i.removeClass("in"),e.support.transition&&i.hasClass("fade")?i.on(e.support.transition.end,s):s()},e.fn.alert=function(t){return this.each(function(){var r=e(this),i=r.data("alert");i||r.data("alert",i=new n(this)),typeof t=="string"&&i[t].call(r)})},e.fn.alert.Constructor=n,e(function(){e("body").on("click.alert.data-api",t,n.prototype.close)})}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.$element=e(t),this.options=e.extend({},e.fn.button.defaults,n)};t.prototype.setState=function(e){var t="disabled",n=this.$element,r=n.data(),i=n.is("input")?"val":"html";e+="Text",r.resetText||n.data("resetText",n[i]()),n[i](r[e]||this.options[e]),setTimeout(function(){e=="loadingText"?n.addClass(t).attr(t,t):n.removeClass(t).removeAttr(t)},0)},t.prototype.toggle=function(){var e=this.$element.parent('[data-toggle="buttons-radio"]');e&&e.find(".active").removeClass("active"),this.$element.toggleClass("active")},e.fn.button=function(n){return this.each(function(){var r=e(this),i=r.data("button"),s=typeof n=="object"&&n;i||r.data("button",i=new t(this,s)),n=="toggle"?i.toggle():n&&i.setState(n)})},e.fn.button.defaults={loadingText:"loading..."},e.fn.button.Constructor=t,e(function(){e("body").on("click.button.data-api","[data-toggle^=button]",function(t){var n=e(t.target);n.hasClass("btn")||(n=n.closest(".btn")),n.button("toggle")})})}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.$element=e(t),this.options=n,this.options.slide&&this.slide(this.options.slide),this.options.pause=="hover"&&this.$element.on("mouseenter",e.proxy(this.pause,this)).on("mouseleave",e.proxy(this.cycle,this))};t.prototype={cycle:function(t){return t||(this.paused=!1),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},to:function(t){var n=this.$element.find(".item.active"),r=n.parent().children(),i=r.index(n),s=this;if(t>r.length-1||t<0)return;return this.sliding?this.$element.one("slid",function(){s.to(t)}):i==t?this.pause().cycle():this.slide(t>i?"next":"prev",e(r[t]))},pause:function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition.end&&(this.$element.trigger(e.support.transition.end),this.cycle()),clearInterval(this.interval),this.interval=null,this},next:function(){if(this.sliding)return;return this.slide("next")},prev:function(){if(this.sliding)return;return this.slide("prev")},slide:function(t,n){var r=this.$element.find(".item.active"),i=n||r[t](),s=this.interval,o=t=="next"?"left":"right",u=t=="next"?"first":"last",a=this,f=e.Event("slide",{relatedTarget:i[0]});this.sliding=!0,s&&this.pause(),i=i.length?i:this.$element.find(".item")[u]();if(i.hasClass("active"))return;if(e.support.transition&&this.$element.hasClass("slide")){this.$element.trigger(f);if(f.isDefaultPrevented())return;i.addClass(t),i[0].offsetWidth,r.addClass(o),i.addClass(o),this.$element.one(e.support.transition.end,function(){i.removeClass([t,o].join(" ")).addClass("active"),r.removeClass(["active",o].join(" ")),a.sliding=!1,setTimeout(function(){a.$element.trigger("slid")},0)})}else{this.$element.trigger(f);if(f.isDefaultPrevented())return;r.removeClass("active"),i.addClass("active"),this.sliding=!1,this.$element.trigger("slid")}return s&&this.cycle(),this}},e.fn.carousel=function(n){return this.each(function(){var r=e(this),i=r.data("carousel"),s=e.extend({},e.fn.carousel.defaults,typeof n=="object"&&n),o=typeof n=="string"?n:s.slide;i||r.data("carousel",i=new t(this,s)),typeof n=="number"?i.to(n):o?i[o]():s.interval&&i.cycle()})},e.fn.carousel.defaults={interval:5e3,pause:"hover"},e.fn.carousel.Constructor=t,e(function(){e("body").on("click.carousel.data-api","[data-slide]",function(t){var n=e(this),r,i=e(n.attr("data-target")||(r=n.attr("href"))&&r.replace(/.*(?=#[^\s]+$)/,"")),s=!i.data("modal")&&e.extend({},i.data(),n.data());i.carousel(s),t.preventDefault()})})}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.$element=e(t),this.options=e.extend({},e.fn.collapse.defaults,n),this.options.parent&&(this.$parent=e(this.options.parent)),this.options.toggle&&this.toggle()};t.prototype={constructor:t,dimension:function(){var e=this.$element.hasClass("width");return e?"width":"height"},show:function(){var t,n,r,i;if(this.transitioning)return;t=this.dimension(),n=e.camelCase(["scroll",t].join("-")),r=this.$parent&&this.$parent.find("> .accordion-group > .in");if(r&&r.length){i=r.data("collapse");if(i&&i.transitioning)return;r.collapse("hide"),i||r.data("collapse",null)}this.$element[t](0),this.transition("addClass",e.Event("show"),"shown"),e.support.transition&&this.$element[t](this.$element[0][n])},hide:function(){var t;if(this.transitioning)return;t=this.dimension(),this.reset(this.$element[t]()),this.transition("removeClass",e.Event("hide"),"hidden"),this.$element[t](0)},reset:function(e){var t=this.dimension();return this.$element.removeClass("collapse")[t](e||"auto")[0].offsetWidth,this.$element[e!==null?"addClass":"removeClass"]("collapse"),this},transition:function(t,n,r){var i=this,s=function(){n.type=="show"&&i.reset(),i.transitioning=0,i.$element.trigger(r)};this.$element.trigger(n);if(n.isDefaultPrevented())return;this.transitioning=1,this.$element[t]("in"),e.support.transition&&this.$element.hasClass("collapse")?this.$element.one(e.support.transition.end,s):s()},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}},e.fn.collapse=function(n){return this.each(function(){var r=e(this),i=r.data("collapse"),s=typeof n=="object"&&n;i||r.data("collapse",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.collapse.defaults={toggle:!0},e.fn.collapse.Constructor=t,e(function(){e("body").on("click.collapse.data-api","[data-toggle=collapse]",function(t){var n=e(this),r,i=n.attr("data-target")||t.preventDefault()||(r=n.attr("href"))&&r.replace(/.*(?=#[^\s]+$)/,""),s=e(i).data("collapse")?"toggle":n.data();n[e(i).hasClass("in")?"addClass":"removeClass"]("collapsed"),e(i).collapse(s)})})}(window.jQuery),!function(e){"use strict";function r(){i(e(t)).removeClass("open")}function i(t){var n=t.attr("data-target"),r;return n||(n=t.attr("href"),n=n&&n.replace(/.*(?=#[^\s]*$)/,"")),r=e(n),r.length||(r=t.parent()),r}var t="[data-toggle=dropdown]",n=function(t){var n=e(t).on("click.dropdown.data-api",this.toggle);e("html").on("click.dropdown.data-api",function(){n.parent().removeClass("open")})};n.prototype={constructor:n,toggle:function(t){var n=e(this),s,o;if(n.is(".disabled, :disabled"))return;return s=i(n),o=s.hasClass("open"),r(),o||(s.toggleClass("open"),n.focus()),!1},keydown:function(t){var n,r,s,o,u,a;if(!/(38|40|27)/.test(t.keyCode))return;n=e(this),t.preventDefault(),t.stopPropagation();if(n.is(".disabled, :disabled"))return;o=i(n),u=o.hasClass("open");if(!u||u&&t.keyCode==27)return n.click();r=e("[role=menu] li:not(.divider) a",o);if(!r.length)return;a=r.index(r.filter(":focus")),t.keyCode==38&&a>0&&a--,t.keyCode==40&&a<r.length-1&&a++,~a||(a=0),r.eq(a).focus()}},e.fn.dropdown=function(t){return this.each(function(){var r=e(this),i=r.data("dropdown");i||r.data("dropdown",i=new n(this)),typeof t=="string"&&i[t].call(r)})},e.fn.dropdown.Constructor=n,e(function(){e("html").on("click.dropdown.data-api touchstart.dropdown.data-api",r),e("body").on("click.dropdown touchstart.dropdown.data-api",".dropdown",function(e){e.stopPropagation()}).on("click.dropdown.data-api touchstart.dropdown.data-api",t,n.prototype.toggle).on("keydown.dropdown.data-api touchstart.dropdown.data-api",t+", [role=menu]",n.prototype.keydown)})}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.options=n,this.$element=e(t).delegate('[data-dismiss="modal"]',"click.dismiss.modal",e.proxy(this.hide,this)),this.options.remote&&this.$element.find(".modal-body").load(this.options.remote)};t.prototype={constructor:t,toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var t=this,n=e.Event("show");this.$element.trigger(n);if(this.isShown||n.isDefaultPrevented())return;e("body").addClass("modal-open"),this.isShown=!0,this.escape(),this.backdrop(function(){var n=e.support.transition&&t.$element.hasClass("fade");t.$element.parent().length||t.$element.appendTo(document.body),t.$element.show(),n&&t.$element[0].offsetWidth,t.$element.addClass("in").attr("aria-hidden",!1).focus(),t.enforceFocus(),n?t.$element.one(e.support.transition.end,function(){t.$element.trigger("shown")}):t.$element.trigger("shown")})},hide:function(t){t&&t.preventDefault();var n=this;t=e.Event("hide"),this.$element.trigger(t);if(!this.isShown||t.isDefaultPrevented())return;this.isShown=!1,e("body").removeClass("modal-open"),this.escape(),e(document).off("focusin.modal"),this.$element.removeClass("in").attr("aria-hidden",!0),e.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal()},enforceFocus:function(){var t=this;e(document).on("focusin.modal",function(e){t.$element[0]!==e.target&&!t.$element.has(e.target).length&&t.$element.focus()})},escape:function(){var e=this;this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.modal",function(t){t.which==27&&e.hide()}):this.isShown||this.$element.off("keyup.dismiss.modal")},hideWithTransition:function(){var t=this,n=setTimeout(function(){t.$element.off(e.support.transition.end),t.hideModal()},500);this.$element.one(e.support.transition.end,function(){clearTimeout(n),t.hideModal()})},hideModal:function(e){this.$element.hide().trigger("hidden"),this.backdrop()},removeBackdrop:function(){this.$backdrop.remove(),this.$backdrop=null},backdrop:function(t){var n=this,r=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var i=e.support.transition&&r;this.$backdrop=e('<div class="modal-backdrop '+r+'" />').appendTo(document.body),this.options.backdrop!="static"&&this.$backdrop.click(e.proxy(this.hide,this)),i&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),i?this.$backdrop.one(e.support.transition.end,t):t()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(e.support.transition.end,e.proxy(this.removeBackdrop,this)):this.removeBackdrop()):t&&t()}},e.fn.modal=function(n){return this.each(function(){var r=e(this),i=r.data("modal"),s=e.extend({},e.fn.modal.defaults,r.data(),typeof n=="object"&&n);i||r.data("modal",i=new t(this,s)),typeof n=="string"?i[n]():s.show&&i.show()})},e.fn.modal.defaults={backdrop:!0,keyboard:!0,show:!0},e.fn.modal.Constructor=t,e(function(){e("body").on("click.modal.data-api",'[data-toggle="modal"]',function(t){var n=e(this),r=n.attr("href"),i=e(n.attr("data-target")||r&&r.replace(/.*(?=#[^\s]+$)/,"")),s=i.data("modal")?"toggle":e.extend({remote:!/#/.test(r)&&r},i.data(),n.data());t.preventDefault(),i.modal(s).one("hide",function(){n.focus()})})})}(window.jQuery),!function(e){"use strict";var t=function(e,t){this.init("tooltip",e,t)};t.prototype={constructor:t,init:function(t,n,r){var i,s;this.type=t,this.$element=e(n),this.options=this.getOptions(r),this.enabled=!0,this.options.trigger=="click"?this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this)):this.options.trigger!="manual"&&(i=this.options.trigger=="hover"?"mouseenter":"focus",s=this.options.trigger=="hover"?"mouseleave":"blur",this.$element.on(i+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(s+"."+this.type,this.options.selector,e.proxy(this.leave,this))),this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(t){return t=e.extend({},e.fn[this.type].defaults,t,this.$element.data()),t.delay&&typeof t.delay=="number"&&(t.delay={show:t.delay,hide:t.delay}),t},enter:function(t){var n=e(t.currentTarget)[this.type](this._options).data(this.type);if(!n.options.delay||!n.options.delay.show)return n.show();clearTimeout(this.timeout),n.hoverState="in",this.timeout=setTimeout(function(){n.hoverState=="in"&&n.show()},n.options.delay.show)},leave:function(t){var n=e(t.currentTarget)[this.type](this._options).data(this.type);this.timeout&&clearTimeout(this.timeout);if(!n.options.delay||!n.options.delay.hide)return n.hide();n.hoverState="out",this.timeout=setTimeout(function(){n.hoverState=="out"&&n.hide()},n.options.delay.hide)},show:function(){var e,t,n,r,i,s,o;if(this.hasContent()&&this.enabled){e=this.tip(),this.setContent(),this.options.animation&&e.addClass("fade"),s=typeof this.options.placement=="function"?this.options.placement.call(this,e[0],this.$element[0]):this.options.placement,t=/in/.test(s),e.remove().css({top:0,left:0,display:"block"}).appendTo(t?this.$element:document.body),n=this.getPosition(t),r=e[0].offsetWidth,i=e[0].offsetHeight;switch(t?s.split(" ")[1]:s){case"bottom":o={top:n.top+n.height,left:n.left+n.width/2-r/2};break;case"top":o={top:n.top-i,left:n.left+n.width/2-r/2};break;case"left":o={top:n.top+n.height/2-i/2,left:n.left-r};break;case"right":o={top:n.top+n.height/2-i/2,left:n.left+n.width}}e.css(o).addClass(s).addClass("in")}},setContent:function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},hide:function(){function r(){var t=setTimeout(function(){n.off(e.support.transition.end).remove()},500);n.one(e.support.transition.end,function(){clearTimeout(t),n.remove()})}var t=this,n=this.tip();return n.removeClass("in"),e.support.transition&&this.$tip.hasClass("fade")?r():n.remove(),this},fixTitle:function(){var e=this.$element;(e.attr("title")||typeof e.attr("data-original-title")!="string")&&e.attr("data-original-title",e.attr("title")||"").removeAttr("title")},hasContent:function(){return this.getTitle()},getPosition:function(t){return e.extend({},t?{top:0,left:0}:this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight})},getTitle:function(){var e,t=this.$element,n=this.options;return e=t.attr("data-original-title")||(typeof n.title=="function"?n.title.call(t[0]):n.title),e},tip:function(){return this.$tip=this.$tip||e(this.options.template)},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(){this[this.tip().hasClass("in")?"hide":"show"]()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}},e.fn.tooltip=function(n){return this.each(function(){var r=e(this),i=r.data("tooltip"),s=typeof n=="object"&&n;i||r.data("tooltip",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.tooltip.Constructor=t,e.fn.tooltip.defaults={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover",title:"",delay:0,html:!0}}(window.jQuery),!function(e){"use strict";var t=function(e,t){this.init("popover",e,t)};t.prototype=e.extend({},e.fn.tooltip.Constructor.prototype,{constructor:t,setContent:function(){var e=this.tip(),t=this.getTitle(),n=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content > *")[this.options.html?"html":"text"](n),e.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var e,t=this.$element,n=this.options;return e=t.attr("data-content")||(typeof n.content=="function"?n.content.call(t[0]):n.content),e},tip:function(){return this.$tip||(this.$tip=e(this.options.template)),this.$tip},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}}),e.fn.popover=function(n){return this.each(function(){var r=e(this),i=r.data("popover"),s=typeof n=="object"&&n;i||r.data("popover",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.popover.Constructor=t,e.fn.popover.defaults=e.extend({},e.fn.tooltip.defaults,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><div class="popover-inner"><h3 class="popover-title"></h3><div class="popover-content"><p></p></div></div></div>'})}(window.jQuery),!function(e){"use strict";function t(t,n){var r=e.proxy(this.process,this),i=e(t).is("body")?e(window):e(t),s;this.options=e.extend({},e.fn.scrollspy.defaults,n),this.$scrollElement=i.on("scroll.scroll-spy.data-api",r),this.selector=(this.options.target||(s=e(t).attr("href"))&&s.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.$body=e("body"),this.refresh(),this.process()}t.prototype={constructor:t,refresh:function(){var t=this,n;this.offsets=e([]),this.targets=e([]),n=this.$body.find(this.selector).map(function(){var t=e(this),n=t.data("target")||t.attr("href"),r=/^#\w/.test(n)&&e(n);return r&&r.length&&[[r.position().top,n]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){t.offsets.push(this[0]),t.targets.push(this[1])})},process:function(){var e=this.$scrollElement.scrollTop()+this.options.offset,t=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,n=t-this.$scrollElement.height(),r=this.offsets,i=this.targets,s=this.activeTarget,o;if(e>=n)return s!=(o=i.last()[0])&&this.activate(o);for(o=r.length;o--;)s!=i[o]&&e>=r[o]&&(!r[o+1]||e<=r[o+1])&&this.activate(i[o])},activate:function(t){var n,r;this.activeTarget=t,e(this.selector).parent(".active").removeClass("active"),r=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',n=e(r).parent("li").addClass("active"),n.parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate")}},e.fn.scrollspy=function(n){return this.each(function(){var r=e(this),i=r.data("scrollspy"),s=typeof n=="object"&&n;i||r.data("scrollspy",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.scrollspy.Constructor=t,e.fn.scrollspy.defaults={offset:10},e(window).on("load",function(){e('[data-spy="scroll"]').each(function(){var t=e(this);t.scrollspy(t.data())})})}(window.jQuery),!function(e){"use strict";var t=function(t){this.element=e(t)};t.prototype={constructor:t,show:function(){var t=this.element,n=t.closest("ul:not(.dropdown-menu)"),r=t.attr("data-target"),i,s,o;r||(r=t.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,""));if(t.parent("li").hasClass("active"))return;i=n.find(".active a").last()[0],o=e.Event("show",{relatedTarget:i}),t.trigger(o);if(o.isDefaultPrevented())return;s=e(r),this.activate(t.parent("li"),n),this.activate(s,s.parent(),function(){t.trigger({type:"shown",relatedTarget:i})})},activate:function(t,n,r){function o(){i.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),t.addClass("active"),s?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu")&&t.closest("li.dropdown").addClass("active"),r&&r()}var i=n.find("> .active"),s=r&&e.support.transition&&i.hasClass("fade");s?i.one(e.support.transition.end,o):o(),i.removeClass("in")}},e.fn.tab=function(n){return this.each(function(){var r=e(this),i=r.data("tab");i||r.data("tab",i=new t(this)),typeof n=="string"&&i[n]()})},e.fn.tab.Constructor=t,e(function(){e("body").on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(t){t.preventDefault(),e(this).tab("show")})})}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.$element=e(t),this.options=e.extend({},e.fn.typeahead.defaults,n),this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.highlighter=this.options.highlighter||this.highlighter,this.updater=this.options.updater||this.updater,this.$menu=e(this.options.menu).appendTo("body"),this.source=this.options.source,this.shown=!1,this.listen()};t.prototype={constructor:t,select:function(){var e=this.$menu.find(".active").attr("data-value");return this.$element.val(this.updater(e)).change(),this.hide()},updater:function(e){return e},show:function(){var t=e.extend({},this.$element.offset(),{height:this.$element[0].offsetHeight});return this.$menu.css({top:t.top+t.height,left:t.left}),this.$menu.show(),this.shown=!0,this},hide:function(){return this.$menu.hide(),this.shown=!1,this},lookup:function(t){var n;return this.query=this.$element.val(),!this.query||this.query.length<this.options.minLength?this.shown?this.hide():this:(n=e.isFunction(this.source)?this.source(this.query,e.proxy(this.process,this)):this.source,n?this.process(n):this)},process:function(t){var n=this;return t=e.grep(t,function(e){return n.matcher(e)}),t=this.sorter(t),t.length?this.render(t.slice(0,this.options.items)).show():this.shown?this.hide():this},matcher:function(e){return~e.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(e){var t=[],n=[],r=[],i;while(i=e.shift())i.toLowerCase().indexOf(this.query.toLowerCase())?~i.indexOf(this.query)?n.push(i):r.push(i):t.push(i);return t.concat(n,r)},highlighter:function(e){var t=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return e.replace(new RegExp("("+t+")","ig"),function(e,t){return"<strong>"+t+"</strong>"})},render:function(t){var n=this;return t=e(t).map(function(t,r){return t=e(n.options.item).attr("data-value",r),t.find("a").html(n.highlighter(r)),t[0]}),t.first().addClass("active"),this.$menu.html(t),this},next:function(t){var n=this.$menu.find(".active").removeClass("active"),r=n.next();r.length||(r=e(this.$menu.find("li")[0])),r.addClass("active")},prev:function(e){var t=this.$menu.find(".active").removeClass("active"),n=t.prev();n.length||(n=this.$menu.find("li").last()),n.addClass("active")},listen:function(){this.$element.on("blur",e.proxy(this.blur,this)).on("keypress",e.proxy(this.keypress,this)).on("keyup",e.proxy(this.keyup,this)),(e.browser.webkit||e.browser.msie)&&this.$element.on("keydown",e.proxy(this.keydown,this)),this.$menu.on("click",e.proxy(this.click,this)).on("mouseenter","li",e.proxy(this.mouseenter,this))},move:function(e){if(!this.shown)return;switch(e.keyCode){case 9:case 13:case 27:e.preventDefault();break;case 38:e.preventDefault(),this.prev();break;case 40:e.preventDefault(),this.next()}e.stopPropagation()},keydown:function(t){this.suppressKeyPressRepeat=!~e.inArray(t.keyCode,[40,38,9,13,27]),this.move(t)},keypress:function(e){if(this.suppressKeyPressRepeat)return;this.move(e)},keyup:function(e){switch(e.keyCode){case 40:case 38:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.lookup()}e.stopPropagation(),e.preventDefault()},blur:function(e){var t=this;setTimeout(function(){t.hide()},150)},click:function(e){e.stopPropagation(),e.preventDefault(),this.select()},mouseenter:function(t){this.$menu.find(".active").removeClass("active"),e(t.currentTarget).addClass("active")}},e.fn.typeahead=function(n){return this.each(function(){var r=e(this),i=r.data("typeahead"),s=typeof n=="object"&&n;i||r.data("typeahead",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>',minLength:1},e.fn.typeahead.Constructor=t,e(function(){e("body").on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(t){var n=e(this);if(n.data("typeahead"))return;t.preventDefault(),n.typeahead(n.data())})})}(window.jQuery),function(){var e="ontouchstart"in window;this.Alert=function(){function e(){}var e;e=$.fn.alert.Constructor,e.prototype.hide=function(e,t){console.log("alert hello world")},$.fn.alert.Constructor=e}(),this.Carousel=function(){function e(){}var e;return e=$.fn.carousel.Constructor,e.prototype.activeSwipe=function(){var e;e=this,this.$element.swipe().live("swipeLeft",function(t,n){e.isActive||(e.pause(),e.slide("next"),e.isActive=!0)}).live("swipeRight",function(t,n){e.isActive||(e.pause(),e.slide("prev"),e.isActive=!0)}),this.$element.live("slide",function(t){return e.isActive=!0}).live("slid",function(t){e.isActive=!1})},$.fn.carousel.Constructor=e,$(function(){$('[data-slide="swipe"]').carousel("activeSwipe")}),e}(),this.Popover=function(){function e(){}var e;e=$.fn.popover.Constructor,$.fn.popover.Constructor=e,$(function(){$("[data-toggle=popover]").each(function(e){$(this).popover().live("click",function(e){e.preventDefault()})})})}(),this.Tooltip=function(){function e(){}var e;e=$.fn.tooltip.Constructor,$.fn.tooltip.Constructor=e,$(function(){$('[data-toggle="tooltip"]').tooltip({selector:"[rel=tooltip]"})})}()}.call(this),function(e,t,n){typeof define=="function"&&define.amd?define(["jquery"],function(r){n(r,e,t)}):n(e.jQuery,e,t)}(this,document,function(e,t,n,r){var i={},s,o,u=350,a=10,f="ontouchstart"in t,l=function(){var e=this;$(n).on("touchstart mousedown touchmove mousemove touchend mouseup",function(e){})};l.prototype={getXYfromEvent:function(e){e=e||t.event;if(typeof e=="object"&&!e.type.match("touch.*")){var r=n,i=r.body;return[{x:e.pageX||e.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&r.clientLeft||0),y:e.pageY||e.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&r.clientTop||0)}]}var s=[],o,u=e.touches.length>0?e.touches:e.changedTouches;for(var a=0,f=u.length;a<f;a++)o=u[a],s.push({x:o.pageX,y:o.pageY});return s},getTouchPageXY:function(e){e.type.match("touch.*")&&(touch=e.originalEvent.touches[0]||e.originalEvent.changedTouches[0],e.pageX=touch.pageX,e.pageY=touch.pageY)},getAngle:function(e,t){return Math.atan2(t.y-e.y,t.x-e.x)*180/Math.PI},getDirectionFromAngle:function(e){var t={down:e>=45&&e<135,left:e>=135||e<=-135,up:e<-45&&e>-135,right:e>=-45&&e<=45},n,r;for(r in t)if(t[r]){n=r;break}return n},countFingers:function(e){return e.touches?e.touches.length:1},triggerEvent:function(e,t){t.touches=this.getXYfromEvent(t.originalEvent),t.type=e,typeof self["on"+e]=="function"&&self["on"+e].call(self,t)},drag:function(e,t){var r,i,s,o=this;return t=$.extend({x:!0,y:!0,drag:!0},t),r=r||$(n).on("mousedown mouseup touchstart touchend",function(e){o.getTouchPageXY(e);var n,u,a,f,l,c;s=$(e.target);if(e.type.match("mousedown|touchstart")&&s.data("drag"))u=s.position(),a=e.pageX-u.left,f=e.pageY-u.top,l,c,start=!0,r.on("mousemove.drag touchmove.drag",function(e){o.getTouchPageXY(e),l=e.pageX-a,c=e.pageY-f,props={},t.x&&(props.left=l),t.y&&(props.top=c),start&&(s.trigger("dragStart"),start=!1),t.drag&&s.css(props),s.trigger("drag",[c,l]),i=s}),e.preventDefault();else try{i&&i.trigger("dragEnd")}finally{r.off("mousemove.drag touchmove.drag"),i=null}}),e.data("drag",!0)},swipe:function(e,r){var f,l,c=this,r=$.extend({x:!0,y:!0,swipe:!0},r),h=$(e),p,d,v,m,g,y;return $("img",$(e)).on("mousedown",function(){return!1}),h.on("touchstart",function(e){o=(new Date).getTime(),i.start=c.getXYfromEvent(event),_fingers=c.countFingers(event),_first=!0,_event_start=event;var r=$(this)[0].getBoundingClientRect(),u=$(this)[0].clientTop||n.body.clientTop||0,a=$(this)[0].clientLeft||n.body.clientLeft||0,f=t.pageYOffset||$(this)[0].scrollTop||n.body.scrollTop,l=t.pageXOffset||$(this)[0].scrollLeft||n.body.scrollLeft;s={top:r.top+f-u,left:r.left+l-a},d=h.position(),v=e.pageX-d.left,m=e.pageY-d.top,g,y,start=!0,e.preventDefault()}).on("touchend.swipe.*",function(e){i.move=c.getXYfromEvent(event);if(!i.move)return;var t=i.move[0].x-i.start[0].x,n=i.move[0].y-i.start[0].y;_distance=Math.sqrt(t*t+n*n);var r=(new Date).getTime(),f=r-o;console.log(u,f,_distance,a);if(u>f&&_distance>a){_angle=c.getAngle(i.start[0],i.move[0]),_direction=c.getDirectionFromAngle(_angle),_gesture="swipe";var l={x:i.move[0].x-s.left,y:i.move[0].y-s.top},p={originalEvent:event,position:l,direction:_direction,distance:_distance,distanceX:t,distanceY:n,angle:_angle};typeof p.direction=="string"&&p.direction==="left"?h.trigger("swipeLeft",p):typeof p.direction=="string"&&p.direction==="right"?h.trigger("swipeRight",p):typeof p.direction=="string"&&p.direction==="up"?h.trigger("swipeUp",p):typeof p.direction=="string"&&p.direction==="down"&&h.trigger("swipeDown",p),h.trigger("swipe",p)}}),h.data("swipe",!0)}},$.fn.drag=function(e){var t=new l;return t.drag($(this),e)},$.fn.swipe=function(e){var t=new l;return t.swipe($(this),e)}}),jQuery.fn.motioncaptcha||function(e){function t(e){this.init(e)}function n(e,t){this.X=e,this.Y=t}function r(e,t){return new n(e,t)}function i(e,t,n,r){this.X=e,this.Y=t,this.Width=n,this.Height=r}function s(e,t){this.Name=e,this.Points=h(t,a);var n=p(this.Points);this.Points=d(this.Points,-n),this.Points=v(this.Points,f),this.Points=m(this.Points,l),this.Vector=g(this.Points)}function o(e,t){this.Name=e,this.Score=t}function c(){this.Templates=[],this.Templates.push(new s("triangle",[r(137,139),r(135,141),r(133,144),r(132,146),r(130,149),r(128,151),r(126,155),r(123,160),r(120,166),r(116,171),r(112,177),r(107,183),r(102,188),r(100,191),r(95,195),r(90,199),r(86,203),r(82,206),r(80,209),r(75,213),r(73,213),r(70,216),r(67,219),r(64,221),r(61,223),r(60,225),r(62,226),r(65,225),r(67,226),r(74,226),r(77,227),r(85,229),r(91,230),r(99,231),r(108,232),r(116,233),r(125,233),r(134,234),r(145,233),r(153,232),r(160,233),r(170,234),r(177,235),r(179,236),r(186,237),r(193,238),r(198,239),r(200,237),r(202,239),r(204,238),r(206,234),r(205,230),r(202,222),r(197,216),r(192,207),r(186,198),r(179,189),r(174,183),r(170,178),r(164,171),r(161,168),r(154,160),r(148,155),r(143,150),r(138,148),r(136,148)])),this.Templates.push(new s("x",[r(87,142),r(89,145),r(91,148),r(93,151),r(96,155),r(98,157),r(100,160),r(102,162),r(106,167),r(108,169),r(110,171),r(115,177),r(119,183),r(123,189),r(127,193),r(129,196),r(133,200),r(137,206),r(140,209),r(143,212),r(146,215),r(151,220),r(153,222),r(155,223),r(157,225),r(158,223),r(157,218),r(155,211),r(154,208),r(152,200),r(150,189),r(148,179),r(147,170),r(147,158),r(147,148),r(147,141),r(147,136),r(144,135),r(142,137),r(140,139),r(135,145),r(131,152),r(124,163),r(116,177),r(108,191),r(100,206),r(94,217),r(91,222),r(89,225),r(87,226),r(87,224)])),this.Templates.push(new s("rectangle",[r(78,149),r(78,153),r(78,157),r(78,160),r(79,162),r(79,164),r(79,167),r(79,169),r(79,173),r(79,178),r(79,183),r(80,189),r(80,193),r(80,198),r(80,202),r(81,208),r(81,210),r(81,216),r(82,222),r(82,224),r(82,227),r(83,229),r(83,231),r(85,230),r(88,232),r(90,233),r(92,232),r(94,233),r(99,232),r(102,233),r(106,233),r(109,234),r(117,235),r(123,236),r(126,236),r(135,237),r(142,238),r(145,238),r(152,238),r(154,239),r(165,238),r(174,237),r(179,236),r(186,235),r(191,235),r(195,233),r(197,233),r(200,233),r(201,235),r(201,233),r(199,231),r(198,226),r(198,220),r(196,207),r(195,195),r(195,181),r(195,173),r(195
,163),r(194,155),r(192,145),r(192,143),r(192,138),r(191,135),r(191,133),r(191,130),r(190,128),r(188,129),r(186,129),r(181,132),r(173,131),r(162,131),r(151,132),r(149,132),r(138,132),r(136,132),r(122,131),r(120,131),r(109,130),r(107,130),r(90,132),r(81,133),r(76,133)])),this.Templates.push(new s("circle",[r(127,141),r(124,140),r(120,139),r(118,139),r(116,139),r(111,140),r(109,141),r(104,144),r(100,147),r(96,152),r(93,157),r(90,163),r(87,169),r(85,175),r(83,181),r(82,190),r(82,195),r(83,200),r(84,205),r(88,213),r(91,216),r(96,219),r(103,222),r(108,224),r(111,224),r(120,224),r(133,223),r(142,222),r(152,218),r(160,214),r(167,210),r(173,204),r(178,198),r(179,196),r(182,188),r(182,177),r(178,167),r(170,150),r(163,138),r(152,130),r(143,129),r(140,131),r(129,136),r(126,139)])),this.Templates.push(new s("check",[r(91,185),r(93,185),r(95,185),r(97,185),r(100,188),r(102,189),r(104,190),r(106,193),r(108,195),r(110,198),r(112,201),r(114,204),r(115,207),r(117,210),r(118,212),r(120,214),r(121,217),r(122,219),r(123,222),r(124,224),r(126,226),r(127,229),r(129,231),r(130,233),r(129,231),r(129,228),r(129,226),r(129,224),r(129,221),r(129,218),r(129,212),r(129,208),r(130,198),r(132,189),r(134,182),r(137,173),r(143,164),r(147,157),r(151,151),r(155,144),r(161,137),r(165,131),r(171,122),r(174,118),r(176,114),r(177,112),r(177,114),r(175,116),r(173,118)])),this.Templates.push(new s("caret",[r(79,245),r(79,242),r(79,239),r(80,237),r(80,234),r(81,232),r(82,230),r(84,224),r(86,220),r(86,218),r(87,216),r(88,213),r(90,207),r(91,202),r(92,200),r(93,194),r(94,192),r(96,189),r(97,186),r(100,179),r(102,173),r(105,165),r(107,160),r(109,158),r(112,151),r(115,144),r(117,139),r(119,136),r(119,134),r(120,132),r(121,129),r(122,127),r(124,125),r(126,124),r(129,125),r(131,127),r(132,130),r(136,139),r(141,154),r(145,166),r(151,182),r(156,193),r(157,196),r(161,209),r(162,211),r(167,223),r(169,229),r(170,231),r(173,237),r(176,242),r(177,244),r(179,250),r(181,255),r(182,257)])),this.Templates.push(new s("zigzag",[r(307,216),r(333,186),r(356,215),r(375,186),r(399,216),r(418,186)])),this.Templates.push(new s("arrow",[r(68,222),r(70,220),r(73,218),r(75,217),r(77,215),r(80,213),r(82,212),r(84,210),r(87,209),r(89,208),r(92,206),r(95,204),r(101,201),r(106,198),r(112,194),r(118,191),r(124,187),r(127,186),r(132,183),r(138,181),r(141,180),r(146,178),r(154,173),r(159,171),r(161,170),r(166,167),r(168,167),r(171,166),r(174,164),r(177,162),r(180,160),r(182,158),r(183,156),r(181,154),r(178,153),r(171,153),r(164,153),r(160,153),r(150,154),r(147,155),r(141,157),r(137,158),r(135,158),r(137,158),r(140,157),r(143,156),r(151,154),r(160,152),r(170,149),r(179,147),r(185,145),r(192,144),r(196,144),r(198,144),r(200,144),r(201,147),r(199,149),r(194,157),r(191,160),r(186,167),r(180,176),r(177,179),r(171,187),r(169,189),r(165,194),r(164,196)])),this.Templates.push(new s("leftbracket",[r(140,124),r(138,123),r(135,122),r(133,123),r(130,123),r(128,124),r(125,125),r(122,124),r(120,124),r(118,124),r(116,125),r(113,125),r(111,125),r(108,124),r(106,125),r(104,125),r(102,124),r(100,123),r(98,123),r(95,124),r(93,123),r(90,124),r(88,124),r(85,125),r(83,126),r(81,127),r(81,129),r(82,131),r(82,134),r(83,138),r(84,141),r(84,144),r(85,148),r(85,151),r(86,156),r(86,160),r(86,164),r(86,168),r(87,171),r(87,175),r(87,179),r(87,182),r(87,186),r(88,188),r(88,195),r(88,198),r(88,201),r(88,207),r(89,211),r(89,213),r(89,217),r(89,222),r(88,225),r(88,229),r(88,231),r(88,233),r(88,235),r(89,237),r(89,240),r(89,242),r(91,241),r(94,241),r(96,240),r(98,239),r(105,240),r(109,240),r(113,239),r(116,240),r(121,239),r(130,240),r(136,237),r(139,237),r(144,238),r(151,237),r(157,236),r(159,237)])),this.Templates.push(new s("rightbracket",[r(112,138),r(112,136),r(115,136),r(118,137),r(120,136),r(123,136),r(125,136),r(128,136),r(131,136),r(134,135),r(137,135),r(140,134),r(143,133),r(145,132),r(147,132),r(149,132),r(152,132),r(153,134),r(154,137),r(155,141),r(156,144),r(157,152),r(158,161),r(160,170),r(162,182),r(164,192),r(166,200),r(167,209),r(168,214),r(168,216),r(169,221),r(169,223),r(169,228),r(169,231),r(166,233),r(164,234),r(161,235),r(155,236),r(147,235),r(140,233),r(131,233),r(124,233),r(117,235),r(114,238),r(112,238)])),this.Templates.push(new s("v",[r(89,164),r(90,162),r(92,162),r(94,164),r(95,166),r(96,169),r(97,171),r(99,175),r(101,178),r(103,182),r(106,189),r(108,194),r(111,199),r(114,204),r(117,209),r(119,214),r(122,218),r(124,222),r(126,225),r(128,228),r(130,229),r(133,233),r(134,236),r(136,239),r(138,240),r(139,242),r(140,244),r(142,242),r(142,240),r(142,237),r(143,235),r(143,233),r(145,229),r(146,226),r(148,217),r(149,208),r(149,205),r(151,196),r(151,193),r(153,182),r(155,172),r(157,165),r(159,160),r(162,155),r(164,150),r(165,148),r(166,146)])),this.Templates.push(new s("delete",[r(123,129),r(123,131),r(124,133),r(125,136),r(127,140),r(129,142),r(133,148),r(137,154),r(143,158),r(145,161),r(148,164),r(153,170),r(158,176),r(160,178),r(164,183),r(168,188),r(171,191),r(175,196),r(178,200),r(180,202),r(181,205),r(184,208),r(186,210),r(187,213),r(188,215),r(186,212),r(183,211),r(177,208),r(169,206),r(162,205),r(154,207),r(145,209),r(137,210),r(129,214),r(122,217),r(118,218),r(111,221),r(109,222),r(110,219),r(112,217),r(118,209),r(120,207),r(128,196),r(135,187),r(138,183),r(148,167),r(157,153),r(163,145),r(165,142),r(172,133),r(177,127),r(179,127),r(180,125)])),this.Templates.push(new s("star",[r(75,250),r(75,247),r(77,244),r(78,242),r(79,239),r(80,237),r(82,234),r(82,232),r(84,229),r(85,225),r(87,222),r(88,219),r(89,216),r(91,212),r(92,208),r(94,204),r(95,201),r(96,196),r(97,194),r(98,191),r(100,185),r(102,178),r(104,173),r(104,171),r(105,164),r(106,158),r(107,156),r(107,152),r(108,145),r(109,141),r(110,139),r(112,133),r(113,131),r(116,127),r(117,125),r(119,122),r(121,121),r(123,120),r(125,122),r(125,125),r(127,130),r(128,133),r(131,143),r(136,153),r(140,163),r(144,172),r(145,175),r(151,189),r(156,201),r(161,213),r(166,225),r(169,233),r(171,236),r(174,243),r(177,247),r(178,249),r(179,251),r(180,253),r(180,255),r(179,257),r(177,257),r(174,255),r(169,250),r(164,247),r(160,245),r(149,238),r(138,230),r(127,221),r(124,220),r(112,212),r(110,210),r(96,201),r(84,195),r(74,190),r(64,182),r(55,175),r(51,172),r(49,170),r(51,169),r(56,169),r(66,169),r(78,168),r(92,166),r(107,164),r(123,161),r(140,162),r(156,162),r(171,160),r(173,160),r(186,160),r(195,160),r(198,161),r(203,163),r(208,163),r(206,164),r(200,167),r(187,172),r(174,179),r(172,181),r(153,192),r(137,201),r(123,211),r(112,220),r(99,229),r(90,237),r(80,244),r(73,250),r(69,254),r(69,252)])),this.Templates.push(new s("pigtail",[r(81,219),r(84,218),r(86,220),r(88,220),r(90,220),r(92,219),r(95,220),r(97,219),r(99,220),r(102,218),r(105,217),r(107,216),r(110,216),r(113,214),r(116,212),r(118,210),r(121,208),r(124,205),r(126,202),r(129,199),r(132,196),r(136,191),r(139,187),r(142,182),r(144,179),r(146,174),r(148,170),r(149,168),r(151,162),r(152,160),r(152,157),r(152,155),r(152,151),r(152,149),r(152,146),r(149,142),r(148,139),r(145,137),r(141,135),r(139,135),r(134,136),r(130,140),r(128,142),r(126,145),r(122,150),r(119,158),r(117,163),r(115,170),r(114,175),r(117,184),r(120,190),r(125,199),r(129,203),r(133,208),r(138,213),r(145,215),r(155,218),r(164,219),r(166,219),r(177,219),r(182,218),r(192,216),r(196,213),r(199,212),r(201,211)])),this.Recognize=function(e){var t=+Infinity,n=0,r,i,s,u;e=h(e,a),r=p(e),e=d(e,-r),u=g(e);for(i=0;i<this.Templates.length;i++){var f=y(this.Templates[i].Vector,u);f<t&&(t=f,n=i)}return new o(this.Templates[n].Name,1/t)}}function h(e,t){var n=E(e)/(t-1),i=0,s=new Array(e[0]),o;for(o=1;o<e.length;o++){var u=S(e[o-1],e[o]);if(i+u>=n){var a=e[o-1].X+(n-i)/u*(e[o].X-e[o-1].X),f=e[o-1].Y+(n-i)/u*(e[o].Y-e[o-1].Y),l=r(a,f);s[s.length]=l,e.splice(o,0,l),i=0}else i+=u}return s.length==t-1&&(s[s.length]=r(e[e.length-1].X,e[e.length-1].Y)),s}function p(e){var t=b(e);return Math.atan2(t.Y-e[0].Y,t.X-e[0].X)}function d(e,t){var n=b(e),i=Math.cos(t),s=Math.sin(t),o=[],u;for(u=0;u<e.length;u++){var a=(e[u].X-n.X)*i-(e[u].Y-n.Y)*s+n.X,f=(e[u].X-n.X)*s+(e[u].Y-n.Y)*i+n.Y;o[o.length]=r(a,f)}return o}function v(e,t){var n=w(e),i=[],s;for(s=0;s<e.length;s++){var o=e[s].X*(t/n.Width),u=e[s].Y*(t/n.Height);i[i.length]=r(o,u)}return i}function m(e,t){var n=b(e),i=[],s;for(s=0;s<e.length;s++){var o=e[s].X+t.X-n.X,u=e[s].Y+t.Y-n.Y;i[i.length]=r(o,u)}return i}function g(e){var t=0,n=[],r,i;for(r=0;r<e.length;r++)n[n.length]=e[r].X,n[n.length]=e[r].Y,t+=e[r].X*e[r].X+e[r].Y*e[r].Y;i=Math.sqrt(t);for(r=0;r<n.length;r++)n[r]/=i;return n}function y(e,t){var n=0,r=0,i,s;for(i=0;i<e.length;i+=2)n+=e[i]*t[i]+e[i+1]*t[i+1],r+=e[i]*t[i+1]-e[i+1]*t[i];return s=Math.atan(r/n),Math.acos(n*Math.cos(s)+r*Math.sin(s))}function b(e){var t=0,n=0,i;for(i=0;i<e.length;i++)t+=e[i].X,n+=e[i].Y;return t/=e.length,n/=e.length,r(t,n)}function w(e){var t=+Infinity,n=-Infinity,r=+Infinity,s=-Infinity,o;for(o=0;o<e.length;o++)e[o].X<t&&(t=e[o].X),e[o].X>n&&(n=e[o].X),e[o].Y<r&&(r=e[o].Y),e[o].Y>s&&(s=e[o].Y);return new i(t,r,n-t,s-r)}function E(e){var t=0,n;for(n=1;n<e.length;n++)t+=S(e[n-1],e[n]);return t}function S(e,t){var n=t.X-e.X,r=t.Y-e.Y;return Math.sqrt(n*n+r*r)}e.fn.motioncaptcha=function(n){return this.each(function(){function T(e){var t,n;return typeof e.touches=="object"&&e.touches.length>0?(t=e.touches[0].pageX-l.offset().left+d,n=e.touches[0].pageY-l.offset().top+v):e.offsetX?(t=e.offsetX-d,n=e.offsetY-v):(t=e.pageX-l.offset().left-d,n=e.pageY-l.offset().top-v),[t,n]}var i=e.extend({},e.fn.motioncaptcha.defaults,n);i.actionId="#"+i.actionId.replace(/\#/g,""),i.canvasId="#"+i.canvasId.replace(/\#/g,""),i.divId="#"+i.divId.replace(/\#/g,""),i.submitId=i.submitId?"#"+i.submitId.replace(/\#/g,""):!1;var s,o=!1,u=e("body"),a=e(this),f=e(i.divId),l=e(i.canvasId),h=l.width(),p=l.height(),d=parseInt(l.css("borderLeftWidth").replace("px","")),v=parseInt(l.css("borderTopWidth").replace("px",""));l[0].width=h,l[0].height=p;var m=l[0].getContext("2d");m.canvasWidth=h,m.canvasHeight=p,m.font=i.canvasFont,m.fillStyle=i.canvasTextColor,l.addClass(i.shapes[Math.floor(Math.random()*i.shapes.length)]);var g=!1,y=!1,b=[],w=new c;s=new t(m);var E=function(t){if(o)return!1;t.preventDefault();var n=T(t),i=n[0],u=n[1];return g=!0,y=!0,e("body").addClass("mc-noselect"),m.clearRect(0,0,h,p),s.strokeStart(i,u),l.removeClass("mc-invalid mc-valid"),b=[r(i,u)],!1},S=function(e){if(y)return y=0;if(!o&&g){e.preventDefault();var t=T(e),n=t[0],i=t[1];b[b.length]=r(n,i),s.stroke(n,i)}return!1},x=function(t){if(!o&&g){g=!1,e("body").removeClass("mc-noselect");if(b.length>=10){var n=w.Recognize(b);l.attr("class").match(n.Name)&&n.Score>.7?(o=1,setTimeout(s.destroy,500),l.addClass("mc-valid"),m.fillText(i.successMsg,10,24),i.onSuccess(a,l,m)):(l.addClass("mc-invalid"),m.fillText(i.errorMsg,10,24),i.onError(a,l,m))}else l.addClass("mc-invalid"),m.fillText(i.errorMsg,10,24),i.onError(a,l,m)}return!1};"ontouchstart"in window||l.bind({mousedown:E,mousemove:S,mouseup:x}),l[0].addEventListener("touchstart",E,!1),l[0].addEventListener("touchmove",S,!1),l[0].addEventListener("touchend",x,!1),a.addClass(i.cssClass.replace(/\./,""))})},e.fn.motioncaptcha.defaults={actionId:"#mc-action",divId:"#mc",canvasId:"#mc-canvas",submitId:!1,cssClass:".mc-active",shapes:["triangle","x","rectangle","circle","check","caret","zigzag","arrow","leftbracket","rightbracket","v","delete","star","pigtail"],canvasFont:"15px 'Lucida Grande'",canvasTextColor:"#111",errorMsg:"Please try again.",successMsg:"Captcha passed!",noCanvasMsg:"Your browser doesn't support <canvas> - try Chrome, FF4, Safari or IE9.",label:"<p>Please draw the shape in the box to submit the form:</p>",onSuccess:function(t,n,r){var i=this,s=i.submitId?t.find(i.submitId):t.find("input[type=submit]:disabled");t.attr("action",e(i.actionId).val()),s.prop("disabled",!1)},onError:function(e,t,n){var r=this}},t.prototype={context:null,prevMouseX:null,prevMouseY:null,init:function(e){this.context=e,this.context.globalCompositeOperation="source-over",this.context.lineWidth=3},destroy:function(){},strokeStart:function(e,t){COLOR=[0,0,0],this.prevMouseX=e,this.prevMouseY=t,this.context.strokeStyle="rgba("+COLOR[0]+", "+COLOR[1]+", "+COLOR[2]+", 0.5)"},stroke:function(e,t){this.context.beginPath(),this.context.moveTo(this.prevMouseX,this.prevMouseY),this.context.lineTo(e,t),this.context.stroke(),this.prevMouseX=e,this.prevMouseY=t},strokeEnd:function(){}};var u=16,a=64,f=250,l=r(0,0)}(jQuery),function(e,t,n){typeof define=="function"&&define.amd?define(["jquery"],function(r){n(r,e,t)}):n(e.jQuery,e,t)}(this,document,function(e,t,n,r){function s(e,t){var n=Math.pow(10,t);return Math.round(e*n)/n}function o(e,t){var n=parseInt(e.css(t),10);if(n)return n;var r=e[0].currentStyle;return r&&r.width&&parseInt(r.width,10)}function u(e){var t=e.data("events");return t&&t.onSlide}function a(e,n){function T(t,o,u,a){u===r?u=o/p*g:a&&(u-=n.min),y&&(u=Math.round(u/y)*y);if(o===r||y)o=u*p/g;if(isNaN(u))return i;o=Math.max(0,Math.min(o,p)),u=o/p*g;if(a||!l)u+=n.min;l&&(a?o=p-o:u=n.max-u),u=s(u,b);var f=t.type=="click";if(x&&c!==r&&!f){t.type="onSlide",S.trigger(t,[u,o]);if(t.isDefaultPrevented())return i}var h=f?n.speed:0,w=f?function(){t.type="change",S.trigger(t,[u])}:null;return e[0].value==u?i:(l?(this.progressHeight=p-o+v.height()/2,$.browser.os==="IOS"&&$.browser.version>4?v.animate({top:o},h,w):v.transition({y:o},h,w)):(this.progressWidth=o+v.width()/2,$.browser.os==="IOS"&&$.browser.version>4?v.animate({left:o},h,w):v.transition({x:o},h,w),n.progress&&m.css({width:this.progressWidth})),c=u,d=o,!this.insertingValue&&e[0].value!=u?(this.insertingValue=!0,e[0].value=u,this.insertingValue=!1,i):i)}function N(){l=n.vertical||o(f,"height")>o(f,"width"),l?(p=o(f,"height")-o(v,"height"),h=f.offset().top+p):(p=o(f,"width")-o(v,"width"),h=f.offset().left)}function C(){N(),i.setValue(n.value!==r?n.value:n.min)}var i=this,a=n.css,f=$("<div><div></div><button></button></div>").data("rangeinput",i),l,c,h,p,d;e.before(f);var v=f.addClass(a.slider).find("button").addClass(a.handle),m=f.find("div").addClass(a.progress);$.each("min,max,step,value".split(","),function(t,r){var i=e.attr(r);parseFloat(i)&&(n[r]=parseFloat(i,10))});var g=n.max-n.min,y=n.step=="any"?0:n.step,b=n.precision;b===r&&(b=y.toString().split("."),b=b.length===2?b[1].length:0);if(e.attr("type")=="range"){var w=e.clone().wrap("<div/>").parent().html(),E=$(w.replace(/type/i,"type=tel data-orig-type"));E.addClass("figure inline"),E.val(n.value),e.replaceWith(E),e=E}e.addClass(a.input),n.inputShow?(f.addClass("inline"),f.css({width:f.width()-e.width()*2,marginRight:e.width()*.25,"float":"left"})):e.css({position:"absolute",left:"-10000em"});var S=$(i).add(e),x=!0;$.extend(i,{getValue:function(){return c},setValue:function(e,t){return N(),T(t||$.Event("api"),r,e,!0)},getConf:function(){return n},getProgress:function(){return m},getHandle:function(){return v},getInput:function(){return e},step:function(e,t){t=t||$.Event();var r=n.step=="any"?1:n.step;i.setValue(c+r*(e||1),t)},stepUp:function(e){return i.step(e||1)},stepDown:function(e){return i.step(-e||-1)}}),$.each("onSlide,change".split(","),function(e,t){$.isFunction(n[t])&&$(i).on(t,n[t]),i[t]=function(e){return e&&$(i).on(t,e),i}}),v.drag({drag:!1}).on("dragStart",function(){N(),x=u($(i))||u(e)}).on("drag",function(t,n,r){if(e.is(":disabled"))return!1;T(t,l?n:r)}).on("dragEnd",function(e){e.isDefaultPrevented()||(e.type="change",S.trigger(e,[c]))}).click(function(e){return e.preventDefault()}),f.click(function(t){if(e.is(":disabled")||t.target==v[0])return t.preventDefault();N();var n=l?v.height()/2:v.width()/2;T(t,l?p-h-n+t.pageY:t.pageX-h-n)}),n.keyboard&&e.keydown(function(t){if(e.attr("readonly"))return;var n=t.keyCode,r=$([75,76,38,33,39]).index(n)!=-1,s=$([74,72,40,34,37]).index(n)!=-1;if((r||s)&&!(t.shiftKey||t.altKey||t.ctrlKey))return r?i.step(n==33?10:1,t):s&&i.step(n==34?-10:-1,t),t.preventDefault()}),e.blur(function(e){var t=$(this).val();t!==c&&i.setValue(t,e)}),$.extend(e[0],{stepUp:i.stepUp,stepDown:i.stepDown}),C(),p||$(t).load(C)}var i={min:0,max:100,step:"any",steps:0,value:0,precision:r,vertical:0,keyboard:!1,progress:!1,speed:100,inputShow:!1,css:{input:"range",slider:"slider",progress:"slider-bar",handle:"slide-handle"}};$.expr[":"].range=function(e){var t=e.getAttribute("type");return t&&t=="range"||!!$(e).filter("input").data("rangeinput")},$.fn.rangeinput=function(e){if(this.data("rangeinput"))return this;e=$.extend(!0,{},i,e);var t;return this.each(function(){var n=new a($(this),$.extend(!0,{},e)),r=n.getInput().data("rangeinput",n);t=t?t.add(r):r}),t?t:this},navigator.userAgent.match("Android.*/4.0 Mobile Safari/")?$("input[type=range]").each(function(e){var t=$(this).data("rangeOptions");$(this).addClass("range-android").parent().addClass("range-android");if(typeof t=="object"&&t.inputShow){var n=$(this),r=$("<input type='tel' value='"+n.val()+"' class='widget-range btn-block figure range inline' />");n.on("change",function(){r.val($(this).val())}),r.insertAfter(n).on("change",function(e){n.val($(this).val())}),n.addClass("inline"),n.css({width:n.width()-r.width()*2,marginRight:r.width()*.2,"float":"left"}),r.removeClass("btn-block")}}):$("input[type=range]").each(function(e){var t=$(this).data("rangeOptions");$(this).rangeinput(t)})}),function(){var e=function(e){function t(e){var t,n,r=e.css("color"),i;while(i===n&&e!==n){try{t=e.css("background-color")}catch(s){t="transparent"}t!=="transparent"&&t!=="rgba(0, 0, 0, 0)"&&(i=t);try{e=e.parent(),e[0]===document&&(e=n)}catch(o){e=n}}var u=/rgb[a]*\((\d+),\s*(\d+),\s*(\d+)/,a=/#([AaBbCcDdEeFf\d]{2})([AaBbCcDdEeFf\d]{2})([AaBbCcDdEeFf\d]{2})/,f;t=n,t=r.match(u),t?f={r:parseInt(t[1],10),g:parseInt(t[2],10),b:parseInt(t[3],10)}:(t=r.match(a),t&&(f={r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}));var l;i?(t=n,t=i.match(u),t?l={r:parseInt(t[1],10),g:parseInt(t[2],10),b:parseInt(t[3],10)}:(t=i.match(a),t&&(l={r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}))):f?Math.max.apply(null,[f.r,f.g,f.b])>127?l={r:0,g:0,b:0}:l={r:255,g:255,b:255}:l={r:255,g:255,b:255};var c=function(e){return"rgb("+[e.r,e.g,e.b].join(", ")+")"},h,p,d;if(f&&l){var v=Math.max.apply(null,[f.r,f.g,f.b]);p=Math.max.apply(null,[l.r,l.g,l.b]),d=Math.round(p+ -1*(p-v)*.75),h={r:d,g:d,b:d}}else if(f){p=Math.max.apply(null,[f.r,f.g,f.b]);var m=1;p>127&&(m=-1),d=Math.round(p+m*96),h={r:d,g:d,b:d}}else h={r:191,g:191,b:191};return{color:r,"background-color":l?c(l):i,"decor-color":c(h)}}function n(e,t){this.x=e,this.y=t,this.reverse=function(){return new this.constructor(this.x*-1,this.y*-1)},this._length=null,this.getLength=function(){return this._length||(this._length=Math.sqrt(Math.pow(this.x,2)+Math.pow(this.y,2))),this._length};var n=function(e){return Math.round(e/Math.abs(e))};this.resizeTo=function(e){if(this.x===0&&this.y===0)this._length=0;else if(this.x===0)this._length=e,this.y=e*n(this.y);else if(this.y===0)this._length=e,this.x=e*n(this.x);else{var t=Math.abs(this.y/this.x),r=Math.sqrt(Math.pow(e,2)/(1+Math.pow(t,2))),i=t*r;this._length=e,this.x=r*n(this.x),this.y=i*n(this.y)}return this},this.angleTo=function(e){var t=this.getLength()*e.getLength();return t===0?0:Math.acos(Math.min(Math.max((this.x*e.x+this.y*e.y)/t,-1),1))/Math.PI}}function r(e,t){this.x=e,this.y=t,this.getVectorToCoordinates=function(e,t){return new n(e-this.x,t-this.y)},this.getVectorFromCoordinates=function(e,t){return this.getVectorToCoordinates(e,t).reverse()},this.getVectorToPoint=function(e){return new n(e.x-this.x,e.y-this.y)},this.getVectorFromPoint=function(e){return this.getVectorToPoint(e).reverse()}}function i(e){this.data=e,this.changed=function(){},this.startStrokeFn=function(){},this.addToStrokeFn=function(){},this.endStrokeFn=function(){},this.inStroke=!1,this._lastPoint=null,this._stroke=null,this.startStroke=function(e){if(e&&typeof e.x=="number"&&typeof e.y=="number"){this._stroke={x:[e.x],y:[e.y]},this.data.push(this._stroke),this._lastPoint=e,this.inStroke=!0;var t=this._stroke,n=this.startStrokeFn;return setTimeout(function(){n(t)},3),e}return null},this.addToStroke=function(e){if(this.inStroke&&typeof e.x=="number"&&typeof e.y=="number"&&Math.abs(e.x-this._lastPoint.x)+Math.abs(e.y-this._lastPoint.y)>4){var t=this._stroke.x.length;this._stroke.x.push(e.x),this._stroke.y.push(e.y),this._lastPoint=e;var n=this._stroke,r=this.addToStrokeFn;return setTimeout(function(){r(n,t)},3),e}return null},this.endStroke=function(){var e=this.inStroke;this.inStroke=!1,this._lastPoint=null;if(e){var t=this.endStrokeFn,n=this._stroke;setTimeout(function(){t(n)},3);var r=this.changed;return setTimeout(r,3),!0}return null}}function f(e,t,n){"use strict";var r=new Image,i=this;r.onload=function(){var e=i.getContext("2d").drawImage(r,0,0,r.width<i.width?r.width:i.width,r.height<i.height?r.height:i.height)},r.src="data:"+t+","+e}function c(e){return this.find("canvas."+s).add(this.filter("canvas."+s)).data(s+".reset")(e),this}function h(e,t){var n;if(t===n&&typeof e=="string"&&e.substr(0,5)==="data:"){t=e.slice(5).split(",")[0],e=e.slice(6+t.length);if(t===e)return}var r=this.find("canvas."+s).add(this.filter("canvas."+s));if(!l.hasOwnProperty(t))throw new Error(s+" is unable to find import plugin with for format '"+String(t)+"'");return r.length!==0&&l[t].call(r[0],e,t,r.data(s+".reset")),this}var s="sign",o={},u=function(u){var a={},f={width:"ratio",height:"ratio",sizeRatio:4,color:"#000","background-color":"#fff","decor-color":"#eee",lineWidth:0,minFatFingerCompensation:-10},l=e(this);e.extend(f,t(l)),u&&e.extend(f,u),f.width===f.height&&f.height==="ratio"&&(f.width="100%");var c=document.createElement("canvas");c.style.width=f.width==="ratio"?"1px":f.width.toString(10),c.style.height=f.height==="ratio"?"1px":f.height.toString(10);var h=e(c);h.appendTo(l),f.height==="ratio"?c.style.height=Math.round(c.offsetWidth/f.sizeRatio).toString(10)+"px":f.width==="ratio"&&(c.style.width=Math.round(c.offsetHeight*f.sizeRatio).toString(10)+"px"),c.width=c.offsetWidth,c.height=c.offsetHeight,h.addClass(s);var p=function(){if(c.getContext)return!1;if(typeof FlashCanvas!="undefined"){c=FlashCanvas.initElement(c);var e=1;return window&&window.screen&&window.screen.deviceXDPI&&window.screen.logicalXDPI&&(e=window.screen.deviceXDPI*1/window.screen.logicalXDPI),e!==1&&(h.children("object").get(0).resize(Math.ceil(c.width*e),Math.ceil(c.height*e)),c.getContext("2d").scale(e,e)),!0}throw new Error("Canvas element does not support 2d context. "+s+" cannot proceed.")}();f.lineWidth=function(e,t){return e===0?Math.max(Math.round(t/400),2):e}(f.lineWidth,c.width);var d=c.width<600?!0:!1;c.onselectstart=function(e){return e&&e.preventDefault&&e.preventDefault(),e&&e.stopPropagation&&e.stopPropagation(),!1},f.cssclass&&e.trim(f.cssclass)!=""&&h.addClass(f.cssclass);var v=c.getContext("2d"),m,g,y,b,w,E,S,x=Math.round(f.lineWidth/2)*-1,T=function(e,t){v.fillStyle=f.color,v.fillRect(e+x,t+x,f.lineWidth,f.lineWidth),v.fillStyle=f["background-color"]},N=function(e,t,n,r){v.beginPath(),v.moveTo(e,t),v.lineTo(n,r),v.stroke()},C=function(e,t,n,r,i,s,o,u){v.beginPath(),v.moveTo(e,t),v.bezierCurveTo(i,s,o,u,n,r),v.stroke()},k=function(e){var t=c.width,n=c.height;v.clearRect(0,0,t+30,n+30),v.shadowColor=v.fillStyle=f["background-color"],p&&v.fillRect(0,0,t+30,n+30),v.lineWidth=Math.ceil(parseInt(f.lineWidth,10)),v.lineCap=v.lineJoin="round";var r=Math.round(n/5);v.strokeStyle=f["decor-color"],v.shadowOffsetX=0,v.shadowOffsetY=0,N(r*1.5,n-r,t-r*1.5,n-r),v.strokeStyle=f.color,!p&&!d&&(v.shadowColor=v.strokeStyle,v.shadowOffsetX=v.lineWidth*.5,v.shadowOffsetY=v.lineWidth*-0.6,v.shadowBlur=0);if(e===g)e=[];else{var o=e.length,u,a;for(var E=0;E<o;E++){u=e[E],a=u.x.length,y(u);for(var S=1;S<a;S++)b(u,S);w(u)}}return m=new i(e),m.startStrokeFn=y,m.addToStrokeFn=b,m.endStrokeFn=w,m.changed=function(){l.trigger("change")},h.data(s+".data",e),f.data=e,h.data(s+".settings",f),!0},L=null,A=function(){clearTimeout(L)},O=function(e){try{e.preventDefault()}catch(t){}A(),m.endStroke()},M=function(){clearTimeout(L),L=setTimeout(O,750)},_=function(){var e=h.offset();E=e.left*-1,S=e.top*-1},D=0,P=function(e){var t=e.changedTouches&&e.changedTouches.length>0?e.changedTouches[0]:e;return new r(Math.round(t.pageX+E),Math.round(t.pageY+S)+D)},H=function(e){e.preventDefault(),_(),m.startStroke(P(e)),M()},B=function(e){e.preventDefault();if(!m.inStroke)return;var t=m.addToStroke(P(e));t&&M()},j=f.lineWidth*3;y=function(e){T(e.x[0],e.y[0])},b=function(e,t){var i=new r(e.x[t-1],e.y[t-1]),s=new r(e.x[t],e.y[t]),o=i.getVectorToPoint(s);if(t>1){var u=new r(e.x[t-2],e.y[t-2]),a=u.getVectorToPoint(i),f;if(a.getLength()>j){t>2?f=(new r(e.x[t-3],e.y[t-3])).getVectorToPoint(u):f=new n(0,0);var l=.05,c=a.getLength()*.35,h=a.angleTo(f.reverse()),p=o.angleTo(a.reverse()),d=(new n(f.x+a.x,f.y+a.y)).resizeTo(Math.max(l,h)*c),v=(new n(a.x+o.x,a.y+o.y)).reverse().resizeTo(Math.max(l,p)*c);C(u.x,u.y,i.x,i.y,u.x+d.x,u.y+d.y,i.x+v.x,i.y+v.y)}}o.getLength()<=j&&N(i.x,i.y,s.x,s.y)},w=function(e){var t=e.x.length-1;if(t>0){var i=new r(e.x[t],e.y[t]),s=new r(e.x[t-1],e.y[t-1]),o=s.getVectorToPoint(i),u;if(o.getLength()>j)if(t>1){u=(new r(e.x[t-2],e.y[t-2])).getVectorToPoint(s);var a=(new n(u.x+o.x,u.y+o.y)).resizeTo(o.getLength()/2);C(s.x,s.y,i.x,i.y,s.x+a.x,s.y+a.y,i.x,i.y)}else N(s.x,s.y,i.x,i.y)}},p?h.bind("mousedown."+s,function(e){h.unbind("mousedown."+s),H(e),h.bind("mousemove."+s,B),h.bind("mouseup."+s,O),h.bind("mousedown."+s,H)}):(c.ontouchstart=function(e){c.onmousedown=null,c.onmouseup=null,c.onmousemove=null,D=f.minFatFingerCompensation&&f.lineWidth*-3>f.minFatFingerCompensation?f.lineWidth*-3:f.minFatFingerCompensation,H(e),c.ontouchend=O,c.ontouchstart=H,c.ontouchmove=B},c.onmousedown=function(e){c.ontouchstart=null,c.ontouchend=null,c.ontouchmove=null,H(e),c.onmousedown=H,c.onmouseup=O,c.onmousemove=B}),h.data(s+".reset",k);if(function(e){return e==="ratio"||e.split("")[e.length-1]==="%"}(f.width.toString(10)))a[s+".parentresized"]=e.fn[s]("PubSub").subscribe(s+".parentresized",function(e,t,n,r,i){"use strict";return function(){var i=n.width();if(i!==r){var s=n[t]("PubSub");for(var o in e)e.hasOwnProperty(o)&&(s.unsubscribe(e[o]),delete e[o]);var u=n.find("canvas"),a=u.data(t+".settings");u.remove(),a.data=function(e,t){var n=[],r,i,s,o,u,a;for(i=0,s=e.length;i<s;i++){a=e[i],r={x:[],y:[]};for(o=0,u=a.x.length;o<u;o++)r.x.push(a.x[o]*t),r.y.push(a.y[o]*t);n.push(r)}return n}(a.data,i*1/r),n[t](a)}}}(a,s,l,l.width(),c.width*1/c.height));o.windowresize||(o.windowresize=!0,function(e,t,n){"use strict";var r,i=function(){t.fn[e]("PubSub").publish(e+".parentresized")};t(n).bind("resize."+e,function(){r&&clearTimeout(r),r=setTimeout(i,700)})}(s,e,window)),a[s+".windowmouseup"]=e.fn[s]("PubSub").subscribe(s+".windowmouseup",O),o.windowmouseup||(o.windowmouseup=!0,function(e,t,n){"use strict";t(n).bind("mouseup."+e,function(n){t.fn[e]("PubSub").publish(e+".windowmouseup",n)})}(s,e,window)),k(f.data)},a={"default":function(e){return this.toDataURL()},"native":function(e){return e},image:function(e){var t=this.toDataURL();if(typeof t=="string"&&t.length>4&&t.slice(0,5)==="data:"&&t.indexOf(",")!==-1){var n=t.indexOf(",");return[t.slice(5,n),t.substr(n+1)]}return[]}},l={"native":function(e,t,n){n(e)},image:f,"image/png;base64":f,"image/jpeg;base64":f,"image/jpg;base64":f},p=new function(){"use strict";this.topics={},this.publish=function(e,t,n,r){if(this.topics[e]){var i=this.topics[e],s=Array.prototype.slice.call(arguments,1);for(var o=0,u=i.length;o<u;o++)i[o].apply(null,s)}},this.subscribe=function(e,t){return this.topics[e]?this.topics[e].push(t):this.topics[e]=[t],{topic:e,callback:t}},this.unsubscribe=function(e){if(this.topics[e.topic]){var t=this.topics[e.topic];for(var n=0,r=t.length;n<r;n++)t[n]===e.callback&&t.splice(n,1)}}},d={init:function(e){return this.each(function(){u.call(this,e)})},getSettings:function(){var e,t=this.find("canvas."+s).add(this.filter("canvas."+s));return t.data(s+".settings")},clear:c,reset:c,addPlugin:function(e,t,n){var r={"export":a,"import":l};return r.hasOwnProperty(e)&&(r[e][t]=n),this},listPlugins:function(e){var t={"export":a,"import":l},n=[];if(t.hasOwnProperty(e)){var r=t[e];for(var i in r)r.hasOwnProperty(i)&&n.push(i)}return n},getData:function(e){var t,n=this.find("canvas."+s).add(this.filter("canvas."+s));e===t&&(e="default");if(n.length!==0&&a.hasOwnProperty(e))return a[e].call(n.get(0),n.data(s+".data"))},importData:h,setData:h,PubSub:function(){return p}};e.fn[s]=function(t){"use strict";if(!t||typeof t=="object")return d.init.apply(this,arguments);if(typeof t=="string"&&d[t])return d[t].apply(this,Array.prototype.slice.call(arguments,1));e.error("Method "+String(t)+" does not exist on jQuery."+s)}};e(this.jQuery)}(jQuery,window),function(e,t,n){typeof define=="function"&&define.amd?define(["jquery"],function(r){n(r,e,t)}):n(e.jQuery,e,t)}(this,document,function(e,t,n,r){var i=function(e,t){this.$element=$(e),this.options=$.extend({},$.fn.spinner.defaults,t)};i.prototype.setState=function(e){var t="disabled",n=this.$element,r=n.data(),i=n.is("input")?"val":"html";e+="Text",r.resetText||n.data("resetText",n[i]()),n[i](r[e]||this.options[e]),setTimeout(function(){e=="loadingText"?n.addClass(t).attr(t,t):n.removeClass(t).removeAttr(t)},0)},i.prototype.toggle=function(){console.log("toggle");var e=this.$element.parent("[data-toggle='buttons-radio']");e&&e.find(".active").removeClass("active"),this.$element.toggleClass("active")},i.prototype.show=function(){this.showText(),$("div.widget-spinner").show()},i.prototype.showAll=function(){this.showText(),$("div.widget-spinner").addClass("all").show()},i.prototype.showText=function(){var e=this.$element.data("spinner-text");if(typeof e!="string"&&$.trim(e).length<1)return!1;$("div.widget-spinner div.spinner-center").attr({"data-content":e}),console.log(e)},i.prototype.removeText=function(){$("div.widget-spinner div.spinner-center").attr({"data-content":""})},i.prototype.hide=function(){this.removeText(),$("div.widget-spinner").removeClass("all").hide()},$.fn.spinner=function(e){return this.each(function(){var t=$(this),n=t.data("spinner"),r=typeof e=="object"&&e;n||t.data("spinner",n=new i(this,r)),e=="show"?n.show():e=="showAll"?n.showAll():e=="hide"?n.hide():e&&n.setState(e)})},$.fn.spinner.defaults={loadingText:"loading..."},$.fn.spinner.Constructor=i}),function(){function e(e,t){try{for(var n in t)Object.defineProperty(e.prototype,n,{value:t[n],enumerable:!1})}catch(r){e.prototype=t}}function t(e){var t=-1,n=e.length,r=[];while(++t<n)r.push(e[t]);return r}function n(e){return Array.prototype.slice.call(e)}function r(){}function i(e){return e}function s(){return this}function o(){return!0}function u(e){return typeof e=="function"?e:function(){return e}}function a(e,t,n){return function(){var r=n.apply(t,arguments);return arguments.length?e:r}}function f(e){return e!=null&&!isNaN(e)}function l(e){return e.length}function c(e){return e==null}function h(e){return e.trim().replace(/\s+/g," ")}function p(e){var t=1;while(e*t%1)t*=10;return t}function d(){}function v(e){function t(){var t=n,r=-1,i=t.length,s;while(++r<i)(s=t[r].on)&&s.apply(this,arguments);return e}var n=[],i=new r;return t.on=function(t,r){var s=i.get(t),o;return arguments.length<2?s&&s.on:(s&&(s.on=null,n=n.slice(0,o=n.indexOf(s)).concat(n.slice(o+1)),i.remove(t)),r&&n.push(i.set(t,{on:r})),e)},t}function m(e,t){return t-(e?1+Math.floor(Math.log(e+Math.pow(10,1+Math.floor(Math.log(e)/Math.LN10)-t))/Math.LN10):1)}function g(e){return e+""}function y(e){var t=e.lastIndexOf("."),n=t>=0?e.substring(t):(t=e.length,""),r=[];while(t>0)r.push(e.substring(t-=3,t+3));return r.reverse().join(",")+n}function b(e,t){var n=Math.pow(10,Math.abs(8-t)*3);return{scale:t>8?function(e){return e/n}:function(e){return e*n},symbol:e}}function w(e){return function(t){return t<=0?0:t>=1?1:e(t)}}function E(e){return function(t){return 1-e(1-t)}}function S(e){return function(t){return.5*(t<.5?e(2*t):2-e(2-2*t))}}function x(e){return e}function T(e){return function(t){return Math.pow(t,e)}}function N(e){return 1-Math.cos(e*Math.PI/2)}function C(e){return Math.pow(2,10*(e-1))}function k(e){return 1-Math.sqrt(1-e*e)}function L(e,t){var n;return arguments.length<2&&(t=.45),arguments.length<1?(e=1,n=t/4):n=t/(2*Math.PI)*Math.asin(1/e),function(r){return 1+e*Math.pow(2,10*-r)*Math.sin((r-n)*2*Math.PI/t)}}function A(e){return e||(e=1.70158),function(t){return t*t*((e+1)*t-e)}}function O(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}function M(){d3.event.stopPropagation(),d3.event.preventDefault()}function _(){var e=d3.event,t;while(t=e.sourceEvent
)e=t;return e}function D(e){var t=new d,n=0,r=arguments.length;while(++n<r)t[arguments[n]]=v(t);return t.of=function(n,r){return function(i){try{var s=i.sourceEvent=d3.event;i.target=e,d3.event=i,t[i.type].apply(n,r)}finally{d3.event=s}}},t}function P(e){var t=[e.a,e.b],n=[e.c,e.d],r=B(t),i=H(t,n),s=B(j(n,t,-i))||0;t[0]*n[1]<n[0]*t[1]&&(t[0]*=-1,t[1]*=-1,r*=-1,i*=-1),this.rotate=(r?Math.atan2(t[1],t[0]):Math.atan2(-n[0],n[1]))*fs,this.translate=[e.e,e.f],this.scale=[r,s],this.skew=s?Math.atan2(i,s)*fs:0}function H(e,t){return e[0]*t[0]+e[1]*t[1]}function B(e){var t=Math.sqrt(H(e,e));return t&&(e[0]/=t,e[1]/=t),t}function j(e,t,n){return e[0]+=n*t[0],e[1]+=n*t[1],e}function F(e){return e=="transform"?d3.interpolateTransform:d3.interpolate}function I(e,t){return t=t-(e=+e)?1/(t-e):0,function(n){return(n-e)*t}}function q(e,t){return t=t-(e=+e)?1/(t-e):0,function(n){return Math.max(0,Math.min(1,(n-e)*t))}}function R(e,t,n){return new U(e,t,n)}function U(e,t,n){this.r=e,this.g=t,this.b=n}function z(e){return e<16?"0"+Math.max(0,e).toString(16):Math.min(255,e).toString(16)}function W(e,t,n){var r=0,i=0,s=0,o,u,a;o=/([a-z]+)\((.*)\)/i.exec(e);if(o){u=o[2].split(",");switch(o[1]){case"hsl":return n(parseFloat(u[0]),parseFloat(u[1])/100,parseFloat(u[2])/100);case"rgb":return t(J(u[0]),J(u[1]),J(u[2]))}}return(a=hs.get(e))?t(a.r,a.g,a.b):(e!=null&&e.charAt(0)==="#"&&(e.length===4?(r=e.charAt(1),r+=r,i=e.charAt(2),i+=i,s=e.charAt(3),s+=s):e.length===7&&(r=e.substring(1,3),i=e.substring(3,5),s=e.substring(5,7)),r=parseInt(r,16),i=parseInt(i,16),s=parseInt(s,16)),t(r,i,s))}function X(e,t,n){var r=Math.min(e/=255,t/=255,n/=255),i=Math.max(e,t,n),s=i-r,o,u,a=(i+r)/2;return s?(u=a<.5?s/(i+r):s/(2-i-r),e==i?o=(t-n)/s+(t<n?6:0):t==i?o=(n-e)/s+2:o=(e-t)/s+4,o*=60):u=o=0,K(o,u,a)}function V(e,t,n){e=$(e),t=$(t),n=$(n);var r=ot((.4124564*e+.3575761*t+.1804375*n)/ds),i=ot((.2126729*e+.7151522*t+.072175*n)/vs),s=ot((.0193339*e+.119192*t+.9503041*n)/ms);return tt(116*i-16,500*(r-i),200*(i-s))}function $(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function J(e){var t=parseFloat(e);return e.charAt(e.length-1)==="%"?Math.round(t*2.55):t}function K(e,t,n){return new Q(e,t,n)}function Q(e,t,n){this.h=e,this.s=t,this.l=n}function G(e,t,n){function r(e){return e>360?e-=360:e<0&&(e+=360),e<60?s+(o-s)*e/60:e<180?o:e<240?s+(o-s)*(240-e)/60:s}function i(e){return Math.round(r(e)*255)}var s,o;return e%=360,e<0&&(e+=360),t=t<0?0:t>1?1:t,n=n<0?0:n>1?1:n,o=n<=.5?n*(1+t):n+t-n*t,s=2*n-o,R(i(e+120),i(e),i(e-120))}function Y(e,t,n){return new Z(e,t,n)}function Z(e,t,n){this.h=e,this.c=t,this.l=n}function et(e,t,n){return tt(n,Math.cos(e*=Math.PI/180)*t,Math.sin(e)*t)}function tt(e,t,n){return new nt(e,t,n)}function nt(e,t,n){this.l=e,this.a=t,this.b=n}function rt(e,t,n){var r=(e+16)/116,i=r+t/500,s=r-n/200;return i=st(i)*ds,r=st(r)*vs,s=st(s)*ms,R(ut(3.2404542*i-1.5371385*r-.4985314*s),ut(-0.969266*i+1.8760108*r+.041556*s),ut(.0556434*i-.2040259*r+1.0572252*s))}function it(e,t,n){return Y(Math.atan2(n,t)/Math.PI*180,Math.sqrt(t*t+n*n),e)}function st(e){return e>.206893034?e*e*e:(e-4/29)/7.787037}function ot(e){return e>.008856?Math.pow(e,1/3):7.787037*e+4/29}function ut(e){return Math.round(255*(e<=.00304?12.92*e:1.055*Math.pow(e,1/2.4)-.055))}function at(e){return Ki(e,Ss),e}function ft(e){return function(){return gs(e,this)}}function lt(e){return function(){return ys(e,this)}}function ct(e,t){function n(){this.removeAttribute(e)}function r(){this.removeAttributeNS(e.space,e.local)}function i(){this.setAttribute(e,t)}function s(){this.setAttributeNS(e.space,e.local,t)}function o(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}function u(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}return e=d3.ns.qualify(e),t==null?e.local?r:n:typeof t=="function"?e.local?u:o:e.local?s:i}function ht(e){return new RegExp("(?:^|\\s+)"+d3.requote(e)+"(?:\\s+|$)","g")}function pt(e,t){function n(){var n=-1;while(++n<i)e[n](this,t)}function r(){var n=-1,r=t.apply(this,arguments);while(++n<i)e[n](this,r)}e=e.trim().split(/\s+/).map(dt);var i=e.length;return typeof t=="function"?r:n}function dt(e){var t=ht(e);return function(n,r){if(i=n.classList)return r?i.add(e):i.remove(e);var i=n.className,s=i.baseVal!=null,o=s?i.baseVal:i;r?(t.lastIndex=0,t.test(o)||(o=h(o+" "+e),s?i.baseVal=o:n.className=o)):o&&(o=h(o.replace(t," ")),s?i.baseVal=o:n.className=o)}}function vt(e,t,n){function r(){this.style.removeProperty(e)}function i(){this.style.setProperty(e,t,n)}function s(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}return t==null?r:typeof t=="function"?s:i}function mt(e,t){function n(){delete this[e]}function r(){this[e]=t}function i(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}return t==null?n:typeof t=="function"?i:r}function gt(e){return{__data__:e}}function yt(e){return function(){return Es(this,e)}}function bt(e){return arguments.length||(e=d3.ascending),function(t,n){return e(t&&t.__data__,n&&n.__data__)}}function wt(e,t,n){function r(){var t=this[s];t&&(this.removeEventListener(e,t,t.$),delete this[s])}function i(){function i(e){var n=d3.event;d3.event=e,u[0]=o.__data__;try{t.apply(o,u)}finally{d3.event=n}}var o=this,u=arguments;r.call(this),this.addEventListener(e,this[s]=i,i.$=n),i._=t}var s="__on"+e,o=e.indexOf(".");return o>0&&(e=e.substring(0,o)),t?i:r}function Et(e,t){for(var n=0,r=e.length;n<r;n++)for(var i=e[n],s=0,o=i.length,u;s<o;s++)(u=i[s])&&t(u,s,n);return e}function St(e){return Ki(e,Ts),e}function xt(e,t,n){Ki(e,Ns);var i=new r,s=d3.dispatch("start","end"),o=Ds;return e.id=t,e.time=n,e.tween=function(t,n){return arguments.length<2?i.get(t):(n==null?i.remove(t):i.set(t,n),e)},e.ease=function(t){return arguments.length?(o=typeof t=="function"?t:d3.ease.apply(d3,arguments),e):o},e.each=function(t,n){return arguments.length<2?Tt.call(e,t):(s.on(t,n),e)},d3.timer(function(r){return Et(e,function(e,u,a){function f(r){return v.active>t?c():(v.active=t,i.forEach(function(t,n){(n=n.call(e,m,u))&&h.push(n)}),s.start.call(e,m,u),l(r)||d3.timer(l,0,n),1)}function l(n){if(v.active!==t)return c();var r=(n-p)/d,i=o(r),a=h.length;while(a>0)h[--a].call(e,i);if(r>=1)return c(),ks=t,s.end.call(e,m,u),ks=0,1}function c(){return--v.count||delete e.__transition__,1}var h=[],p=e.delay,d=e.duration,v=(e=e.node).__transition__||(e.__transition__={active:0,count:0}),m=e.__data__;++v.count,p<=r?f(r):d3.timer(f,p,n)})},0,n),e}function Tt(e){var t=ks,n=Ds,r=Ms,i=_s;return ks=this.id,Ds=this.ease(),Et(this,function(t,n,r){Ms=t.delay,_s=t.duration,e.call(t=t.node,t.__data__,n,r)}),ks=t,Ds=n,Ms=r,_s=i,this}function Nt(e,t,n){return n!=""&&Ps}function Ct(e,t){return d3.tween(e,F(t))}function kt(){var e,t=Date.now(),n=Hs;while(n)e=t-n.then,e>=n.delay&&(n.flush=n.callback(e)),n=n.next;var r=Lt()-t;r>24?(isFinite(r)&&(clearTimeout(js),js=setTimeout(kt,r)),Bs=0):(Bs=1,Fs(kt))}function Lt(){var e=null,t=Hs,n=Infinity;while(t)t.flush?t=e?e.next=t.next:Hs=t.next:(n=Math.min(n,t.then+t.delay),t=(e=t).next);return n}function At(e,t){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();if(Is<0&&(window.scrollX||window.scrollY)){n=d3.select(document.body).append("svg").style("position","absolute").style("top",0).style("left",0);var i=n[0][0].getScreenCTM();Is=!i.f&&!i.e,n.remove()}return Is?(r.x=t.pageX,r.y=t.pageY):(r.x=t.clientX,r.y=t.clientY),r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}var s=e.getBoundingClientRect();return[t.clientX-s.left-e.clientLeft,t.clientY-s.top-e.clientTop]}function Ot(){}function Mt(e){var t=e[0],n=e[e.length-1];return t<n?[t,n]:[n,t]}function _t(e){return e.rangeExtent?e.rangeExtent():Mt(e.range())}function Dt(e,t){var n=0,r=e.length-1,i=e[n],s=e[r],o;s<i&&(o=n,n=r,r=o,o=i,i=s,s=o);if(t=t(s-i))e[n]=t.floor(i),e[r]=t.ceil(s);return e}function Pt(){return Math}function Ht(e,t,n,r){function i(){var i=Math.min(e.length,t.length)>2?Ut:Rt,a=r?q:I;return o=i(e,t,a,n),u=i(t,e,a,d3.interpolate),s}function s(e){return o(e)}var o,u;return s.invert=function(e){return u(e)},s.domain=function(t){return arguments.length?(e=t.map(Number),i()):e},s.range=function(e){return arguments.length?(t=e,i()):t},s.rangeRound=function(e){return s.range(e).interpolate(d3.interpolateRound)},s.clamp=function(e){return arguments.length?(r=e,i()):r},s.interpolate=function(e){return arguments.length?(n=e,i()):n},s.ticks=function(t){return It(e,t)},s.tickFormat=function(t){return qt(e,t)},s.nice=function(){return Dt(e,jt),i()},s.copy=function(){return Ht(e,t,n,r)},i()}function Bt(e,t){return d3.rebind(e,t,"range","rangeRound","interpolate","clamp")}function jt(e){return e=Math.pow(10,Math.round(Math.log(e)/Math.LN10)-1),e&&{floor:function(t){return Math.floor(t/e)*e},ceil:function(t){return Math.ceil(t/e)*e}}}function Ft(e,t){var n=Mt(e),r=n[1]-n[0],i=Math.pow(10,Math.floor(Math.log(r/t)/Math.LN10)),s=t/r*i;return s<=.15?i*=10:s<=.35?i*=5:s<=.75&&(i*=2),n[0]=Math.ceil(n[0]/i)*i,n[1]=Math.floor(n[1]/i)*i+i*.5,n[2]=i,n}function It(e,t){return d3.range.apply(d3,Ft(e,t))}function qt(e,t){return d3.format(",."+Math.max(0,-Math.floor(Math.log(Ft(e,t)[2])/Math.LN10+.01))+"f")}function Rt(e,t,n,r){var i=n(e[0],e[1]),s=r(t[0],t[1]);return function(e){return s(i(e))}}function Ut(e,t,n,r){var i=[],s=[],o=0,u=Math.min(e.length,t.length)-1;e[u]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());while(++o<=u)i.push(n(e[o-1],e[o])),s.push(r(t[o-1],t[o]));return function(t){var n=d3.bisect(e,t,1,u)-1;return s[n](i[n](t))}}function zt(e,t){function n(n){return e(t(n))}var r=t.pow;return n.invert=function(t){return r(e.invert(t))},n.domain=function(i){return arguments.length?(t=i[0]<0?Xt:Wt,r=t.pow,e.domain(i.map(t)),n):e.domain().map(r)},n.nice=function(){return e.domain(Dt(e.domain(),Pt)),n},n.ticks=function(){var n=Mt(e.domain()),i=[];if(n.every(isFinite)){var s=Math.floor(n[0]),o=Math.ceil(n[1]),u=r(n[0]),a=r(n[1]);if(t===Xt){i.push(r(s));for(;s++<o;)for(var f=9;f>0;f--)i.push(r(s)*f)}else{for(;s<o;s++)for(var f=1;f<10;f++)i.push(r(s)*f);i.push(r(s))}for(s=0;i[s]<u;s++);for(o=i.length;i[o-1]>a;o--);i=i.slice(s,o)}return i},n.tickFormat=function(e,i){arguments.length<2&&(i=qs);if(arguments.length<1)return i;var s=Math.max(.1,e/n.ticks().length),o=t===Xt?(u=-1e-12,Math.floor):(u=1e-12,Math.ceil),u;return function(e){return e/r(o(t(e)+u))<=s?i(e):""}},n.copy=function(){return zt(e.copy(),t)},Bt(n,e)}function Wt(e){return Math.log(e<0?0:e)/Math.LN10}function Xt(e){return-Math.log(e>0?0:-e)/Math.LN10}function Vt(e,t){function n(t){return e(r(t))}var r=$t(t),i=$t(1/t);return n.invert=function(t){return i(e.invert(t))},n.domain=function(t){return arguments.length?(e.domain(t.map(r)),n):e.domain().map(i)},n.ticks=function(e){return It(n.domain(),e)},n.tickFormat=function(e){return qt(n.domain(),e)},n.nice=function(){return n.domain(Dt(n.domain(),jt))},n.exponent=function(e){if(!arguments.length)return t;var s=n.domain();return r=$t(t=e),i=$t(1/t),n.domain(s)},n.copy=function(){return Vt(e.copy(),t)},Bt(n,e)}function $t(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Jt(e,t){function n(t){return o[((s.get(t)||s.set(t,e.push(t)))-1)%o.length]}function i(t,n){return d3.range(e.length).map(function(e){return t+n*e})}var s,o,u;return n.domain=function(i){if(!arguments.length)return e;e=[],s=new r;var o=-1,u=i.length,a;while(++o<u)s.has(a=i[o])||s.set(a,e.push(a));return n[t.t].apply(n,t.a)},n.range=function(e){return arguments.length?(o=e,u=0,t={t:"range",a:arguments},n):o},n.rangePoints=function(r,s){arguments.length<2&&(s=0);var a=r[0],f=r[1],l=(f-a)/(Math.max(1,e.length-1)+s);return o=i(e.length<2?(a+f)/2:a+l*s/2,l),u=0,t={t:"rangePoints",a:arguments},n},n.rangeBands=function(r,s,a){arguments.length<2&&(s=0),arguments.length<3&&(a=s);var f=r[1]<r[0],l=r[f-0],c=r[1-f],h=(c-l)/(e.length-s+2*a);return o=i(l+h*a,h),f&&o.reverse(),u=h*(1-s),t={t:"rangeBands",a:arguments},n},n.rangeRoundBands=function(r,s,a){arguments.length<2&&(s=0),arguments.length<3&&(a=s);var f=r[1]<r[0],l=r[f-0],c=r[1-f],h=Math.floor((c-l)/(e.length-s+2*a)),p=c-l-(e.length-s)*h;return o=i(l+Math.round(p/2),h),f&&o.reverse(),u=Math.round(h*(1-s)),t={t:"rangeRoundBands",a:arguments},n},n.rangeBand=function(){return u},n.rangeExtent=function(){return Mt(t.a[0])},n.copy=function(){return Jt(e,t)},n.domain(e)}function Kt(e,t){function n(){var n=0,s=e.length,o=t.length;i=[];while(++n<o)i[n-1]=d3.quantile(e,n/o);return r}function r(e){return isNaN(e=+e)?NaN:t[d3.bisect(i,e)]}var i;return r.domain=function(t){return arguments.length?(e=t.filter(function(e){return!isNaN(e)}).sort(d3.ascending),n()):e},r.range=function(e){return arguments.length?(t=e,n()):t},r.quantiles=function(){return i},r.copy=function(){return Kt(e,t)},n()}function Qt(e,t,n){function r(t){return n[Math.max(0,Math.min(o,Math.floor(s*(t-e))))]}function i(){return s=n.length/(t-e),o=n.length-1,r}var s,o;return r.domain=function(n){return arguments.length?(e=+n[0],t=+n[n.length-1],i()):[e,t]},r.range=function(e){return arguments.length?(n=e,i()):n},r.copy=function(){return Qt(e,t,n)},i()}function Gt(e,t){function n(n){return t[d3.bisect(e,n)]}return n.domain=function(t){return arguments.length?(e=t,n):e},n.range=function(e){return arguments.length?(t=e,n):t},n.copy=function(){return Gt(e,t)},n}function Yt(e){function t(e){return+e}return t.invert=t,t.domain=t.range=function(n){return arguments.length?(e=n.map(t),t):e},t.ticks=function(t){return It(e,t)},t.tickFormat=function(t){return qt(e,t)},t.copy=function(){return Yt(e)},t}function Zt(e){return e.innerRadius}function en(e){return e.outerRadius}function tn(e){return e.startAngle}function nn(e){return e.endAngle}function rn(e){function t(t){function o(){a.push("M",s(e(l),f))}var a=[],l=[],c=-1,h=t.length,p,d=u(n),v=u(r);while(++c<h)i.call(this,p=t[c],c)?l.push([+d.call(this,p,c),+v.call(this,p,c)]):l.length&&(o(),l=[]);return l.length&&o(),a.length?a.join(""):null}var n=sn,r=on,i=o,s=un,a=s.key,f=.7;return t.x=function(e){return arguments.length?(n=e,t):n},t.y=function(e){return arguments.length?(r=e,t):r},t.defined=function(e){return arguments.length?(i=e,t):i},t.interpolate=function(e){return arguments.length?(typeof e=="function"?a=s=e:a=(s=$s.get(e)||un).key,t):a},t.tension=function(e){return arguments.length?(f=e,t):f},t}function sn(e){return e[0]}function on(e){return e[1]}function un(e){return e.join("L")}function an(e){return un(e)+"Z"}function fn(e){var t=0,n=e.length,r=e[0],i=[r[0],",",r[1]];while(++t<n)i.push("V",(r=e[t])[1],"H",r[0]);return i.join("")}function ln(e){var t=0,n=e.length,r=e[0],i=[r[0],",",r[1]];while(++t<n)i.push("H",(r=e[t])[0],"V",r[1]);return i.join("")}function cn(e,t){return e.length<4?un(e):e[1]+dn(e.slice(1,e.length-1),vn(e,t))}function hn(e,t){return e.length<3?un(e):e[0]+dn((e.push(e[0]),e),vn([e[e.length-2]].concat(e,[e[1]]),t))}function pn(e,t,n){return e.length<3?un(e):e[0]+dn(e,vn(e,t))}function dn(e,t){if(t.length<1||e.length!=t.length&&e.length!=t.length+2)return un(e);var n=e.length!=t.length,r="",i=e[0],s=e[1],o=t[0],u=o,a=1;n&&(r+="Q"+(s[0]-o[0]*2/3)+","+(s[1]-o[1]*2/3)+","+s[0]+","+s[1],i=e[1],a=2);if(t.length>1){u=t[1],s=e[a],a++,r+="C"+(i[0]+o[0])+","+(i[1]+o[1])+","+(s[0]-u[0])+","+(s[1]-u[1])+","+s[0]+","+s[1];for(var f=2;f<t.length;f++,a++)s=e[a],u=t[f],r+="S"+(s[0]-u[0])+","+(s[1]-u[1])+","+s[0]+","+s[1]}if(n){var l=e[a];r+="Q"+(s[0]+u[0]*2/3)+","+(s[1]+u[1]*2/3)+","+l[0]+","+l[1]}return r}function vn(e,t){var n=[],r=(1-t)/2,i,s=e[0],o=e[1],u=1,a=e.length;while(++u<a)i=s,s=o,o=e[u],n.push([r*(o[0]-i[0]),r*(o[1]-i[1])]);return n}function mn(e){if(e.length<3)return un(e);var t=1,n=e.length,r=e[0],i=r[0],s=r[1],o=[i,i,i,(r=e[1])[0]],u=[s,s,s,r[1]],a=[i,",",s];En(a,o,u);while(++t<n)r=e[t],o.shift(),o.push(r[0]),u.shift(),u.push(r[1]),En(a,o,u);t=-1;while(++t<2)o.shift(),o.push(r[0]),u.shift(),u.push(r[1]),En(a,o,u);return a.join("")}function gn(e){if(e.length<4)return un(e);var t=[],n=-1,r=e.length,i,s=[0],o=[0];while(++n<3)i=e[n],s.push(i[0]),o.push(i[1]);t.push(wn(Qs,s)+","+wn(Qs,o)),--n;while(++n<r)i=e[n],s.shift(),s.push(i[0]),o.shift(),o.push(i[1]),En(t,s,o);return t.join("")}function yn(e){var t,n=-1,r=e.length,i=r+4,s,o=[],u=[];while(++n<4)s=e[n%r],o.push(s[0]),u.push(s[1]);t=[wn(Qs,o),",",wn(Qs,u)],--n;while(++n<i)s=e[n%r],o.shift(),o.push(s[0]),u.shift(),u.push(s[1]),En(t,o,u);return t.join("")}function bn(e,t){var n=e.length-1;if(n){var r=e[0][0],i=e[0][1],s=e[n][0]-r,o=e[n][1]-i,u=-1,a,f;while(++u<=n)a=e[u],f=u/n,a[0]=t*a[0]+(1-t)*(r+f*s),a[1]=t*a[1]+(1-t)*(i+f*o)}return mn(e)}function wn(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function En(e,t,n){e.push("C",wn(Js,t),",",wn(Js,n),",",wn(Ks,t),",",wn(Ks,n),",",wn(Qs,t),",",wn(Qs,n))}function Sn(e,t){return(t[1]-e[1])/(t[0]-e[0])}function xn(e){var t=0,n=e.length-1,r=[],i=e[0],s=e[1],o=r[0]=Sn(i,s);while(++t<n)r[t]=(o+(o=Sn(i=s,s=e[t+1])))/2;return r[t]=o,r}function Tn(e){var t=[],n,r,i,s,o=xn(e),u=-1,a=e.length-1;while(++u<a)n=Sn(e[u],e[u+1]),Math.abs(n)<1e-6?o[u]=o[u+1]=0:(r=o[u]/n,i=o[u+1]/n,s=r*r+i*i,s>9&&(s=n*3/Math.sqrt(s),o[u]=s*r,o[u+1]=s*i));u=-1;while(++u<=a)s=(e[Math.min(a,u+1)][0]-e[Math.max(0,u-1)][0])/(6*(1+o[u]*o[u])),t.push([s||0,o[u]*s||0]);return t}function Nn(e){return e.length<3?un(e):e[0]+dn(e,Tn(e))}function Cn(e){var t,n=-1,r=e.length,i,s;while(++n<r)t=e[n],i=t[0],s=t[1]+Xs,t[0]=i*Math.cos(s),t[1]=i*Math.sin(s);return e}function kn(e){function t(t){function o(){l.push("M",f(e(v),p),h,c(e(d.reverse()),p),"Z")}var l=[],d=[],v=[],m=-1,g=t.length,y,b=u(n),w=u(i),E=n===r?function(){return x}:u(r),S=i===s?function(){return T}:u(s),x,T;while(++m<g)a.call(this,y=t[m],m)?(d.push([x=+b.call(this,y,m),T=+w.call(this,y,m)]),v.push([+E.call(this,y,m),+S.call(this,y,m)])):d.length&&(o(),d=[],v=[]);return d.length&&o(),l.length?l.join(""):null}var n=sn,r=sn,i=0,s=on,a=o,f=un,l=f.key,c=f,h="L",p=.7;return t.x=function(e){return arguments.length?(n=r=e,t):r},t.x0=function(e){return arguments.length?(n=e,t):n},t.x1=function(e){return arguments.length?(r=e,t):r},t.y=function(e){return arguments.length?(i=s=e,t):s},t.y0=function(e){return arguments.length?(i=e,t):i},t.y1=function(e){return arguments.length?(s=e,t):s},t.defined=function(e){return arguments.length?(a=e,t):a},t.interpolate=function(e){return arguments.length?(typeof e=="function"?l=f=e:l=(f=$s.get(e)||un).key,c=f.reverse||f,h=f.closed?"M":"L",t):l},t.tension=function(e){return arguments.length?(p=e,t):p},t}function Ln(e){return e.source}function An(e){return e.target}function On(e){return e.radius}function Mn(e){return e.startAngle}function _n(e){return e.endAngle}function Dn(e){return[e.x,e.y]}function Pn(e){return function(){var t=e.apply(this,arguments),n=t[0],r=t[1]+Xs;return[n*Math.cos(r),n*Math.sin(r)]}}function Hn(){return 64}function Bn(){return"circle"}function jn(e){var t=Math.sqrt(e/Math.PI);return"M0,"+t+"A"+t+","+t+" 0 1,1 0,"+ -t+"A"+t+","+t+" 0 1,1 0,"+t+"Z"}function Fn(e,t){e.attr("transform",function(e){return"translate("+t(e)+",0)"})}function In(e,t){e.attr("transform",function(e){return"translate(0,"+t(e)+")"})}function qn(e,t,n){i=[];if(n&&t.length>1){var r=Mt(e.domain()),i,s=-1,o=t.length,u=(t[1]-t[0])/++n,a,f;while(++s<o)for(a=n;--a>0;)(f=+t[s]-a*u)>=r[0]&&i.push(f);for(--s,a=0;++a<n&&(f=+t[s]+a*u)<r[1];)i.push(f)}return i}function Rn(){no||(no=d3.select("body").append("div").style("visibility","hidden").style("top",0).style("height",0).style("width",0).style("overflow-y","scroll").append("div").style("height","2000px").node().parentNode);var e=d3.event,t;try{no.scrollTop=1e3,no.dispatchEvent(e),t=1e3-no.scrollTop}catch(n){t=e.wheelDelta||-e.detail*5}return t}function Un(e){var t=e.source,n=e.target,r=Wn(t,n),i=[t];while(t!==r)t=t.parent,i.push(t);var s=i.length;while(n!==r)i.splice(s,0,n),n=n.parent;return i}function zn(e){var t=[],n=e.parent;while(n!=null)t.push(e),e=n,n=n.parent;return t.push(e),t}function Wn(e,t){if(e===t)return e;var n=zn(e),r=zn(t),i=n.pop(),s=r.pop(),o=null;while(i===s)o=i,i=n.pop(),s=r.pop();return o}function Xn(e){e.fixed|=2}function Vn(e){e.fixed&=1}function $n(e){e.fixed|=4}function Jn(e){e.fixed&=3}function Kn(e,t,n){var r=0,i=0;e.charge=0;if(!e.leaf){var s=e.nodes,o=s.length,u=-1,a;while(++u<o){a=s[u];if(a==null)continue;Kn(a,t,n),e.charge+=a.charge,r+=a.charge*a.cx,i+=a.charge*a.cy}}if(e.point){e.leaf||(e.point.x+=Math.random()-.5,e.point.y+=Math.random()-.5);var f=t*n[e.point.index];e.charge+=e.pointCharge=f,r+=f*e.point.x,i+=f*e.point.y}e.cx=r/e.charge,e.cy=i/e.charge}function Qn(e){return 20}function Gn(e){return 1}function Yn(e){return e.x}function Zn(e){return e.y}function er(e,t,n){e.y0=t,e.y=n}function tr(e){return d3.range(e.length)}function nr(e){var t=-1,n=e[0].length,r=[];while(++t<n)r[t]=0;return r}function rr(e){var t=1,n=0,r=e[0][1],i,s=e.length;for(;t<s;++t)(i=e[t][1])>r&&(n=t,r=i);return n}function ir(e){return e.reduce(sr,0)}function sr(e,t){return e+t[1]}function or(e,t){return ur(e,Math.ceil(Math.log(t.length)/Math.LN2+1))}function ur(e,t){var n=-1,r=+e[0],i=(e[1]-r)/t,s=[];while(++n<=t)s[n]=i*n+r;return s}function ar(e){return[d3.min(e),d3.max(e)]}function fr(e,t){return d3.rebind(e,t,"sort","children","value"),e.links=pr,e.nodes=function(t){return uo=!0,(e.nodes=e)(t)},e}function lr(e){return e.children}function cr(e){return e.value}function hr(e,t){return t.value-e.value}function pr(e){return d3.merge(e.map(function(e){return(e.children||[]).map(function(t){return{source:e,target:t}})}))}function dr(e,t){return e.value-t.value}function vr(e,t){var n=e._pack_next;e._pack_next=t,t._pack_prev=e,t._pack_next=n,n._pack_prev=t}function mr(e,t){e._pack_next=t,t._pack_prev=e}function gr(e,t){var n=t.x-e.x,r=t.y-e.y,i=e.r+t.r;return i*i-n*n-r*r>.001}function yr(e){function t(e){r=Math.min(e.x-e.r,r),i=Math.max(e.x+e.r,i),s=Math.min(e.y-e.r,s),o=Math.max(e.y+e.r,o)}if(!(n=e.children)||!(p=n.length))return;var n,r=Infinity,i=-Infinity,s=Infinity,o=-Infinity,u,a,f,l,c,h,p;n.forEach(br),u=n[0],u.x=-u.r,u.y=0,t(u);if(p>1){a=n[1],a.x=a.r,a.y=0,t(a);if(p>2){f=n[2],Sr(u,a,f),t(f),vr(u,f),u._pack_prev=f,vr(f,a),a=u._pack_next;for(l=3;l<p;l++){Sr(u,a,f=n[l]);var d=0,v=1,m=1;for(c=a._pack_next;c!==a;c=c._pack_next,v++)if(gr(c,f)){d=1;break}if(d==1)for(h=u._pack_prev;h!==c._pack_prev;h=h._pack_prev,m++)if(gr(h,f))break;d?(v<m||v==m&&a.r<u.r?mr(u,a=c):mr(u=h,a),l--):(vr(u,f),a=f,t(f))}}}var g=(r+i)/2,y=(s+o)/2,b=0;for(l=0;l<p;l++)f=n[l],f.x-=g,f.y-=y,b=Math.max(b,f.r+Math.sqrt(f.x*f.x+f.y*f.y));e.r=b,n.forEach(wr)}function br(e){e._pack_next=e._pack_prev=e}function wr(e){delete e._pack_next,delete e._pack_prev}function Er(e,t,n,r){var i=e.children;e.x=t+=r*e.x,e.y=n+=r*e.y,e.r*=r;if(i){var s=-1,o=i.length;while(++s<o)Er(i[s],t,n,r)}}function Sr(e,t,n){var r=e.r+n.r,i=t.x-e.x,s=t.y-e.y;if(r&&(i||s)){var o=t.r+n.r,u=i*i+s*s;o*=o,r*=r;var a=.5+(r-o)/(2*u),f=Math.sqrt(Math.max(0,2*o*(r+u)-(r-=u)*r-o*o))/(2*u);n.x=e.x+a*i+f*s,n.y=e.y+a*s-f*i}else n.x=e.x+r,n.y=e.y}function xr(e){return 1+d3.max(e,function(e){return e.y})}function Tr(e){return e.reduce(function(e,t){return e+t.x},0)/e.length}function Nr(e){var t=e.children;return t&&t.length?Nr(t[0]):e}function Cr(e){var t=e.children,n;return t&&(n=t.length)?Cr(t[n-1]):e}function kr(e,t){return e.parent==t.parent?1:2}function Lr(e){var t=e.children;return t&&t.length?t[0]:e._tree.thread}function Ar(e){var t=e.children,n;return t&&(n=t.length)?t[n-1]:e._tree.thread}function Or(e,t){var n=e.children;if(n&&(i=n.length)){var r,i,s=-1;while(++s<i)t(r=Or(n[s],t),e)>0&&(e=r)}return e}function Mr(e,t){return e.x-t.x}function _r(e,t){return t.x-e.x}function Dr(e,t){return e.depth-t.depth}function Pr(e,t){function n(e,r){var i=e.children;if(i&&(a=i.length)){var s,o=null,u=-1,a;while(++u<a)s=i[u],n(s,o),o=s}t(e,r)}n(e,null)}function Hr(e){var t=0,n=0,r=e.children,i=r.length,s;while(--i>=0)s=r[i]._tree,s.prelim+=t,s.mod+=t,t+=s.shift+(n+=s.change)}function Br(e,t,n){e=e._tree,t=t._tree;var r=n/(t.number-e.number);e.change+=r,t.change-=r,t.shift+=n,t.prelim+=n,t.mod+=n}function jr(e,t,n){return e._tree.ancestor.parent==t.parent?e._tree.ancestor:n}function Fr(e){return{x:e.x,y:e.y,dx:e.dx,dy:e.dy}}function Ir(e,t){var n=e.x+t[3],r=e.y+t[0],i=e.dx-t[1]-t[3],s=e.dy-t[0]-t[2];return i<0&&(n+=i/2,i=0),s<0&&(r+=s/2,s=0),{x:n,y:r,dx:i,dy:s}}function qr(e,t){function n(e,r){d3.text(e,t,function(e){r(e&&n.parse(e))})}function r(t){return t.map(i).join(e)}function i(e){return o.test(e)?'"'+e.replace(/\"/g,'""')+'"':e}var s=new RegExp("\r\n|["+e+"\r\n]","g"),o=new RegExp('["'+e+"\n]"),u=e.charCodeAt(0);return n.parse=function(e){var t;return n.parseRows(e,function(e,n){if(n){var r={},i=-1,s=t.length;while(++i<s)r[t[i]]=e[i];return r}return t=e,null})},n.parseRows=function(e,t){function n(){if(s.lastIndex>=e.length)return i;if(l)return l=!1,r;var t=s.lastIndex;if(e.charCodeAt(t)===34){var n=t;while(n++<e.length)if(e.charCodeAt(n)===34){if(e.charCodeAt(n+1)!==34)break;n++}s.lastIndex=n+2;var o=e.charCodeAt(n+1);return o===13?(l=!0,e.charCodeAt(n+2)===10&&s.lastIndex++):o===10&&(l=!0),e.substring(t+1,n).replace(/""/g,'"')}var a=s.exec(e);return a?(l=a[0].charCodeAt(0)!==u,e.substring(t,a.index)):(s.lastIndex=e.length,e.substring(t))}var r={},i={},o=[],a=0,f,l;s.lastIndex=0;while((f=n())!==i){var c=[];while(f!==r&&f!==i)c.push(f),f=n();if(t&&!(c=t(c,a++)))continue;o.push(c)}return o},n.format=function(e){return e.map(r).join("\n")},n}function Rr(e,t){return function(n){return n&&e.hasOwnProperty(n.type)?e[n.type](n):t}}function Ur(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+ -2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}function zr(e,t){fo.hasOwnProperty(e.type)&&fo[e.type](e,t)}function Wr(e,t){zr(e.geometry,t)}function Xr(e,t){for(var n=e.features,r=0,i=n.length;r<i;r++)zr(n[r].geometry,t)}function Vr(e,t){for(var n=e.geometries,r=0,i=n.length;r<i;r++)zr(n[r],t)}function $r(e,t){for(var n=e.coordinates,r=0,i=n.length;r<i;r++)t.apply(null,n[r])}function Jr(e,t){for(var n=e.coordinates,r=0,i=n.length;r<i;r++)for(var s=n[r],o=0,u=s.length;o<u;o++)t.apply(null,s[o])}function Kr(e,t){for(var n=e.coordinates,r=0,i=n.length;r<i;r++)for(var s=n[r][0],o=0,u=s.length;o<u;o++)t.apply(null,s[o])}function Qr(e,t){t.apply(null,e.coordinates)}function Gr(e,t){for(var n=e.coordinates[0],r=0,i=n.length;r<i;r++)t.apply(null,n[r])}function Yr(e){return e.source}function Zr(e){return e.target}function ei(){function e(e){var t=Math.sin(e*=p)*d,n=Math.sin(p-e)*d,r=n*s+t*c,u=n*o+t*h,a=n*i+t*l;return[Math.atan2(u,r)/ao,Math.atan2(a,Math.sqrt(r*r+u*u))/ao]}var t,n,r,i,s,o,u,a,f,l,c,h,p,d;return e.distance=function(){return p==null&&(d=1/Math.sin(p=Math.acos(Math.max(-1,Math.min(1,i*l+r*f*Math.cos(u-t)))))),p},e.source=function(u){var a=Math.cos(t=u[0]*ao),f=Math.sin(t);return r=Math.cos(n=u[1]*ao),i=Math.sin(n),s=r*a,o=r*f,p=null,e},e.target=function(t){var n=Math.cos(u=t[0]*ao),r=Math.sin(u);return f=Math.cos(a=t[1]*ao),l=Math.sin(a),c=f*n,h=f*r,p=null,e},e}function ti(e,t){var n=ei().source(e).target(t);return n.distance(),n}function ni(e){var t=0,n=0;for(;;){if(e(t,n))return[t,n];t===0?(t=n+1,n=0):(t-=1,n+=1)}}function ri(e,t,n,r){var i,s,o,u,a,f,l;return i=r[e],s=i[0],o=i[1],i=r[t],u=i[0],a=i[1],i=r[n],f=i[0],l=i[1],(l-o)*(u-s)-(a-o)*(f-s)>0}function ii(e,t,n){return(n[0]-t[0])*(e[1]-t[1])<(n[1]-t[1])*(e[0]-t[0])}function si(e,t,n,r){var i=e[0],s=t[0],o=n[0],u=r[0],a=e[1],f=t[1],l=n[1],c=r[1],h=i-o,p=s-i,d=u-o,v=a-l,m=f-a,g=c-l,y=(d*v-g*h)/(g*p-d*m);return[i+y*p,a+y*m]}function oi(e,t){var n={list:e.map(function(e,t){return{index:t,x:e[0],y:e[1]}}).sort(function(e,t){return e.y<t.y?-1:e.y>t.y?1:e.x<t.x?-1:e.x>t.x?1:0}),bottomSite:null},r={list:[],leftEnd:null,rightEnd:null,init:function(){r.leftEnd=r.createHalfEdge(null,"l"),r.rightEnd=r.createHalfEdge(null,"l"),r.leftEnd.r=r.rightEnd,r.rightEnd.l=r.leftEnd,r.list.unshift(r.leftEnd,r.rightEnd)},createHalfEdge:function(e,t){return{edge:e,side:t,vertex:null,l:null,r:null}},insert:function(e,t){t.l=e,t.r=e.r,e.r.l=t,e.r=t},leftBound:function(e){var t=r.leftEnd;do t=t.r;while(t!=r.rightEnd&&i.rightOf(t,e));return t=t.l,t},del:function(e){e.l.r=e.r,e.r.l=e.l,e.edge=null},right:function(e){return e.r},left:function(e){return e.l},leftRegion:function(e){return e.edge==null?n.bottomSite:e.edge.region[e.side]},rightRegion:function(e){return e.edge==null?n.bottomSite:e.edge.region[ho[e.side]]}},i={bisect:function(e,t){var n={region:{l:e,r:t},ep:{l:null,r:null}},r=t.x-e.x,i=t.y-e.y,s=r>0?r:-r,o=i>0?i:-i;return n.c=e.x*r+e.y*i+(r*r+i*i)*.5,s>o?(n.a=1,n.b=i/r,n.c/=r):(n.b=1,n.a=r/i,n.c/=i),n},intersect:function(e,t){var n=e.edge,r=t.edge;if(!n||!r||n.region.r==r.region.r)return null;var i=n.a*r.b-n.b*r.a;if(Math.abs(i)<1e-10)return null;var s=(n.c*r.b-r.c*n.b)/i,o=(r.c*n.a-n.c*r.a)/i,u=n.region.r,a=r.region.r,f,l;u.y<a.y||u.y==a.y&&u.x<a.x?(f=e,l=n):(f=t,l=r);var c=s>=l.region.r.x;return c&&f.side==="l"||!c&&f.side==="r"?null:{x:s,y:o}},rightOf:function(e,t){var n=e.edge,r=n.region.r,i=t.x>r.x;if(i&&e.side==="l")return 1;if(!i&&e.side==="r")return 0;if(n.a===1){var s=t.y-r.y,o=t.x-r.x,u=0,a=0;!i&&n.b<0||i&&n.b>=0?a=u=s>=n.b*o:(a=t.x+t.y*n.b>n.c,n.b<0&&(a=!a),a||(u=1));if(!u){var f=r.x-n.region.l.x;a=n.b*(o*o-s*s)<f*s*(1+2*o/f+n.b*n.b),n.b<0&&(a=!a)}}else{var l=n.c-n.a*t.x,c=t.y-l,h=t.x-r.x,p=l-r.y;a=c*c>h*h+p*p}return e.side==="l"?a:!a},endPoint:function(e,n,r){e.ep[n]=r;if(!e.ep[ho[n]])return;t(e)},distance:function(e,t){var n=e.x-t.x,r=e.y-t.y;return Math.sqrt(n*n+r*r)}},s={list:[],insert:function(e,t,n){e.vertex=t,e.ystar=t.y+n;for(var r=0,i=s.list,o=i.length;r<o;r++){var u=i[r];if(e.ystar>u.ystar||e.ystar==u.ystar&&t.x>u.vertex.x)continue;break}i.splice(r,0,e)},del:function(e){for(var t=0,n=s.list,r=n.length;t<r&&n[t]!=e;++t);n.splice(t,1)},empty:function(){return s.list.length===0},nextEvent:function(e){for(var t=0,n=s.list,r=n.length;t<r;++t)if(n[t]==e)return n[t+1];return null},min:function(){var e=s.list[0];return{x:e.vertex.x,y:e.ystar}},extractMin:function(){return s.list.shift()}};r.init(),n.bottomSite=n.list.shift();var o=n.list.shift(),u,a,f,l,c,h,p,d,v,m,g,y,b;for(;;){s.empty()||(u=s.min());if(o&&(s.empty()||o.y<u.y||o.y==u.y&&o.x<u.x))a=r.leftBound(o),f=r.right(a),p=r.rightRegion(a),y=i.bisect(p,o),h=r.createHalfEdge(y,"l"),r.insert(a,h),m=i.intersect(a,h),m&&(s.del(a),s.insert(a,m,i.distance(m,o))),a=h,h=r.createHalfEdge(y,"r"),r.insert(a,h),m=i.intersect(h,f),m&&s.insert(h,m,i.distance(m,o)),o=n.list.shift();else{if(!!s.empty())break;a=s.extractMin(),l=r.left(a),f=r.right(a),c=r.right(f),p=r.leftRegion(a),d=r.rightRegion(f),g=a.vertex,i.endPoint(a.edge,a.side,g),i.endPoint(f.edge,f.side,g),r.del(a),s.del(f),r.del(f),b="l",p.y>d.y&&(v=p,p=d,d=v,b="r"),y=i.bisect(p,d),h=r.createHalfEdge(y,b),r.insert(l,h),i.endPoint(y,ho[b],g),m=i.intersect(l,h),m&&(s.del(l),s.insert(l,m,i.distance(m,p))),m=i.intersect(h,c),m&&s.insert(h,m,i.distance(m,p))}}for(a=r.right(r.leftEnd);a!=r.rightEnd;a=r.right(a))t(a.edge)}function ui(){return{leaf:!0,nodes:[],point:null}}function ai(e,t,n,r,i,s){if(!e(t,n,r,i,s)){var o=(n+i)*.5,u=(r+s)*.5,a=t.nodes;a[0]&&ai(e,a[0],n,r,o,u),a[1]&&ai(e,a[1],o,r,i,u),a[2]&&ai(e,a[2],n,u,o,s),a[3]&&ai(e,a[3],o,u,i,s)}}function fi(e){return{x:e[0],y:e[1]}}function li(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function ci(e){return e.substring(0,3)}function hi(e,t,n,r){var i,s,o=0,u=t.length,a=n.length;while(o<u){if(r>=a)return-1;i=t.charCodeAt(o++);if(i==37){s=Ho[t.charAt(o++)];if(!s||(r=s(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}function pi(e){return new RegExp("^(?:"+e.map(d3.requote).join("|")+")","i")}function di(e){var t=new r,n=-1,i=e.length;while(++n<i)t.set(e[n].toLowerCase(),n);return t}function vi(e,t,n){Ao.lastIndex=0;var r=Ao.exec(t.substring(n));return r?n+=r[0].length:-1}function mi(e,t,n){Lo.lastIndex=0;var r=Lo.exec(t.substring(n));return r?n+=r[0].length:-1}function gi(e,t,n){_o.lastIndex=0;var r=_o.exec(t.substring(n));return r?(e.m=Do.get(r[0].toLowerCase()),n+=r[0].length):-1}function yi(e,t,n){Oo.lastIndex=0;var r=Oo.exec(t.substring(n));return r?(e.m=Mo.get(r[0].toLowerCase()),n+=r[0].length):-1}function bi(e,t,n){return hi(e,Po.c.toString(),t,n)}function wi(e,t,n){return hi(e,Po.x.toString(),t,n)}function Ei(e,t,n){return hi(e,Po.X.toString(),t,n)}function Si(e,t,n){Bo.lastIndex=0;var r=Bo.exec(t.substring(n,n+4));return r?(e.y=+r[0],n+=r[0].length):-1}function xi(e,t,n){Bo.lastIndex=0;var r=Bo.exec(t.substring(n,n+2));return r?(e.y=Ti(+r[0]),n+=r[0].length):-1}function Ti(e){return e+(e>68?1900:2e3)}function Ni(e,t,n){Bo.lastIndex=0;var r=Bo.exec(t.substring(n,n+2));return r?(e.m=r[0]-1,n+=r[0].length):-1}function Ci(e,t,n){Bo.lastIndex=0;var r=Bo.
exec(t.substring(n,n+2));return r?(e.d=+r[0],n+=r[0].length):-1}function ki(e,t,n){Bo.lastIndex=0;var r=Bo.exec(t.substring(n,n+2));return r?(e.H=+r[0],n+=r[0].length):-1}function Li(e,t,n){Bo.lastIndex=0;var r=Bo.exec(t.substring(n,n+2));return r?(e.M=+r[0],n+=r[0].length):-1}function Ai(e,t,n){Bo.lastIndex=0;var r=Bo.exec(t.substring(n,n+2));return r?(e.S=+r[0],n+=r[0].length):-1}function Oi(e,t,n){Bo.lastIndex=0;var r=Bo.exec(t.substring(n,n+3));return r?(e.L=+r[0],n+=r[0].length):-1}function Mi(e,t,n){var r=jo.get(t.substring(n,n+=2).toLowerCase());return r==null?-1:(e.p=r,n)}function _i(e){var t=e.getTimezoneOffset(),n=t>0?"-":"+",r=~~(Math.abs(t)/60),i=Math.abs(t)%60;return n+To(r)+To(i)}function Di(e){return e.toISOString()}function Pi(e,t,n){function r(t){var n=e(t),r=s(n,1);return t-n<r-t?n:r}function i(n){return t(n=e(new po(n-1)),1),n}function s(e,n){return t(e=new po(+e),n),e}function o(e,r,s){var o=i(e),u=[];if(s>1)while(o<r)n(o)%s||u.push(new Date(+o)),t(o,1);else while(o<r)u.push(new Date(+o)),t(o,1);return u}function u(e,t,n){try{po=li;var r=new li;return r._=e,o(r,t,n)}finally{po=Date}}e.floor=e,e.round=r,e.ceil=i,e.offset=s,e.range=o;var a=e.utc=Hi(e);return a.floor=a,a.round=Hi(r),a.ceil=Hi(i),a.offset=Hi(s),a.range=u,e}function Hi(e){return function(t,n){try{po=li;var r=new li;return r._=t,e(r,n)._}finally{po=Date}}}function Bi(e,t,n){function r(t){return e(t)}return r.invert=function(t){return Fi(e.invert(t))},r.domain=function(t){return arguments.length?(e.domain(t),r):e.domain().map(Fi)},r.nice=function(e){return r.domain(Dt(r.domain(),function(){return e}))},r.ticks=function(n,i){var s=ji(r.domain());if(typeof n!="function"){var o=s[1]-s[0],u=o/n,a=d3.bisect(Io,u);if(a==Io.length)return t.year(s,n);if(!a)return e.ticks(n).map(Fi);Math.log(u/Io[a-1])<Math.log(Io[a]/u)&&--a,n=t[a],i=n[1],n=n[0].range}return n(s[0],new Date(+s[1]+1),i)},r.tickFormat=function(){return n},r.copy=function(){return Bi(e.copy(),t,n)},d3.rebind(r,e,"range","rangeRound","interpolate","clamp")}function ji(e){var t=e[0],n=e[e.length-1];return t<n?[t,n]:[n,t]}function Fi(e){return new Date(e)}function Ii(e){return function(t){var n=e.length-1,r=e[n];while(!r[1](t))r=e[--n];return r[0](t)}}function qi(e){var t=new Date(e,0,1);return t.setFullYear(e),t}function Ri(e){var t=e.getFullYear(),n=qi(t),r=qi(t+1);return t+(e-n)/(r-n)}function Ui(e){var t=new Date(Date.UTC(e,0,1));return t.setUTCFullYear(e),t}function zi(e){var t=e.getUTCFullYear(),n=Ui(t),r=Ui(t+1);return t+(e-n)/(r-n)}Date.now||(Date.now=function(){return+(new Date)});try{document.createElement("div").style.setProperty("opacity",0,"")}catch(Wi){var Xi=CSSStyleDeclaration.prototype,Vi=Xi.setProperty;Xi.setProperty=function(e,t,n){Vi.call(this,e,t+"",n)}}d3={version:"2.10.1"};var $i=n;try{$i(document.documentElement.childNodes)[0].nodeType}catch(Ji){$i=t}var Ki=[].__proto__?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)e[n]=t[n]};d3.map=function(e){var t=new r;for(var n in e)t.set(n,e[n]);return t},e(r,{has:function(e){return Qi+e in this},get:function(e){return this[Qi+e]},set:function(e,t){return this[Qi+e]=t},remove:function(e){return e=Qi+e,e in this&&delete this[e]},keys:function(){var e=[];return this.forEach(function(t){e.push(t)}),e},values:function(){var e=[];return this.forEach(function(t,n){e.push(n)}),e},entries:function(){var e=[];return this.forEach(function(t,n){e.push({key:t,value:n})}),e},forEach:function(e){for(var t in this)t.charCodeAt(0)===Gi&&e.call(this,t.substring(1),this[t])}});var Qi="\0",Gi=Qi.charCodeAt(0);d3.functor=u,d3.rebind=function(e,t){var n=1,r=arguments.length,i;while(++n<r)e[i=arguments[n]]=a(e,t,t[i]);return e},d3.ascending=function(e,t){return e<t?-1:e>t?1:e>=t?0:NaN},d3.descending=function(e,t){return t<e?-1:t>e?1:t>=e?0:NaN},d3.mean=function(e,t){var n=e.length,r,i=0,s=-1,o=0;if(arguments.length===1)while(++s<n)f(r=e[s])&&(i+=(r-i)/++o);else while(++s<n)f(r=t.call(e,e[s],s))&&(i+=(r-i)/++o);return o?i:undefined},d3.median=function(e,t){return arguments.length>1&&(e=e.map(t)),e=e.filter(f),e.length?d3.quantile(e.sort(d3.ascending),.5):undefined},d3.min=function(e,t){var n=-1,r=e.length,i,s;if(arguments.length===1){while(++n<r&&((i=e[n])==null||i!=i))i=undefined;while(++n<r)(s=e[n])!=null&&i>s&&(i=s)}else{while(++n<r&&((i=t.call(e,e[n],n))==null||i!=i))i=undefined;while(++n<r)(s=t.call(e,e[n],n))!=null&&i>s&&(i=s)}return i},d3.max=function(e,t){var n=-1,r=e.length,i,s;if(arguments.length===1){while(++n<r&&((i=e[n])==null||i!=i))i=undefined;while(++n<r)(s=e[n])!=null&&s>i&&(i=s)}else{while(++n<r&&((i=t.call(e,e[n],n))==null||i!=i))i=undefined;while(++n<r)(s=t.call(e,e[n],n))!=null&&s>i&&(i=s)}return i},d3.extent=function(e,t){var n=-1,r=e.length,i,s,o;if(arguments.length===1){while(++n<r&&((i=o=e[n])==null||i!=i))i=o=undefined;while(++n<r)(s=e[n])!=null&&(i>s&&(i=s),o<s&&(o=s))}else{while(++n<r&&((i=o=t.call(e,e[n],n))==null||i!=i))i=undefined;while(++n<r)(s=t.call(e,e[n],n))!=null&&(i>s&&(i=s),o<s&&(o=s))}return[i,o]},d3.random={normal:function(e,t){var n=arguments.length;return n<2&&(t=1),n<1&&(e=0),function(){var n,r,i;do n=Math.random()*2-1,r=Math.random()*2-1,i=n*n+r*r;while(!i||i>1);return e+t*n*Math.sqrt(-2*Math.log(i)/i)}},logNormal:function(e,t){var n=arguments.length;n<2&&(t=1),n<1&&(e=0);var r=d3.random.normal();return function(){return Math.exp(e+t*r())}},irwinHall:function(e){return function(){for(var t=0,n=0;n<e;n++)t+=Math.random();return t/e}}},d3.sum=function(e,t){var n=0,r=e.length,i,s=-1;if(arguments.length===1)while(++s<r)isNaN(i=+e[s])||(n+=i);else while(++s<r)isNaN(i=+t.call(e,e[s],s))||(n+=i);return n},d3.quantile=function(e,t){var n=(e.length-1)*t+1,r=Math.floor(n),i=e[r-1],s=n-r;return s?i+s*(e[r]-i):i},d3.transpose=function(e){return d3.zip.apply(d3,e)},d3.zip=function(){if(!(i=arguments.length))return[];for(var e=-1,t=d3.min(arguments,l),n=new Array(t);++e<t;)for(var r=-1,i,s=n[e]=new Array(i);++r<i;)s[r]=arguments[r][e];return n},d3.bisector=function(e){return{left:function(t,n,r,i){arguments.length<3&&(r=0),arguments.length<4&&(i=t.length);while(r<i){var s=r+i>>>1;e.call(t,t[s],s)<n?r=s+1:i=s}return r},right:function(t,n,r,i){arguments.length<3&&(r=0),arguments.length<4&&(i=t.length);while(r<i){var s=r+i>>>1;n<e.call(t,t[s],s)?i=s:r=s+1}return r}}};var Yi=d3.bisector(function(e){return e});d3.bisectLeft=Yi.left,d3.bisect=d3.bisectRight=Yi.right,d3.first=function(e,t){var n=0,r=e.length,i=e[0],s;arguments.length===1&&(t=d3.ascending);while(++n<r)t.call(e,i,s=e[n])>0&&(i=s);return i},d3.last=function(e,t){var n=0,r=e.length,i=e[0],s;arguments.length===1&&(t=d3.ascending);while(++n<r)t.call(e,i,s=e[n])<=0&&(i=s);return i},d3.nest=function(){function e(t,s){if(s>=i.length)return u?u.call(n,t):o?t.sort(o):t;var a=-1,f=t.length,l=i[s++],c,h,p=new r,d,v={};while(++a<f)(d=p.get(c=l(h=t[a])))?d.push(h):p.set(c,[h]);return p.forEach(function(t,n){v[t]=e(n,s)}),v}function t(e,n){if(n>=i.length)return e;var r=[],o=s[n++],u;for(u in e)r.push({key:u,values:t(e[u],n)});return o&&r.sort(function(e,t){return o(e.key,t.key)}),r}var n={},i=[],s=[],o,u;return n.map=function(t){return e(t,0)},n.entries=function(n){return t(e(n,0),0)},n.key=function(e){return i.push(e),n},n.sortKeys=function(e){return s[i.length-1]=e,n},n.sortValues=function(e){return o=e,n},n.rollup=function(e){return u=e,n},n},d3.keys=function(e){var t=[];for(var n in e)t.push(n);return t},d3.values=function(e){var t=[];for(var n in e)t.push(e[n]);return t},d3.entries=function(e){var t=[];for(var n in e)t.push({key:n,value:e[n]});return t},d3.permute=function(e,t){var n=[],r=-1,i=t.length;while(++r<i)n[r]=e[t[r]];return n},d3.merge=function(e){return Array.prototype.concat.apply([],e)},d3.split=function(e,t){var n=[],r=[],i,s=-1,o=e.length;arguments.length<2&&(t=c);while(++s<o)t.call(r,i=e[s],s)?r=[]:(r.length||n.push(r),r.push(i));return n},d3.range=function(e,t,n){arguments.length<3&&(n=1,arguments.length<2&&(t=e,e=0));if((t-e)/n===Infinity)throw new Error("infinite range");var r=[],i=p(Math.abs(n)),s=-1,o;e*=i,t*=i,n*=i;if(n<0)while((o=e+n*++s)>t)r.push(o/i);else while((o=e+n*++s)<t)r.push(o/i);return r},d3.requote=function(e){return e.replace(Zi,"\\$&")};var Zi=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;d3.round=function(e,t){return t?Math.round(e*(t=Math.pow(10,t)))/t:Math.round(e)},d3.xhr=function(e,t,n){var r=new XMLHttpRequest;arguments.length<3?(n=t,t=null):t&&r.overrideMimeType&&r.overrideMimeType(t),r.open("GET",e,!0),t&&r.setRequestHeader("Accept",t),r.onreadystatechange=function(){if(r.readyState===4){var e=r.status;n(!e&&r.response||e>=200&&e<300||e===304?r:null)}},r.send(null)},d3.text=function(e,t,n){function r(e){n(e&&e.responseText)}arguments.length<3&&(n=t,t=null),d3.xhr(e,t,r)},d3.json=function(e,t){d3.text(e,"application/json",function(e){t(e?JSON.parse(e):null)})},d3.html=function(e,t){d3.text(e,"text/html",function(e){if(e!=null){var n=document.createRange();n.selectNode(document.body),e=n.createContextualFragment(e)}t(e)})},d3.xml=function(e,t,n){function r(e){n(e&&e.responseXML)}arguments.length<3&&(n=t,t=null),d3.xhr(e,t,r)};var es={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};d3.ns={prefix:es,qualify:function(e){var t=e.indexOf(":"),n=e;return t>=0&&(n=e.substring(0,t),e=e.substring(t+1)),es.hasOwnProperty(n)?{space:es[n],local:e}:e}},d3.dispatch=function(){var e=new d,t=-1,n=arguments.length;while(++t<n)e[arguments[t]]=v(e);return e},d.prototype.on=function(e,t){var n=e.indexOf("."),r="";return n>0&&(r=e.substring(n+1),e=e.substring(0,n)),arguments.length<2?this[e].on(r):this[e].on(r,t)},d3.format=function(e){var t=ts.exec(e),n=t[1]||" ",r=t[3]||"",i=t[5],s=+t[6],o=t[7],u=t[8],a=t[9],f=1,l="",c=!1;u&&(u=+u.substring(1)),i&&(n="0",o&&(s-=Math.floor((s-1)/4)));switch(a){case"n":o=!0,a="g";break;case"%":f=100,l="%",a="f";break;case"p":f=100,l="%",a="r";break;case"d":c=!0,u=0;break;case"s":f=-1,a="r"}return a=="r"&&!u&&(a="g"),a=ns.get(a)||g,function(e){if(c&&e%1)return"";var t=e<0&&(e=-e)?"-":r;if(f<0){var h=d3.formatPrefix(e,u);e=h.scale(e),l=h.symbol}else e*=f;e=a(e,u);if(i){var p=e.length+t.length;p<s&&(e=(new Array(s-p+1)).join(n)+e),o&&(e=y(e)),e=t+e}else{o&&(e=y(e)),e=t+e;var p=e.length;p<s&&(e=(new Array(s-p+1)).join(n)+e)}return e+l}};var ts=/(?:([^{])?([<>=^]))?([+\- ])?(#)?(0)?([0-9]+)?(,)?(\.[0-9]+)?([a-zA-Z%])?/,ns=d3.map({g:function(e,t){return e.toPrecision(t)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},r:function(e,t){return d3.round(e,t=m(e,t)).toFixed(Math.max(0,Math.min(20,t)))}}),rs=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"].map(b);d3.formatPrefix=function(e,t){var n=0;return e&&(e<0&&(e*=-1),t&&(e=d3.round(e,m(e,t))),n=1+Math.floor(1e-12+Math.log(e)/Math.LN10),n=Math.max(-24,Math.min(24,Math.floor((n<=0?n+1:n-1)/3)*3))),rs[8+n/3]};var is=T(2),ss=T(3),os=function(){return x},us=d3.map({linear:os,poly:T,quad:function(){return is},cubic:function(){return ss},sin:function(){return N},exp:function(){return C},circle:function(){return k},elastic:L,back:A,bounce:function(){return O}}),as=d3.map({"in":x,out:E,"in-out":S,"out-in":function(e){return S(E(e))}});d3.ease=function(e){var t=e.indexOf("-"),n=t>=0?e.substring(0,t):e,r=t>=0?e.substring(t+1):"in";return n=us.get(n)||os,r=as.get(r)||x,w(r(n.apply(null,Array.prototype.slice.call(arguments,1))))},d3.event=null,d3.transform=function(e){var t=document.createElementNS(d3.ns.prefix.svg,"g");return(d3.transform=function(e){t.setAttribute("transform",e);var n=t.transform.baseVal.consolidate();return new P(n?n.matrix:ls)})(e)},P.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var fs=180/Math.PI,ls={a:1,b:0,c:0,d:1,e:0,f:0};d3.interpolate=function(e,t){var n=d3.interpolators.length,r;while(--n>=0&&!(r=d3.interpolators[n](e,t)));return r},d3.interpolateNumber=function(e,t){return t-=e,function(n){return e+t*n}},d3.interpolateRound=function(e,t){return t-=e,function(n){return Math.round(e+t*n)}},d3.interpolateString=function(e,t){var n,r,i,s=0,o=0,u=[],a=[],f,l;cs.lastIndex=0;for(r=0;n=cs.exec(t);++r)n.index&&u.push(t.substring(s,o=n.index)),a.push({i:u.length,x:n[0]}),u.push(null),s=cs.lastIndex;s<t.length&&u.push(t.substring(s));for(r=0,f=a.length;(n=cs.exec(e))&&r<f;++r){l=a[r];if(l.x==n[0]){if(l.i)if(u[l.i+1]==null){u[l.i-1]+=l.x,u.splice(l.i,1);for(i=r+1;i<f;++i)a[i].i--}else{u[l.i-1]+=l.x+u[l.i+1],u.splice(l.i,2);for(i=r+1;i<f;++i)a[i].i-=2}else if(u[l.i+1]==null)u[l.i]=l.x;else{u[l.i]=l.x+u[l.i+1],u.splice(l.i+1,1);for(i=r+1;i<f;++i)a[i].i--}a.splice(r,1),f--,r--}else l.x=d3.interpolateNumber(parseFloat(n[0]),parseFloat(l.x))}while(r<f)l=a.pop(),u[l.i+1]==null?u[l.i]=l.x:(u[l.i]=l.x+u[l.i+1],u.splice(l.i+1,1)),f--;return u.length===1?u[0]==null?a[0].x:function(){return t}:function(e){for(r=0;r<f;++r)u[(l=a[r]).i]=l.x(e);return u.join("")}},d3.interpolateTransform=function(e,t){var n=[],r=[],i,s=d3.transform(e),o=d3.transform(t),u=s.translate,a=o.translate,f=s.rotate,l=o.rotate,c=s.skew,h=o.skew,p=s.scale,d=o.scale;return u[0]!=a[0]||u[1]!=a[1]?(n.push("translate(",null,",",null,")"),r.push({i:1,x:d3.interpolateNumber(u[0],a[0])},{i:3,x:d3.interpolateNumber(u[1],a[1])})):a[0]||a[1]?n.push("translate("+a+")"):n.push(""),f!=l?(f-l>180?l+=360:l-f>180&&(f+=360),r.push({i:n.push(n.pop()+"rotate(",null,")")-2,x:d3.interpolateNumber(f,l)})):l&&n.push(n.pop()+"rotate("+l+")"),c!=h?r.push({i:n.push(n.pop()+"skewX(",null,")")-2,x:d3.interpolateNumber(c,h)}):h&&n.push(n.pop()+"skewX("+h+")"),p[0]!=d[0]||p[1]!=d[1]?(i=n.push(n.pop()+"scale(",null,",",null,")"),r.push({i:i-4,x:d3.interpolateNumber(p[0],d[0])},{i:i-2,x:d3.interpolateNumber(p[1],d[1])})):(d[0]!=1||d[1]!=1)&&n.push(n.pop()+"scale("+d+")"),i=r.length,function(e){var t=-1,s;while(++t<i)n[(s=r[t]).i]=s.x(e);return n.join("")}},d3.interpolateRgb=function(e,t){e=d3.rgb(e),t=d3.rgb(t);var n=e.r,r=e.g,i=e.b,s=t.r-n,o=t.g-r,u=t.b-i;return function(e){return"#"+z(Math.round(n+s*e))+z(Math.round(r+o*e))+z(Math.round(i+u*e))}},d3.interpolateHsl=function(e,t){e=d3.hsl(e),t=d3.hsl(t);var n=e.h,r=e.s,i=e.l,s=t.h-n,o=t.s-r,u=t.l-i;return s>180?s-=360:s<-180&&(s+=360),function(e){return G(n+s*e,r+o*e,i+u*e)+""}},d3.interpolateLab=function(e,t){e=d3.lab(e),t=d3.lab(t);var n=e.l,r=e.a,i=e.b,s=t.l-n,o=t.a-r,u=t.b-i;return function(e){return rt(n+s*e,r+o*e,i+u*e)+""}},d3.interpolateHcl=function(e,t){e=d3.hcl(e),t=d3.hcl(t);var n=e.h,r=e.c,i=e.l,s=t.h-n,o=t.c-r,u=t.l-i;return s>180?s-=360:s<-180&&(s+=360),function(e){return et(n+s*e,r+o*e,i+u*e)+""}},d3.interpolateArray=function(e,t){var n=[],r=[],i=e.length,s=t.length,o=Math.min(e.length,t.length),u;for(u=0;u<o;++u)n.push(d3.interpolate(e[u],t[u]));for(;u<i;++u)r[u]=e[u];for(;u<s;++u)r[u]=t[u];return function(e){for(u=0;u<o;++u)r[u]=n[u](e);return r}},d3.interpolateObject=function(e,t){var n={},r={},i;for(i in e)i in t?n[i]=F(i)(e[i],t[i]):r[i]=e[i];for(i in t)i in e||(r[i]=t[i]);return function(e){for(i in n)r[i]=n[i](e);return r}};var cs=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g;d3.interpolators=[d3.interpolateObject,function(e,t){return t instanceof Array&&d3.interpolateArray(e,t)},function(e,t){return(typeof e=="string"||typeof t=="string")&&d3.interpolateString(e+"",t+"")},function(e,t){return(typeof t=="string"?hs.has(t)||/^(#|rgb\(|hsl\()/.test(t):t instanceof U||t instanceof Q)&&d3.interpolateRgb(e,t)},function(e,t){return!isNaN(e=+e)&&!isNaN(t=+t)&&d3.interpolateNumber(e,t)}],d3.rgb=function(e,t,n){return arguments.length===1?e instanceof U?R(e.r,e.g,e.b):W(""+e,R,G):R(~~e,~~t,~~n)},U.prototype.brighter=function(e){e=Math.pow(.7,arguments.length?e:1);var t=this.r,n=this.g,r=this.b,i=30;return!t&&!n&&!r?R(i,i,i):(t&&t<i&&(t=i),n&&n<i&&(n=i),r&&r<i&&(r=i),R(Math.min(255,Math.floor(t/e)),Math.min(255,Math.floor(n/e)),Math.min(255,Math.floor(r/e))))},U.prototype.darker=function(e){return e=Math.pow(.7,arguments.length?e:1),R(Math.floor(e*this.r),Math.floor(e*this.g),Math.floor(e*this.b))},U.prototype.hsl=function(){return X(this.r,this.g,this.b)},U.prototype.toString=function(){return"#"+z(this.r)+z(this.g)+z(this.b)};var hs=d3.map({aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"});hs.forEach(function(e,t){hs.set(e,W(t,R,G))}),d3.hsl=function(e,t,n){return arguments.length===1?e instanceof Q?K(e.h,e.s,e.l):W(""+e,X,K):K(+e,+t,+n)},Q.prototype.brighter=function(e){return e=Math.pow(.7,arguments.length?e:1),K(this.h,this.s,this.l/e)},Q.prototype.darker=function(e){return e=Math.pow(.7,arguments.length?e:1),K(this.h,this.s,e*this.l)},Q.prototype.rgb=function(){return G(this.h,this.s,this.l)},Q.prototype.toString=function(){return this.rgb().toString()},d3.hcl=function(e,t,n){return arguments.length===1?e instanceof Z?Y(e.h,e.c,e.l):e instanceof nt?it(e.l,e.a,e.b):it((e=V((e=d3.rgb(e)).r,e.g,e.b)).l,e.a,e.b):Y(+e,+t,+n)},Z.prototype.brighter=function(e){return Y(this.h,this.c,Math.min(100,this.l+ps*(arguments.length?e:1)))},Z.prototype.darker=function(e){return Y(this.h,this.c,Math.max(0,this.l-ps*(arguments.length?e:1)))},Z.prototype.rgb=function(){return et(this.h,this.c,this.l).rgb()},Z.prototype.toString=function(){return this.rgb()+""},d3.lab=function(e,t,n){return arguments.length===1?e instanceof nt?tt(e.l,e.a,e.b):e instanceof Z?et(e.l,e.c,e.h):V((e=d3.rgb(e)).r,e.g,e.b):tt(+e,+t,+n)};var ps=18,ds=.95047,vs=1,ms=1.08883;nt.prototype.brighter=function(e){return tt(Math.min(100,this.l+ps*(arguments.length?e:1)),this.a,this.b)},nt.prototype.darker=function(e){return tt(Math.max(0,this.l-ps*(arguments.length?e:1)),this.a,this.b)},nt.prototype.rgb=function(){return rt(this.l,this.a,this.b)},nt.prototype.toString=function(){return this.rgb()+""};var gs=function(e,t){return t.querySelector(e)},ys=function(e,t){return t.querySelectorAll(e)},bs=document.documentElement,ws=bs.matchesSelector||bs.webkitMatchesSelector||bs.mozMatchesSelector||bs.msMatchesSelector||bs.oMatchesSelector,Es=function(e,t){return ws.call(e,t)};typeof Sizzle=="function"&&(gs=function(e,t){return Sizzle(e,t)[0]||null},ys=function(e,t){return Sizzle.uniqueSort(Sizzle(e,t))},Es=Sizzle.matchesSelector);var Ss=[];d3.selection=function(){return xs},d3.selection.prototype=Ss,Ss.select=function(e){var t=[],n,r,i,s;typeof e!="function"&&(e=ft(e));for(var o=-1,u=this.length;++o<u;){t.push(n=[]),n.parentNode=(i=this[o]).parentNode;for(var a=-1,f=i.length;++a<f;)(s=i[a])?(n.push(r=e.call(s,s.__data__,a)),r&&"__data__"in s&&(r.__data__=s.__data__)):n.push(null)}return at(t)},Ss.selectAll=function(e){var t=[],n,r;typeof e!="function"&&(e=lt(e));for(var i=-1,s=this.length;++i<s;)for(var o=this[i],u=-1,a=o.length;++u<a;)if(r=o[u])t.push(n=$i(e.call(r,r.__data__,u))),n.parentNode=r;return at(t)},Ss.attr=function(e,t){if(arguments.length<2){if(typeof e=="string"){var n=this.node();return e=d3.ns.qualify(e),e.local?n.getAttributeNS(e.space,e.local):n.getAttribute(e)}for(t in e)this.each(ct(t,e[t]));return this}return this.each(ct(e,t))},Ss.classed=function(e,t){if(arguments.length<2){if(typeof e=="string"){var n=this.node(),r=(e=e.trim().split(/^|\s+/g)).length,i=-1;if(t=n.classList){while(++i<r)if(!t.contains(e[i]))return!1}else{t=n.className,t.baseVal!=null&&(t=t.baseVal);while(++i<r)if(!ht(e[i]).test(t))return!1}return!0}for(t in e)this.each(pt(t,e[t]));return this}return this.each(pt(e,t))},Ss.style=function(e,t,n){var r=arguments.length;if(r<3){if(typeof e!="string"){r<2&&(t="");for(n in e)this.each(vt(n,e[n],t));return this}if(r<2)return window.getComputedStyle(this.node(),null).getPropertyValue(e);n=""}return this.each(vt(e,t,n))},Ss.property=function(e,t){if(arguments.length<2){if(typeof e=="string")return this.node()[e];for(t in e)this.each(mt(t,e[t]));return this}return this.each(mt(e,t))},Ss.text=function(e){return arguments.length<1?this.node().textContent:this.each(typeof e=="function"?function(){var t=e.apply(this,arguments);this.textContent=t==null?"":t}:e==null?function(){this.textContent=""}:function(){this.textContent=e})},Ss.html=function(e){return arguments.length<1?this.node().innerHTML:this.each(typeof e=="function"?function(){var t=e.apply(this,arguments);this.innerHTML=t==null?"":t}:e==null?function(){this.innerHTML=""}:function(){this.innerHTML=e})},Ss.append=function(e){function t(){return this.appendChild(document.createElementNS(this.namespaceURI,e))}function n(){return this.appendChild(document.createElementNS(e.space,e.local))}return e=d3.ns.qualify(e),this.select(e.local?n:t)},Ss.insert=function(e,t){function n(){return this.insertBefore(document.createElementNS(this.namespaceURI,e),gs(t,this))}function r(){return this.insertBefore(document.createElementNS(e.space,e.local),gs(t,this))}return e=d3.ns.qualify(e),this.select(e.local?r:n)},Ss.remove=function(){return this.each(function(){var e=this.parentNode;e&&e.removeChild(this)})},Ss.data=function(e,t){function n(e,n){var i,s=e.length,o=n.length,u=Math.min(s,o),c=Math.max(s,o),h=[],p=[],d=[],v,m;if(t){var g=new r,y=[],b,w=n.length;for(i=-1;++i<s;)b=t.call(v=e[i],v.__data__,i),g.has(b)?d[w++]=v:g.set(b,v),y.push(b);for(i=-1;++i<o;)b=t.call(n,m=n[i],i),g.has(b)?(h[i]=v=g.get(b),v.__data__=m,p[i]=d[i]=null):(p[i]=gt(m),h[i]=d[i]=null),g.remove(b);for(i=-1;++i<s;)g.has(y[i])&&(d[i]=e[i])}else{for(i=-1;++i<u;)v=e[i],m=n[i],v?(v.__data__=m,h[i]=v,p[i]=d[i]=null):(p[i]=gt(m),h[i]=d[i]=null);for(;i<o;++i)p[i]=gt(n[i]),h[i]=d[i]=null;for(;i<c;++i)d[i]=e[i],p[i]=h[i]=null}p.update=h,p.parentNode=h.parentNode=d.parentNode=e.parentNode,a.push(p),f.push(h),l.push(d)}var i=-1,s=this.length,o,u;if(!arguments.length){e=new Array(s=(o=this[0]).length);while(++i<s)if(u=o[i])e[i]=u.__data__;return e}var a=St([]),f=at([]),l=at([]);if(typeof e=="function")while(++i<s)n(o=this[i],e.call(o,o.parentNode.__data__,i));else while(++i<s)n(o=this[i],e);return f.enter=function(){return a},f.exit=function(){return l},f},Ss.datum=Ss.map=function(e){return arguments.length<1?this.property("__data__"):this.property("__data__",e)},Ss.filter=function(e){var t=[],n,r,i;typeof e!="function"&&(e=yt(e));for(var s=0,o=this.length;s<o;s++){t.push(n=[]),n.parentNode=(r=this[s]).parentNode;for(var u=0,a=r.length;u<a;u++)(i=r[u])&&e.call(i,i.__data__,u)&&n.push(i)}return at(t)},Ss.order=function(){for(var e=-1,t=this.length;++e<t;)for(var n=this[e],r=n.length-1,i=n[r],s;--r>=0;)if(s=n[r])i&&i!==s.nextSibling&&i.parentNode.insertBefore(s,i),i=s;return this},Ss.sort=function(e){e=bt.apply(this,arguments);for(var t=-1,n=this.length;++t<n;)this[t].sort(e);return this.order()},Ss.on=function(e,t,n){var r=arguments.length;if(r<3){if(typeof e!="string"){r<2&&(t=!1);for(n in e)this.each(wt(n,e[n],t));return this}if(r<2)return(r=this.node()["__on"+e])&&r._;n=!1}return this.each(wt(e,t,n))},Ss.each=function(e){return Et(this,function(t,n,r){e.call(t,t.__data__,n,r)})},Ss.call=function(e){return e.apply(this,(arguments[0]=this,arguments)),this},Ss.empty=function(){return!this.node()},Ss.node=function(e){for(var t=0,n=this.length;t<n;t++)for(var r=this[t],i=0,s=r.length;i<s;i++){var o=r[i];if(o)return o}return null},Ss.transition=function(){var e=[],t,n;for(var r=-1,i=this.length;++r<i;){e.push(t=[]);for(var s=this[r],o=-1,u=s.length;++o<u;)t.push((n=s[o])?{node:n,delay:Ms,duration:_s}:null)}return xt(e,ks||++Cs,Date.now())};var xs=at([[document]]);xs[0].parentNode=bs,d3.select=function(e){return typeof e=="string"?xs.select(e):at([[e]])},d3.selectAll=function(e){return typeof e=="string"?xs.selectAll(e):at([$i(e)])};var Ts=[];d3.selection.enter=St,d3.selection.enter.prototype=Ts,Ts.append=Ss.append,Ts.insert=Ss.insert,Ts.empty=Ss.empty,Ts.node=Ss.node,Ts.select=function(e){var t=[],n,r,i,s,o;for(var u=-1,a=this.length;++u<a;){i=(s=this[u]).update,t.push(n=[]),n.parentNode=s.parentNode;for(var f=-1,l=s.length;++f<l;)(o=s[f])?(n.push(i[f]=r=e.call(s.parentNode,o.__data__,f)),r.__data__=o.__data__):n.push(null)}return at(t)};var Ns=[],Cs=0,ks=0,Ls=0,As=250,Os=d3.ease("cubic-in-out"),Ms=Ls,_s=As,Ds=Os;Ns.call=Ss.call,d3.transition=function(e){return arguments.length?ks?e.transition():e:xs.transition()},d3.transition.prototype=Ns,Ns.select=function(e){var t=[],n,r,i;typeof e!="function"&&(e=ft(e));for(var s=-1,o=this.length;++s<o;){t.push(n=[]);for(var u=this[s],a=-1,f=u.length;++a<f;)(i=u[a])&&(r=e.call(i.node,i.node.__data__,a))?("__data__"in i.node&&(r.__data__=i.node.__data__),n.push({node:r,delay:i.delay,duration:i.duration})):n.push(null)}return xt(t,this.id,this.time).ease(this.ease())},Ns.selectAll=function(e){var t=[],n,r,i;typeof e!="function"&&(e=lt(e));for(var s=-1,o=this.length;++s<o;)for(var u=this[s],a=-1,f=u.length;++a<f;)if(i=u[a]){r=e.call(i.node,i.node.__data__,a),t.push(n=[]);for(var l=-1,c=r.length;++l<c;)n.push({node:r[l],delay:i.delay,duration:i.duration})}return xt(t,this.id,this.time).ease(this.ease())},Ns.filter=function(e){var t=[],n,r,i;typeof e!="function"&&(e=yt(e));for(var s=0,o=this.length;s<o;s++){t.push(n=[]);for(var r=this[s],u=0,a=r.length;u<a;u++)(i=r[u])&&e.call(i.node,i.node.__data__,u)&&n.push(i)}return xt(t,this.id,this.time).ease(this.ease())},Ns.attr=function(e,t){if(arguments.length<2){for(t in e)this.attrTween(t,Ct(e[t],t));return this}return this.attrTween(e,Ct(t,e))},Ns.attrTween=function(e,t){function n(e,n){var r=t.call(this,e,n,this.getAttribute(i));return r===Ps?(this.removeAttribute(i),null):r&&function(e){this.setAttribute(i,r(e))}}function r(e,n){var r=t.call(this,e,n,this.getAttributeNS(i.space,i.local));return r===Ps?(this.removeAttributeNS(i.space,i.local),null):r&&function(e){this.setAttributeNS(i.space,i.local,r(e))}}var i=d3.ns.qualify(e);return this.tween("attr."+e,i.local?r:n)},Ns.style=function(e,t,n){var r=arguments.length;if(r<3){if(typeof e!="string"){r<2&&(t="");for(n in e)this.styleTween(n,Ct(e[n],n),t);return this}n=""}return this.styleTween(e,Ct(t,e),n)},Ns.styleTween=function(e,t,n){return arguments.length<3&&(n=""),this.tween("style."+e,function(r,i){var s=t.call(this,r,i,window.getComputedStyle(this,null).getPropertyValue(e));return s===Ps?(this.style.removeProperty(e),null):s&&function(t){this.style.setProperty(e,s(t),n)}})},Ns.text=function(e){return this.tween("text",function(t,n){this.textContent=typeof e=="function"?e.call(this,t,n):e})},Ns.remove=function(){return this.each("end.transition",function(){var e;!this.__transition__&&(e=this.parentNode)&&e.removeChild(this)})},Ns.delay=function(e){return Et(this,typeof e=="function"?function(t,n,r){t.delay=e.call(t=t.node,t.__data__,n,r)|0}:(e|=0,function(t){t.delay=e}))},Ns.duration=function(e){return Et(this,typeof e=="function"?function(t,n,r){t.duration=Math.max(1,e.call(t=t.node,t.__data__,n,r)|0)}:(e=Math.max(1,e|0),function(t){t.duration=e}))},Ns.transition=function(){return this.select(s)},d3.tween=function(e,t){function n(n,r,i){var s=e.call(this,n,r);return s==null?i!=""&&Ps:i!=s&&t(i,s)}function r(n,r,i){return i!=e&&t(i,e)}return typeof e=="function"?n:e==null?Nt:(e+="",r)};var Ps={},Hs=null,Bs,js;d3.timer=function(e,t,n){var r=!1,i,s=Hs;if(arguments.length<3){if(arguments.length<2)t=0;else if(!isFinite(t))return;n=Date.now()}while(s){if(s.callback===e){s.then=n,s.delay=t,r=!0;break}i=s,s=s.next}r||(Hs={callback:e,then:n,delay:t,next:Hs}),Bs||(js=clearTimeout(js),Bs=1,Fs(kt))},d3.timer.flush=function(){var e,t=Date.now(),n=Hs;while(n)e=t-n.then,n.delay||(n.flush=n.callback(e)),n=n.next;Lt()};var Fs=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){setTimeout(e,17)};d3.mouse=function(e){return At(e,_())};var Is=/WebKit/.test(navigator.userAgent)?-1:0;d3.touches=function(e,t){return arguments.length<2&&(t=_().touches),t?$i(t).map(function(t){var n=At(e,t);return n.identifier=t.identifier,n}):[]},d3.scale={},d3.scale.linear=function(){return Ht([0,1],[0,1],d3.interpolate,!1)},d3.scale.log=function(){return zt(d3.scale.linear(),Wt)};var qs=d3.format(".0e");Wt.pow=function(e){return Math.pow(10,e)},Xt.pow=function(e){return-Math.pow(10,-e)},d3.scale.pow=function(){return Vt(d3.scale.linear(),1)},d3.scale.sqrt=function(){return d3.scale.pow().exponent(.5)},d3.scale.ordinal=function(){return Jt([],{t:"range",a:[[]]})},d3.scale.category10=function(){return d3.scale.ordinal().range(Rs)},d3.scale.category20=function(){return d3.scale.ordinal().range(Us)},d3.scale.category20b=function(){return d3.scale.ordinal().range(zs)},d3.scale.category20c=function(){return d3.scale.ordinal().range(Ws)};var Rs=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],Us=["#1f77b4","#aec7e8","#ff7f0e","#ffbb78","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5","#8c564b","#c49c94","#e377c2","#f7b6d2","#7f7f7f","#c7c7c7","#bcbd22","#dbdb8d","#17becf","#9edae5"],zs=["#393b79","#5254a3","#6b6ecf","#9c9ede","#637939","#8ca252","#b5cf6b","#cedb9c","#8c6d31","#bd9e39","#e7ba52","#e7cb94","#843c39","#ad494a","#d6616b","#e7969c","#7b4173","#a55194","#ce6dbd","#de9ed6"],Ws=["#3182bd","#6baed6","#9ecae1","#c6dbef","#e6550d","#fd8d3c","#fdae6b","#fdd0a2","#31a354","#74c476","#a1d99b","#c7e9c0","#756bb1","#9e9ac8","#bcbddc","#dadaeb","#636363","#969696","#bdbdbd","#d9d9d9"];d3.scale.quantile=function(){return Kt([],[])},d3.scale.quantize=function(){return Qt(0,1,[0,1])},d3.scale.threshold=function(){return Gt([.5],[0,1])},d3.scale.identity=function(){return Yt([0,1])},d3.svg={},d3.svg.arc=function(){function e(){var e=t.apply(this,arguments),s=n.apply(this,arguments),o=r.apply(this,arguments)+Xs,u=i.apply(this,arguments)+Xs,a=(u<o&&(a=o,o=u,u=a),u-o),f=a<Math.PI?"0":"1",l=Math.cos(o),c=Math.sin(o),h=Math.cos(u),p=Math.sin(u);return a>=Vs?e?"M0,"+s+"A"+s+","+s+" 0 1,1 0,"+ -s+"A"+s+","+s+" 0 1,1 0,"+s+"M0,"+e+"A"+e+","+e+" 0 1,0 0,"+ -e+"A"+
e+","+e+" 0 1,0 0,"+e+"Z":"M0,"+s+"A"+s+","+s+" 0 1,1 0,"+ -s+"A"+s+","+s+" 0 1,1 0,"+s+"Z":e?"M"+s*l+","+s*c+"A"+s+","+s+" 0 "+f+",1 "+s*h+","+s*p+"L"+e*h+","+e*p+"A"+e+","+e+" 0 "+f+",0 "+e*l+","+e*c+"Z":"M"+s*l+","+s*c+"A"+s+","+s+" 0 "+f+",1 "+s*h+","+s*p+"L0,0"+"Z"}var t=Zt,n=en,r=tn,i=nn;return e.innerRadius=function(n){return arguments.length?(t=u(n),e):t},e.outerRadius=function(t){return arguments.length?(n=u(t),e):n},e.startAngle=function(t){return arguments.length?(r=u(t),e):r},e.endAngle=function(t){return arguments.length?(i=u(t),e):i},e.centroid=function(){var e=(t.apply(this,arguments)+n.apply(this,arguments))/2,s=(r.apply(this,arguments)+i.apply(this,arguments))/2+Xs;return[Math.cos(s)*e,Math.sin(s)*e]},e};var Xs=-Math.PI/2,Vs=2*Math.PI-1e-6;d3.svg.line=function(){return rn(i)};var $s=d3.map({linear:un,"linear-closed":an,"step-before":fn,"step-after":ln,basis:mn,"basis-open":gn,"basis-closed":yn,bundle:bn,cardinal:pn,"cardinal-open":cn,"cardinal-closed":hn,monotone:Nn});$s.forEach(function(e,t){t.key=e,t.closed=/-closed$/.test(e)});var Js=[0,2/3,1/3,0],Ks=[0,1/3,2/3,0],Qs=[0,1/6,2/3,1/6];d3.svg.line.radial=function(){var e=rn(Cn);return e.radius=e.x,delete e.x,e.angle=e.y,delete e.y,e},fn.reverse=ln,ln.reverse=fn,d3.svg.area=function(){return kn(i)},d3.svg.area.radial=function(){var e=kn(Cn);return e.radius=e.x,delete e.x,e.innerRadius=e.x0,delete e.x0,e.outerRadius=e.x1,delete e.x1,e.angle=e.y,delete e.y,e.startAngle=e.y0,delete e.y0,e.endAngle=e.y1,delete e.y1,e},d3.svg.chord=function(){function e(e,u){var a=t(this,s,e,u),f=t(this,o,e,u);return"M"+a.p0+r(a.r,a.p1,a.a1-a.a0)+(n(a,f)?i(a.r,a.p1,a.r,a.p0):i(a.r,a.p1,f.r,f.p0)+r(f.r,f.p1,f.a1-f.a0)+i(f.r,f.p1,a.r,a.p0))+"Z"}function t(e,t,n,r){var i=t.call(e,n,r),s=a.call(e,i,r),o=f.call(e,i,r)+Xs,u=l.call(e,i,r)+Xs;return{r:s,a0:o,a1:u,p0:[s*Math.cos(o),s*Math.sin(o)],p1:[s*Math.cos(u),s*Math.sin(u)]}}function n(e,t){return e.a0==t.a0&&e.a1==t.a1}function r(e,t,n){return"A"+e+","+e+" 0 "+ +(n>Math.PI)+",1 "+t}function i(e,t,n,r){return"Q 0,0 "+r}var s=Ln,o=An,a=On,f=tn,l=nn;return e.radius=function(t){return arguments.length?(a=u(t),e):a},e.source=function(t){return arguments.length?(s=u(t),e):s},e.target=function(t){return arguments.length?(o=u(t),e):o},e.startAngle=function(t){return arguments.length?(f=u(t),e):f},e.endAngle=function(t){return arguments.length?(l=u(t),e):l},e},d3.svg.diagonal=function(){function e(e,i){var s=t.call(this,e,i),o=n.call(this,e,i),u=(s.y+o.y)/2,a=[s,{x:s.x,y:u},{x:o.x,y:u},o];return a=a.map(r),"M"+a[0]+"C"+a[1]+" "+a[2]+" "+a[3]}var t=Ln,n=An,r=Dn;return e.source=function(n){return arguments.length?(t=u(n),e):t},e.target=function(t){return arguments.length?(n=u(t),e):n},e.projection=function(t){return arguments.length?(r=t,e):r},e},d3.svg.diagonal.radial=function(){var e=d3.svg.diagonal(),t=Dn,n=e.projection;return e.projection=function(e){return arguments.length?n(Pn(t=e)):t},e},d3.svg.mouse=d3.mouse,d3.svg.touches=d3.touches,d3.svg.symbol=function(){function e(e,r){return(Gs.get(t.call(this,e,r))||jn)(n.call(this,e,r))}var t=Bn,n=Hn;return e.type=function(n){return arguments.length?(t=u(n),e):t},e.size=function(t){return arguments.length?(n=u(t),e):n},e};var Gs=d3.map({circle:jn,cross:function(e){var t=Math.sqrt(e/5)/2;return"M"+ -3*t+","+ -t+"H"+ -t+"V"+ -3*t+"H"+t+"V"+ -t+"H"+3*t+"V"+t+"H"+t+"V"+3*t+"H"+ -t+"V"+t+"H"+ -3*t+"Z"},diamond:function(e){var t=Math.sqrt(e/(2*Zs)),n=t*Zs;return"M0,"+ -t+"L"+n+",0"+" 0,"+t+" "+ -n+",0"+"Z"},square:function(e){var t=Math.sqrt(e)/2;return"M"+ -t+","+ -t+"L"+t+","+ -t+" "+t+","+t+" "+ -t+","+t+"Z"},"triangle-down":function(e){var t=Math.sqrt(e/Ys),n=t*Ys/2;return"M0,"+n+"L"+t+","+ -n+" "+ -t+","+ -n+"Z"},"triangle-up":function(e){var t=Math.sqrt(e/Ys),n=t*Ys/2;return"M0,"+ -n+"L"+t+","+n+" "+ -t+","+n+"Z"}});d3.svg.symbolTypes=Gs.keys();var Ys=Math.sqrt(3),Zs=Math.tan(30*Math.PI/180);d3.svg.axis=function(){function e(e){e.each(function(){var e=d3.select(this),c=a==null?t.ticks?t.ticks.apply(t,u):t.domain():a,h=f==null?t.tickFormat?t.tickFormat.apply(t,u):String:f,p=qn(t,c,l),d=e.selectAll(".minor").data(p,String),v=d.enter().insert("line","g").attr("class","tick minor").style("opacity",1e-6),m=d3.transition(d.exit()).style("opacity",1e-6).remove(),g=d3.transition(d).style("opacity",1),y=e.selectAll("g").data(c,String),b=y.enter().insert("g","path").style("opacity",1e-6),w=d3.transition(y.exit()).style("opacity",1e-6).remove(),E=d3.transition(y).style("opacity",1),S,x=_t(t),T=e.selectAll(".domain").data([0]),N=T.enter().append("path").attr("class","domain"),C=d3.transition(T),k=t.copy(),L=this.__chart__||k;this.__chart__=k,b.append("line").attr("class","tick"),b.append("text");var A=b.select("line"),O=E.select("line"),M=y.select("text").text(h),_=b.select("text"),D=E.select("text");switch(n){case"bottom":S=Fn,v.attr("y2",i),g.attr("x2",0).attr("y2",i),A.attr("y2",r),_.attr("y",Math.max(r,0)+o),O.attr("x2",0).attr("y2",r),D.attr("x",0).attr("y",Math.max(r,0)+o),M.attr("dy",".71em").attr("text-anchor","middle"),C.attr("d","M"+x[0]+","+s+"V0H"+x[1]+"V"+s);break;case"top":S=Fn,v.attr("y2",-i),g.attr("x2",0).attr("y2",-i),A.attr("y2",-r),_.attr("y",-(Math.max(r,0)+o)),O.attr("x2",0).attr("y2",-r),D.attr("x",0).attr("y",-(Math.max(r,0)+o)),M.attr("dy","0em").attr("text-anchor","middle"),C.attr("d","M"+x[0]+","+ -s+"V0H"+x[1]+"V"+ -s);break;case"left":S=In,v.attr("x2",-i),g.attr("x2",-i).attr("y2",0),A.attr("x2",-r),_.attr("x",-(Math.max(r,0)+o)),O.attr("x2",-r).attr("y2",0),D.attr("x",-(Math.max(r,0)+o)).attr("y",0),M.attr("dy",".32em").attr("text-anchor","end"),C.attr("d","M"+ -s+","+x[0]+"H0V"+x[1]+"H"+ -s);break;case"right":S=In,v.attr("x2",i),g.attr("x2",i).attr("y2",0),A.attr("x2",r),_.attr("x",Math.max(r,0)+o),O.attr("x2",r).attr("y2",0),D.attr("x",Math.max(r,0)+o).attr("y",0),M.attr("dy",".32em").attr("text-anchor","start"),C.attr("d","M"+s+","+x[0]+"H0V"+x[1]+"H"+s)}if(t.ticks)b.call(S,L),E.call(S,k),w.call(S,k),v.call(S,L),g.call(S,k),m.call(S,k);else{var P=k.rangeBand()/2,H=function(e){return k(e)+P};b.call(S,H),E.call(S,H)}})}var t=d3.scale.linear(),n="bottom",r=6,i=6,s=6,o=3,u=[10],a=null,f,l=0;return e.scale=function(n){return arguments.length?(t=n,e):t},e.orient=function(t){return arguments.length?(n=t,e):n},e.ticks=function(){return arguments.length?(u=arguments,e):u},e.tickValues=function(t){return arguments.length?(a=t,e):a},e.tickFormat=function(t){return arguments.length?(f=t,e):f},e.tickSize=function(t,n,o){if(!arguments.length)return r;var u=arguments.length-1;return r=+t,i=u>1?+n:r,s=u>0?+arguments[u]:r,e},e.tickPadding=function(t){return arguments.length?(o=+t,e):o},e.tickSubdivide=function(t){return arguments.length?(l=+t,e):l},e},d3.svg.brush=function(){function e(s){s.each(function(){var s=d3.select(this),f=s.selectAll(".background").data([0]),l=s.selectAll(".extent").data([0]),c=s.selectAll(".resize").data(a,String),h;s.style("pointer-events","all").on("mousedown.brush",i).on("touchstart.brush",i),f.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),l.enter().append("rect").attr("class","extent").style("cursor","move"),c.enter().append("g").attr("class",function(e){return"resize "+e}).style("cursor",function(e){return eo[e]}).append("rect").attr("x",function(e){return/[ew]$/.test(e)?-3:null}).attr("y",function(e){return/^[ns]/.test(e)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),c.style("display",e.empty()?"none":null),c.exit().remove(),o&&(h=_t(o),f.attr("x",h[0]).attr("width",h[1]-h[0]),n(s)),u&&(h=_t(u),f.attr("y",h[0]).attr("height",h[1]-h[0]),r(s)),t(s)})}function t(e){e.selectAll(".resize").attr("transform",function(e){return"translate("+f[+/e$/.test(e)][0]+","+f[+/^s/.test(e)][1]+")"})}function n(e){e.select(".extent").attr("x",f[0][0]),e.selectAll(".extent,.n>rect,.s>rect").attr("width",f[1][0]-f[0][0])}function r(e){e.select(".extent").attr("y",f[0][1]),e.selectAll(".extent,.e>rect,.w>rect").attr("height",f[1][1]-f[0][1])}function i(){function i(){var e=d3.event.changedTouches;return e?d3.touches(v,e)[0]:d3.mouse(v)}function a(){d3.event.keyCode==32&&(S||(x=null,T[0]-=f[1][0],T[1]-=f[1][1],S=2),M())}function c(){d3.event.keyCode==32&&S==2&&(T[0]+=f[1][0],T[1]+=f[1][1],S=0,M())}function h(){var e=i(),s=!1;N&&(e[0]+=N[0],e[1]+=N[1]),S||(d3.event.altKey?(x||(x=[(f[0][0]+f[1][0])/2,(f[0][1]+f[1][1])/2]),T[0]=f[+(e[0]<x[0])][0],T[1]=f[+(e[1]<x[1])][1]):x=null),w&&p(e,o,0)&&(n(y),s=!0),E&&p(e,u,1)&&(r(y),s=!0),s&&(t(y),g({type:"brush",mode:S?"move":"resize"}))}function p(e,t,n){var r=_t(t),i=r[0],s=r[1],o=T[n],u=f[1][n]-f[0][n],a,c;S&&(i-=o,s-=u+o),a=Math.max(i,Math.min(s,e[n])),S?c=(a+=o)+u:(x&&(o=Math.max(i,Math.min(s,2*x[n]-a))),o<a?(c=a,a=o):c=o);if(f[0][n]!==a||f[1][n]!==c)return l=null,f[0][n]=a,f[1][n]=c,!0}function d(){h(),y.style("pointer-events","all").selectAll(".resize").style("display",e.empty()?"none":null),d3.select("body").style("cursor",null),C.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),g({type:"brushend"}),M()}var v=this,m=d3.select(d3.event.target),g=s.of(v,arguments),y=d3.select(v),b=m.datum(),w=!/^(n|s)$/.test(b)&&o,E=!/^(e|w)$/.test(b)&&u,S=m.classed("extent"),x,T=i(),N,C=d3.select(window).on("mousemove.brush",h).on("mouseup.brush",d).on("touchmove.brush",h).on("touchend.brush",d).on("keydown.brush",a).on("keyup.brush",c);if(S)T[0]=f[0][0]-T[0],T[1]=f[0][1]-T[1];else if(b){var k=+/w$/.test(b),L=+/^n/.test(b);N=[f[1-k][0]-T[0],f[1-L][1]-T[1]],T[0]=f[k][0],T[1]=f[L][1]}else d3.event.altKey&&(x=T.slice());y.style("pointer-events","none").selectAll(".resize").style("display",null),d3.select("body").style("cursor",m.style("cursor")),g({type:"brushstart"}),h(),M()}var s=D(e,"brushstart","brush","brushend"),o=null,u=null,a=to[0],f=[[0,0],[0,0]],l;return e.x=function(t){return arguments.length?(o=t,a=to[!o<<1|!u],e):o},e.y=function(t){return arguments.length?(u=t,a=to[!o<<1|!u],e):u},e.extent=function(t){var n,r,i,s,a;return arguments.length?(l=[[0,0],[0,0]],o&&(n=t[0],r=t[1],u&&(n=n[0],r=r[0]),l[0][0]=n,l[1][0]=r,o.invert&&(n=o(n),r=o(r)),r<n&&(a=n,n=r,r=a),f[0][0]=n|0,f[1][0]=r|0),u&&(i=t[0],s=t[1],o&&(i=i[1],s=s[1]),l[0][1]=i,l[1][1]=s,u.invert&&(i=u(i),s=u(s)),s<i&&(a=i,i=s,s=a),f[0][1]=i|0,f[1][1]=s|0),e):(t=l||f,o&&(n=t[0][0],r=t[1][0],l||(n=f[0][0],r=f[1][0],o.invert&&(n=o.invert(n),r=o.invert(r)),r<n&&(a=n,n=r,r=a))),u&&(i=t[0][1],s=t[1][1],l||(i=f[0][1],s=f[1][1],u.invert&&(i=u.invert(i),s=u.invert(s)),s<i&&(a=i,i=s,s=a))),o&&u?[[n,i],[r,s]]:o?[n,r]:u&&[i,s])},e.clear=function(){return l=null,f[0][0]=f[0][1]=f[1][0]=f[1][1]=0,e},e.empty=function(){return o&&f[0][0]===f[1][0]||u&&f[0][1]===f[1][1]},d3.rebind(e,s,"on")};var eo={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},to=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];d3.behavior={},d3.behavior.drag=function(){function e(){this.on("mousedown.drag",t).on("touchstart.drag",t)}function t(){function e(){var e=o.parentNode;return f?d3.touches(e).filter(function(e){return e.identifier===f})[0]:d3.mouse(e)}function t(){if(!o.parentNode)return i();var t=e(),n=t[0]-c[0],r=t[1]-c[1];h|=n|r,c=t,M(),u({type:"drag",x:t[0]+l[0],y:t[1]+l[1],dx:n,dy:r})}function i(){u({type:"dragend"}),h&&(M(),d3.event.target===a&&p.on("click.drag",s,!0)),p.on(f?"touchmove.drag-"+f:"mousemove.drag",null).on(f?"touchend.drag-"+f:"mouseup.drag",null)}function s(){M(),p.on("click.drag",null)}var o=this,u=n.of(o,arguments),a=d3.event.target,f=d3.event.touches&&d3.event.changedTouches[0].identifier,l,c=e(),h=0,p=d3.select(window).on(f?"touchmove.drag-"+f:"mousemove.drag",t).on(f?"touchend.drag-"+f:"mouseup.drag",i,!0);r?(l=r.apply(o,arguments),l=[l.x-c[0],l.y-c[1]]):l=[0,0],f||M(),u({type:"dragstart"})}var n=D(e,"drag","dragstart","dragend"),r=null;return e.origin=function(t){return arguments.length?(r=t,e):r},d3.rebind(e,n,"on")},d3.behavior.zoom=function(){function e(){this.on("mousedown.zoom",o).on("mousewheel.zoom",u).on("mousemove.zoom",a).on("DOMMouseScroll.zoom",u).on("dblclick.zoom",f).on("touchstart.zoom",l).on("touchmove.zoom",c).on("touchend.zoom",l)}function t(e){return[(e[0]-h[0])/d,(e[1]-h[1])/d]}function n(e){return[e[0]*d+h[0],e[1]*d+h[1]]}function r(e){d=Math.max(m[0],Math.min(m[1],e))}function i(e,t){t=n(t),h[0]+=e[0]-t[0],h[1]+=e[1]-t[1]}function s(e){b&&b.domain(y.range().map(function(e){return(e-h[0])/d}).map(y.invert)),E&&E.domain(w.range().map(function(e){return(e-h[1])/d}).map(w.invert)),d3.event.preventDefault(),e({type:"zoom",scale:d,translate:h})}function o(){function e(){f=1,i(d3.mouse(o),c),s(u)}function n(){f&&M(),l.on("mousemove.zoom",null).on("mouseup.zoom",null),f&&d3.event.target===a&&l.on("click.zoom",r,!0)}function r(){M(),l.on("click.zoom",null)}var o=this,u=g.of(o,arguments),a=d3.event.target,f=0,l=d3.select(window).on("mousemove.zoom",e).on("mouseup.zoom",n),c=t(d3.mouse(o));window.focus(),M()}function u(){p||(p=t(d3.mouse(this))),r(Math.pow(2,Rn()*.002)*d),i(d3.mouse(this),p),s(g.of(this,arguments))}function a(){p=null}function f(){var e=d3.mouse(this),n=t(e);r(d3.event.shiftKey?d/2:d*2),i(e,n),s(g.of(this,arguments))}function l(){var e=d3.touches(this),n=Date.now();v=d,p={},e.forEach(function(e){p[e.identifier]=t(e)}),M();if(e.length===1){if(n-S<500){var o=e[0],u=t(e[0]);r(d*2),i(o,u),s(g.of(this,arguments))}S=n}}function c(){var e=d3.touches(this),t=e[0],n=p[t.identifier];if(o=e[1]){var o,u=p[o.identifier];t=[(t[0]+o[0])/2,(t[1]+o[1])/2],n=[(n[0]+u[0])/2,(n[1]+u[1])/2],r(d3.event.scale*v)}i(t,n),S=null,s(g.of(this,arguments))}var h=[0,0],p,d=1,v,m=ro,g=D(e,"zoom"),y,b,w,E,S;return e.translate=function(t){return arguments.length?(h=t.map(Number),e):h},e.scale=function(t){return arguments.length?(d=+t,e):d},e.scaleExtent=function(t){return arguments.length?(m=t==null?ro:t.map(Number),e):m},e.x=function(t){return arguments.length?(b=t,y=t.copy(),e):b},e.y=function(t){return arguments.length?(E=t,w=t.copy(),e):E},d3.rebind(e,g,"on")};var no,ro=[0,Infinity];d3.layout={},d3.layout.bundle=function(){return function(e){var t=[],n=-1,r=e.length;while(++n<r)t.push(Un(e[n]));return t}},d3.layout.chord=function(){function e(){var e={},n=[],c=d3.range(o),h=[],p,d,v,m,g;r=[],i=[],p=0,m=-1;while(++m<o){d=0,g=-1;while(++g<o)d+=s[m][g];n.push(d),h.push(d3.range(o)),p+=d}a&&c.sort(function(e,t){return a(n[e],n[t])}),f&&h.forEach(function(e,t){e.sort(function(e,n){return f(s[t][e],s[t][n])})}),p=(2*Math.PI-u*o)/p,d=0,m=-1;while(++m<o){v=d,g=-1;while(++g<o){var y=c[m],b=h[y][g],w=s[y][b],E=d,S=d+=w*p;e[y+"-"+b]={index:y,subindex:b,startAngle:E,endAngle:S,value:w}}i[y]={index:y,startAngle:v,endAngle:d,value:(d-v)/p},d+=u}m=-1;while(++m<o){g=m-1;while(++g<o){var x=e[m+"-"+g],T=e[g+"-"+m];(x.value||T.value)&&r.push(x.value<T.value?{source:T,target:x}:{source:x,target:T})}}l&&t()}function t(){r.sort(function(e,t){return l((e.source.value+e.target.value)/2,(t.source.value+t.target.value)/2)})}var n={},r,i,s,o,u=0,a,f,l;return n.matrix=function(e){return arguments.length?(o=(s=e)&&s.length,r=i=null,n):s},n.padding=function(e){return arguments.length?(u=e,r=i=null,n):u},n.sortGroups=function(e){return arguments.length?(a=e,r=i=null,n):a},n.sortSubgroups=function(e){return arguments.length?(f=e,r=null,n):f},n.sortChords=function(e){return arguments.length?(l=e,r&&t(),n):l},n.chords=function(){return r||e(),r},n.groups=function(){return i||e(),i},n},d3.layout.force=function(){function e(e){return function(t,n,r,i,s){if(t.point!==e){var o=t.cx-e.x,u=t.cy-e.y,a=1/Math.sqrt(o*o+u*u);if((i-n)*a<d){var f=t.charge*a*a;return e.px-=o*f,e.py-=u*f,!0}if(t.point&&isFinite(a)){var f=t.pointCharge*a*a;e.px-=o*f,e.py-=u*f}}return!t.charge}}function t(e){e.px=d3.event.x,e.py=d3.event.y,n.resume()}var n={},r=d3.dispatch("start","tick","end"),s=[1,1],o,a,f=.9,l=Qn,c=Gn,h=-30,p=.1,d=.8,v,m=[],g=[],y,b,w;return n.tick=function(){if((a*=.99)<.005)return r.end({type:"end",alpha:a=0}),!0;var t=m.length,n=g.length,i,o,u,l,c,d,v,E,S;for(o=0;o<n;++o){u=g[o],l=u.source,c=u.target,E=c.x-l.x,S=c.y-l.y;if(d=E*E+S*S)d=a*b[o]*((d=Math.sqrt(d))-y[o])/d,E*=d,S*=d,c.x-=E*(v=l.weight/(c.weight+l.weight)),c.y-=S*v,l.x+=E*(v=1-v),l.y+=S*v}if(v=a*p){E=s[0]/2,S=s[1]/2,o=-1;if(v)while(++o<t)u=m[o],u.x+=(E-u.x)*v,u.y+=(S-u.y)*v}if(h){Kn(i=d3.geom.quadtree(m),a,w),o=-1;while(++o<t)(u=m[o]).fixed||i.visit(e(u))}o=-1;while(++o<t)u=m[o],u.fixed?(u.x=u.px,u.y=u.py):(u.x-=(u.px-(u.px=u.x))*f,u.y-=(u.py-(u.py=u.y))*f);r.tick({type:"tick",alpha:a})},n.nodes=function(e){return arguments.length?(m=e,n):m},n.links=function(e){return arguments.length?(g=e,n):g},n.size=function(e){return arguments.length?(s=e,n):s},n.linkDistance=function(e){return arguments.length?(l=u(e),n):l},n.distance=n.linkDistance,n.linkStrength=function(e){return arguments.length?(c=u(e),n):c},n.friction=function(e){return arguments.length?(f=e,n):f},n.charge=function(e){return arguments.length?(h=typeof e=="function"?e:+e,n):h},n.gravity=function(e){return arguments.length?(p=e,n):p},n.theta=function(e){return arguments.length?(d=e,n):d},n.alpha=function(e){return arguments.length?(a?e>0?a=e:a=0:e>0&&(r.start({type:"start",alpha:a=e}),d3.timer(n.tick)),n):a},n.start=function(){function e(e,n){var i=t(r),s=-1,o=i.length,u;while(++s<o)if(!isNaN(u=i[s][e]))return u;return Math.random()*n}function t(){if(!p){p=[];for(i=0;i<o;++i)p[i]=[];for(i=0;i<u;++i){var e=g[i];p[e.source.index].push(e.target),p[e.target.index].push(e.source)}}return p[r]}var r,i,o=m.length,u=g.length,a=s[0],f=s[1],p,d;for(r=0;r<o;++r)(d=m[r]).index=r,d.weight=0;y=[],b=[];for(r=0;r<u;++r)d=g[r],typeof d.source=="number"&&(d.source=m[d.source]),typeof d.target=="number"&&(d.target=m[d.target]),y[r]=l.call(this,d,r),b[r]=c.call(this,d,r),++d.source.weight,++d.target.weight;for(r=0;r<o;++r)d=m[r],isNaN(d.x)&&(d.x=e("x",a)),isNaN(d.y)&&(d.y=e("y",f)),isNaN(d.px)&&(d.px=d.x),isNaN(d.py)&&(d.py=d.y);w=[];if(typeof h=="function")for(r=0;r<o;++r)w[r]=+h.call(this,m[r],r);else for(r=0;r<o;++r)w[r]=h;return n.resume()},n.resume=function(){return n.alpha(.1)},n.stop=function(){return n.alpha(0)},n.drag=function(){o||(o=d3.behavior.drag().origin(i).on("dragstart",Xn).on("drag",t).on("dragend",Vn)),this.on("mouseover.force",$n).on("mouseout.force",Jn).call(o)},d3.rebind(n,r,"on")},d3.layout.partition=function(){function e(t,n,r,i){var s=t.children;t.x=n,t.y=t.depth*i,t.dx=r,t.dy=i;if(s&&(u=s.length)){var o=-1,u,a,f;r=t.value?r/t.value:0;while(++o<u)e(a=s[o],n,f=a.value*r,i),n+=f}}function t(e){var n=e.children,r=0;if(n&&(s=n.length)){var i=-1,s;while(++i<s)r=Math.max(r,t(n[i]))}return 1+r}function n(n,s){var o=r.call(this,n,s);return e(o[0],0,i[0],i[1]/t(o[0])),o}var r=d3.layout.hierarchy(),i=[1,1];return n.size=function(e){return arguments.length?(i=e,n):i},fr(n,r)},d3.layout.pie=function(){function e(s,o){var u=s.map(function(n,r){return+t.call(e,n,r)}),a=+(typeof r=="function"?r.apply(this,arguments):r),f=((typeof i=="function"?i.apply(this,arguments):i)-r)/d3.sum(u),l=d3.range(s.length);n!=null&&l.sort(n===io?function(e,t){return u[t]-u[e]}:function(e,t){return n(s[e],s[t])});var c=[];return l.forEach(function(e){var t;c[e]={data:s[e],value:t=u[e],startAngle:a,endAngle:a+=t*f}}),c}var t=Number,n=io,r=0,i=2*Math.PI;return e.value=function(n){return arguments.length?(t=n,e):t},e.sort=function(t){return arguments.length?(n=t,e):n},e.startAngle=function(t){return arguments.length?(r=t,e):r},e.endAngle=function(t){return arguments.length?(i=t,e):i},e};var io={};d3.layout.stack=function(){function e(i,a){var f=i.map(function(n,r){return t.call(e,n,r)}),l=f.map(function(t,n){return t.map(function(t,n){return[o.call(e,t,n),u.call(e,t,n)]})}),c=n.call(e,l,a);f=d3.permute(f,c),l=d3.permute(l,c);var h=r.call(e,l,a),p=f.length,d=f[0].length,v,m,g;for(m=0;m<d;++m){s.call(e,f[0][m],g=h[m],l[0][m][1]);for(v=1;v<p;++v)s.call(e,f[v][m],g+=l[v-1][m][1],l[v][m][1])}return i}var t=i,n=tr,r=nr,s=er,o=Yn,u=Zn;return e.values=function(n){return arguments.length?(t=n,e):t},e.order=function(t){return arguments.length?(n=typeof t=="function"?t:so.get(t)||tr,e):n},e.offset=function(t){return arguments.length?(r=typeof t=="function"?t:oo.get(t)||nr,e):r},e.x=function(t){return arguments.length?(o=t,e):o},e.y=function(t){return arguments.length?(u=t,e):u},e.out=function(t){return arguments.length?(s=t,e):s},e};var so=d3.map({"inside-out":function(e){var t=e.length,n,r,i=e.map(rr),s=e.map(ir),o=d3.range(t).sort(function(e,t){return i[e]-i[t]}),u=0,a=0,f=[],l=[];for(n=0;n<t;++n)r=o[n],u<a?(u+=s[r],f.push(r)):(a+=s[r],l.push(r));return l.reverse().concat(f)},reverse:function(e){return d3.range(e.length).reverse()},"default":tr}),oo=d3.map({silhouette:function(e){var t=e.length,n=e[0].length,r=[],i=0,s,o,u,a=[];for(o=0;o<n;++o){for(s=0,u=0;s<t;s++)u+=e[s][o][1];u>i&&(i=u),r.push(u)}for(o=0;o<n;++o)a[o]=(i-r[o])/2;return a},wiggle:function(e){var t=e.length,n=e[0],r=n.length,i=0,s,o,u,a,f,l,c,h,p,d=[];d[0]=h=p=0;for(o=1;o<r;++o){for(s=0,a=0;s<t;++s)a+=e[s][o][1];for(s=0,f=0,c=n[o][0]-n[o-1][0];s<t;++s){for(u=0,l=(e[s][o][1]-e[s][o-1][1])/(2*c);u<s;++u)l+=(e[u][o][1]-e[u][o-1][1])/c;f+=l*e[s][o][1]}d[o]=h-=a?f/a*c:0,h<p&&(p=h)}for(o=0;o<r;++o)d[o]-=p;return d},expand:function(e){var t=e.length,n=e[0].length,r=1/t,i,s,o,u=[];for(s=0;s<n;++s){for(i=0,o=0;i<t;i++)o+=e[i][s][1];if(o)for(i=0;i<t;i++)e[i][s][1]/=o;else for(i=0;i<t;i++)e[i][s][1]=r}for(s=0;s<n;++s)u[s]=0;return u},zero:nr});d3.layout.histogram=function(){function e(e,s){var o=[],u=e.map(n,this),a=r.call(this,u,s),f=i.call(this,a,u,s),l,s=-1,c=u.length,h=f.length-1,p=t?1:1/c,d;while(++s<h)l=o[s]=[],l.dx=f[s+1]-(l.x=f[s]),l.y=0;if(h>0){s=-1;while(++s<c)d=u[s],d>=a[0]&&d<=a[1]&&(l=o[d3.bisect(f,d,1,h)-1],l.y+=p,l.push(e[s]))}return o}var t=!0,n=Number,r=ar,i=or;return e.value=function(t){return arguments.length?(n=t,e):n},e.range=function(t){return arguments.length?(r=u(t),e):r},e.bins=function(t){return arguments.length?(i=typeof t=="number"?function(e){return ur(e,t)}:u(t),e):i},e.frequency=function(n){return arguments.length?(t=!!n,e):t},e},d3.layout.hierarchy=function(){function e(t,o,u){var a=i.call(n,t,o),f=uo?t:{data:t};f.depth=o,u.push(f);if(a&&(c=a.length)){var l=-1,c,h=f.children=[],p=0,d=o+1,v;while(++l<c)v=e(a[l],d,u),v.parent=f,h.push(v),p+=v.value;r&&h.sort(r),s&&(f.value=p)}else s&&(f.value=+s.call(n,t,o)||0);return f}function t(e,r){var i=e.children,o=0;if(i&&(a=i.length)){var u=-1,a,f=r+1;while(++u<a)o+=t(i[u],f)}else s&&(o=+s.call(n,uo?e:e.data,r)||0);return s&&(e.value=o),o}function n(t){var n=[];return e(t,0,n),n}var r=hr,i=lr,s=cr;return n.sort=function(e){return arguments.length?(r=e,n):r},n.children=function(e){return arguments.length?(i=e,n):i},n.value=function(e){return arguments.length?(s=e,n):s},n.revalue=function(e){return t(e,0),e},n};var uo=!1;d3.layout.pack=function(){function e(e,i){var s=t.call(this,e,i),o=s[0];o.x=0,o.y=0,Pr(o,function(e){e.r=Math.sqrt(e.value)}),Pr(o,yr);var u=r[0],a=r[1],f=Math.max(2*o.r/u,2*o.r/a);if(n>0){var l=n*f/2;Pr(o,function(e){e.r+=l}),Pr(o,yr),Pr(o,function(e){e.r-=l}),f=Math.max(2*o.r/u,2*o.r/a)}return Er(o,u/2,a/2,1/f),s}var t=d3.layout.hierarchy().sort(dr),n=0,r=[1,1];return e.size=function(t){return arguments.length?(r=t,e):r},e.padding=function(t){return arguments.length?(n=+t,e):n},fr(e,t)},d3.layout.cluster=function(){function e(e,i){var s=t.call(this,e,i),o=s[0],u,a=0,f,l;Pr(o,function(e){var t=e.children;t&&t.length?(e.x=Tr(t),e.y=xr(t)):(e.x=u?a+=n(e,u):0,e.y=0,u=e)});var c=Nr(o),h=Cr(o),p=c.x-n(c,h)/2,d=h.x+n(h,c)/2;return Pr(o,function(e){e.x=(e.x-p)/(d-p)*r[0],e.y=(1-(o.y?e.y/o.y:1))*r[1]}),s}var t=d3.layout.hierarchy().sort(null).value(null),n=kr,r=[1,1];return e.separation=function(t){return arguments.length?(n=t,e):n},e.size=function(t){return arguments.length?(r=t,e):r},fr(e,t)},d3.layout.tree=function(){function e(e,i){function s(e,t){var r=e.children,i=e._tree;if(r&&(o=r.length)){var o,a=r[0],f,l=a,c,h=-1;while(++h<o)c=r[h],s(c,f),l=u(c,f,l),f=c;Hr(e);var p=.5*(a._tree.prelim+c._tree.prelim);t?(i.prelim=t._tree.prelim+n(e,t),i.mod=i.prelim-p):i.prelim=p}else t&&(i.prelim=t._tree.prelim+n(e,t))}function o(e,t){e.x=e._tree.prelim+t;var n=e.children;if(n&&(i=n.length)){var r=-1,i;t+=e._tree.mod;while(++r<i)o(n[r],t)}}function u(e,t,r){if(t){var i=e,s=e,o=t,u=e.parent.children[0],a=i._tree.mod,f=s._tree.mod,l=o._tree.mod,c=u._tree.mod,h;while(o=Ar(o),i=Lr(i),o&&i)u=Lr(u),s=Ar(s),s._tree.ancestor=e,h=o._tree.prelim+l-i._tree.prelim-a+n(o,i),h>0&&(Br(jr(o,e,r),e,h),a+=h,f+=h),l+=o._tree.mod,a+=i._tree.mod,c+=u._tree.mod,f+=s._tree.mod;o&&!Ar(s)&&(s._tree.thread=o,s._tree.mod+=l-f),i&&!Lr(u)&&(u._tree.thread=i,u._tree.mod+=a-c,r=e)}return r}var a=t.call(this,e,i),f=a[0];Pr(f,function(e,t){e._tree={ancestor:e,prelim:0,mod:0,change:0,shift:0,number:t?t._tree.number+1:0}}),s(f),o(f,-f._tree.prelim);var l=Or(f,_r),c=Or(f,Mr),h=Or(f,Dr),p=l.x-n(l,c)/2,d=c.x+n(c,l)/2,v=h.depth||1;return Pr(f,function(e){e.x=(e.x-p)/(d-p)*r[0],e.y=e.depth/v*r[1],delete e._tree}),a}var t=d3.layout.hierarchy().sort(null).value(null),n=kr,r=[1,1];return e.separation=function(t){return arguments.length?(n=t,e):n},e.size=function(t){return arguments.length?(r=t,e):r},fr(e,t)},d3.layout.treemap=function(){function e(e,t){var n=-1,r=e.length,i,s;while(++n<r)s=(i=e[n]).value*(t<0?0:t),i.area=isNaN(s)||s<=0?0:s}function t(n){var s=n.children;if(s&&s.length){var o=l(n),u=[],a=s.slice(),f,c=Infinity,h,p=Math.min(o.dx,o.dy),d;e(a,o.dx*o.dy/n.value),u.area=0;while((d=a.length)>0)u.push(f=a[d-1]),u.area+=f.area,(h=r(u,p))<=c?(a.pop(),c=h):(u.area-=u.pop().area,i(u,p,o,!1),p=Math.min(o.dx,o.dy),u.length=u.area=0,c=Infinity);u.length&&(i(u,p,o,!0),u.length=u.area=0),s.forEach(t)}}function n(t){var r=t.children;if(r&&r.length){var s=l(t),o=r.slice(),u,a=[];e(o,s.dx*s.dy/t.value),a.area=0;while(u=o.pop())a.push(u),a.area+=u.area,u.z!=null&&(i(a,u.z?s.dx:s.dy,s,!o.length),a.length=a.area=0);r.forEach(n)}}function r(e,t){var n=e.area,r,i=0,s=Infinity,o=-1,u=e.length;while(++o<u){if(!(r=e[o].area))continue;r<s&&(s=r),r>i&&(i=r)}return n*=n,t*=t,n?Math.max(t*i*p/n,n/(t*s*p)):Infinity}function i(e,t,n,r){var i=-1,s=e.length,o=n.x,a=n.y,f=t?u(e.area/t):0,l;if(t==n.dx){if(r||f>n.dy)f=n.dy;while(++i<s)l=e[i],l.x=o,l.y=a,l.dy=f,o+=l.dx=Math.min(n.x+n.dx-o,f?u(l.area/f):0);l.z=!0,l.dx+=n.x+n.dx-o,n.y+=f,n.dy-=f}else{if(r||f>n.dx)f=n.dx;while(++i<s)l=e[i],l.x=o,l.y=a,l.dx=f,a+=l.dy=Math.min(n.y+n.dy-a,f?u(l.area/f):0);l.z=!1,l.dy+=n.y+n.dy-a,n.x+=f,n.dx-=f}}function s(r){var i=h||o(r),s=i[0];return s.x=0,s.y=0,s.dx=a[0],s.dy=a[1],h&&o.revalue(s),e([s],s.dx*s.dy/s.value),(h?n:t)(s),c&&(h=i),i}var o=d3.layout.hierarchy(),u=Math.round,a=[1,1],f=null,l=Fr,c=!1,h,p=.5*(1+Math.sqrt(5));return s.size=function(e){return arguments.length?(a=e,s):a},s.padding=function(e){function t(t){var n=e.call(s,t,t.depth);return n==null?Fr(t):Ir(t,typeof n=="number"?[n,n,n,n]:n)}function n(t){return Ir(t,e)}if(!arguments.length)return f;var r;return l=(f=e)==null?Fr:(r=typeof e)==="function"?t:r==="number"?(e=[e,e,e,e],n):n,s},s.round=function(e){return arguments.length?(u=e?Math.round:Number,s):u!=Number},s.sticky=function(e){return arguments.length?(c=e,h=null,s):c},s.ratio=function(e){return arguments.length?(p=e,s):p},fr(s,o)},d3.csv=qr(",","text/csv"),d3.tsv=qr("	","text/tab-separated-values"),d3.geo={};var ao=Math.PI/180;d3.geo.azimuthal=function(){function e(e){var n=e[0]*ao-s,o=e[1]*ao,f=Math.cos(n),l=Math.sin(n),c=Math.cos(o),h=Math.sin(o),p=t!=="orthographic"?a*h+u*c*f:null,d,v=t==="stereographic"?1/(1+p):t==="gnomonic"?1/p:t==="equidistant"?(d=Math.acos(p),d?d/Math.sin(d):0):t==="equalarea"?Math.sqrt(2/(1+p)):1,m=v*c*l,g=v*(a*c*f-u*h);return[r*m+i[0],r*g+i[1]]}var t="orthographic",n,r=200,i=[480,250],s,o,u,a;return e.invert=function(e){var n=(e[0]-i[0])/r,o=(e[1]-i[1])/r,f=Math.sqrt(n*n+o*o),l=t==="stereographic"?2*Math.atan(f):t==="gnomonic"?Math.atan(f):t==="equidistant"?f:t==="equalarea"?2*Math.asin(.5*f):Math.asin(f),c=Math.sin(l),h=Math.cos(l);return[(s+Math.atan2(n*c,f*u*h+o*a*c))/ao,Math.asin(h*a-(f?o*c*u/f:0))/ao]},e.mode=function(n){return arguments.length?(t=n+"",e):t},e.origin=function(t){return arguments.length?(n=t,s=n[0]*ao,o=n[1]*ao,u=Math.cos(o),a=Math.sin(o),e):n},e.scale=function(t){return arguments.length?(r=+t,e):r},e.translate=function(t){return arguments.length?(i=[+t[0],+t[1]],e):i},e.origin([0,0])},d3.geo.albers=function(){function e(e){var t=u*(ao*e[0]-o),n=Math.sqrt(a-2*u*Math.sin(ao*e[1]))/u;return[i*n*Math.sin(t)+s[0],i*(n*Math.cos(t)-f)+s[1]]}function t(){var t=ao*r[0],i=ao*r[1],s=ao*n[1],l=Math.sin(t),c=Math.cos(t);return o=ao*n[0],u=.5*(l+Math.sin(i)),a=c*c+2*u*l,f=Math.sqrt(a-2*u*Math.sin(s))/u,e}var n=[-98,38],r=[29.5,45.5],i=1e3,s=[480,250],o,u,a,f;return e.invert=function(e){var t=(e[0]-s[0])/i,n=(e[1]-s[1])/i,r=f+n,l=Math.atan2(t,r),c=Math.sqrt(t*t+r*r);return[(o+l/u)/ao,Math.asin((a-c*c*u*u)/(2*u))/ao]},e.origin=function(e){return arguments.length?(n=[+e[0],+e[1]],t()):n},e.parallels=function(e){return arguments.length?(r=[+e[0],+e[1]],t()):r},e.scale=function(t){return arguments.length?(i=+t,e):i},e.translate=function(t){return arguments.length?(s=[+t[0],+t[1]],e):s},t()},d3.geo.albersUsa=function(){function e(e){var s=e[0],o=e[1];return(o>50?n:s<-140?r:o<21?i:t)(e)}var t=d3.geo.albers(),n=d3.geo.albers().origin([-160,60]).parallels([55,65]),r=d3.geo.albers().origin([-160,20]).parallels([8,18]),i=d3.geo.albers().origin([-60,10]).parallels([8,18]);return e.scale=function(s){return arguments.length?(t.scale(s),n.scale(s*.6),r.scale(s),i.scale(s*1.5),e.translate(t.translate())):t.scale()},e.translate=function(s){if(!arguments.length)return t.translate();var o=t.scale()/1e3,u=s[0],a=s[1];return t.translate(s),n.translate([u-400*o,a+170*o]),r.translate([u-190*o,a+200*o]),i.translate([u+580*o,a+430*o]),e},e.scale(t.scale())},d3.geo.bonne=function(){function e(e){var u=e[0]*ao-r,a=e[1]*ao-i;if(s){var f=o+s-a,l=u*Math.cos(a)/f;u=f*Math.sin(l),a=f*Math.cos(l)-o}else u*=Math.cos(a),a*=-1;return[t*u+n[0],t*a+n[1]]}var t=200,n=[480,250],r,i,s,o;return e.invert=function(e){var i=(e[0]-n[0])/t,u=(e[1]-n[1])/t;if(s){var a=o+u,f=Math.sqrt(i*i+a*a);u=o+s-f,i=r+f*Math.atan2(i,a)/Math.cos(u)}else u*=-1,i/=Math.cos(u);return[i/ao,u/ao]},e.parallel=function(t){return arguments.length?(o=1/Math.tan(s=t*ao),e):s/ao},e.origin=function(t){return arguments.length?(r=t[0]*ao,i=t[1]*ao,e):[r/ao,i/ao]},e.scale=function(n){return arguments.length?(t=+n,e):t},e.translate=function(t){return arguments.length?(n=[+t[0],+t[1]],e):n},e.origin([0,0]).parallel(45)},d3.geo.equirectangular=function(){function e(e){var r=e[0]/360,i=-e[1]/360;return[t*r+n[0],t*i+n[1]]}var t=500,n=[480,250];return e.invert=function(e){var r=(e[0]-n[0])/t,i=(e[1]-n[1])/t;return[360*r,-360*i]},e.scale=function(n){return arguments.length?(t=+n,e):t},e.translate=function(t){return arguments.length?(n=[+t[0],+t[1]],e):n},e},d3.geo.mercator=function(){function e(e){var r=e[0]/360,i=-(Math.log(Math.tan(Math.PI/4+e[1]*ao/2))/ao)/360;return[t*r+n[0],t*Math.max(-0.5,Math.min(.5,i))+n[1]]}var t=500,n=[480,250];return e.invert=function(e){var r=(e[0]-n[0])/t,i=(e[1]-n[1])/t;return[360*r,2*Math.atan(Math.exp(-360*i*ao))/ao-90]},e.scale=function(n){return arguments.length?(t=+n,e):t},e.translate=function(t){return arguments.length?(n=[+t[0],+t[1]],e):n},e},d3.geo.path=function(){function e(e,t){typeof s=="function"&&(o=Ur(s.apply(this,arguments))),f(e);var n=a.length?a.join(""):null;return a=[],n}function t(e){return u(e).join(",")}function n(e){var t=i(e[0]),n=0,r=e.length;while(++n<r)t-=i(e[n]);return t}function r(e){var t=d3.geom.polygon(e[0].map(u)),n=t.area(),r=t.centroid(n<0?(n*=-1,1):-1),i=r[0],s=r[1],o=n,a=0,f=e.length;while(++a<f)t=d3.geom.polygon(e[a].map(u)),n=t.area(),r=t.centroid(n<0?(n*=-1,1):-1),i-=r[0],s-=r[1],o-=n;return[i,s,6*o]}function i(e){return Math.abs(d3.geom.polygon(e.map(u)).area())}var s=4.5,o=Ur(s),u=d3.geo.albersUsa(),a=[],f=Rr({FeatureCollection:function(e){var t=e.features,n=-1,r=t.length;while(++n<r)a.push(f(t[n].geometry))},Feature:function(e){f(e.geometry)},Point:function(e){a.push("M",t(e.coordinates),o)},MultiPoint:function(e){var n=e.coordinates,r=-1,i=n.length;while(++r<i)a.push("M",t(n[r]),o)},LineString:function(e){var n=e.coordinates,r=-1,i=n.length;a.push("M");while(++r<i)a.push(t(n[r]),"L");a.pop()},MultiLineString:function(e){var n=e.coordinates,r=-1,i=n.length,s,o,u;while(++r<i){s=n[r],o=-1,u=s.length,a.push("M");while(++o<u)a.push(t(s[o]),"L");a.pop()}},Polygon:function(e){var n=e.coordinates,r=-1,i=n.length,s,o,u;while(++r<i){s=n[r],o=-1;if((u=s.length-1)>0){a.push("M");while(++o<u)a.push(t(s[o]),"L");a[a.length-1]="Z"
}}},MultiPolygon:function(e){var n=e.coordinates,r=-1,i=n.length,s,o,u,f,l,c;while(++r<i){s=n[r],o=-1,u=s.length;while(++o<u){f=s[o],l=-1;if((c=f.length-1)>0){a.push("M");while(++l<c)a.push(t(f[l]),"L");a[a.length-1]="Z"}}}},GeometryCollection:function(e){var t=e.geometries,n=-1,r=t.length;while(++n<r)a.push(f(t[n]))}}),l=e.area=Rr({FeatureCollection:function(e){var t=0,n=e.features,r=-1,i=n.length;while(++r<i)t+=l(n[r]);return t},Feature:function(e){return l(e.geometry)},Polygon:function(e){return n(e.coordinates)},MultiPolygon:function(e){var t=0,r=e.coordinates,i=-1,s=r.length;while(++i<s)t+=n(r[i]);return t},GeometryCollection:function(e){var t=0,n=e.geometries,r=-1,i=n.length;while(++r<i)t+=l(n[r]);return t}},0),c=e.centroid=Rr({Feature:function(e){return c(e.geometry)},Polygon:function(e){var t=r(e.coordinates);return[t[0]/t[2],t[1]/t[2]]},MultiPolygon:function(e){var t=0,n=e.coordinates,i,s=0,o=0,u=0,a=-1,f=n.length;while(++a<f)i=r(n[a]),s+=i[0],o+=i[1],u+=i[2];return[s/u,o/u]}});return e.projection=function(t){return u=t,e},e.pointRadius=function(t){return typeof t=="function"?s=t:(s=+t,o=Ur(s)),e},e},d3.geo.bounds=function(e){var t=Infinity,n=Infinity,r=-Infinity,i=-Infinity;return zr(e,function(e,s){e<t&&(t=e),e>r&&(r=e),s<n&&(n=s),s>i&&(i=s)}),[[t,n],[r,i]]};var fo={Feature:Wr,FeatureCollection:Xr,GeometryCollection:Vr,LineString:$r,MultiLineString:Jr,MultiPoint:$r,MultiPolygon:Kr,Point:Qr,Polygon:Gr};d3.geo.circle=function(){function e(){}function t(e){return a.distance(e)<u}function n(e){var t=-1,n=e.length,i=[],s,o,f,l,c;while(++t<n)c=a.distance(f=e[t]),c<u?(o&&i.push(ti(o,f)((l-u)/(l-c))),i.push(f),s=o=null):(o=f,!s&&i.length&&(i.push(ti(i[i.length-1],o)((u-l)/(c-l))),s=o)),l=c;return s=e[0],o=i[0],o&&f[0]===s[0]&&f[1]===s[1]&&(f[0]!==o[0]||f[1]!==o[1])&&i.push(o),r(i)}function r(e){var t=0,n=e.length,r,i,s=n?[e[0]]:e,o,u=a.source();while(++t<n){o=a.source(e[t-1])(e[t]).coordinates;for(r=0,i=o.length;++r<i;)s.push(o[r])}return a.source(u),s}var s=[0,0],o=89.99,u=o*ao,a=d3.geo.greatArc().source(s).target(i);e.clip=function(e){return typeof s=="function"&&a.source(s.apply(this,arguments)),f(e)||null};var f=Rr({FeatureCollection:function(e){var t=e.features.map(f).filter(i);return t&&(e=Object.create(e),e.features=t,e)},Feature:function(e){var t=f(e.geometry);return t&&(e=Object.create(e),e.geometry=t,e)},Point:function(e){return t(e.coordinates)&&e},MultiPoint:function(e){var n=e.coordinates.filter(t);return n.length&&{type:e.type,coordinates:n}},LineString:function(e){var t=n(e.coordinates);return t.length&&(e=Object.create(e),e.coordinates=t,e)},MultiLineString:function(e){var t=e.coordinates.map(n).filter(function(e){return e.length});return t.length&&(e=Object.create(e),e.coordinates=t,e)},Polygon:function(e){var t=e.coordinates.map(n);return t[0].length&&(e=Object.create(e),e.coordinates=t,e)},MultiPolygon:function(e){var t=e.coordinates.map(function(e){return e.map(n)}).filter(function(e){return e[0].length});return t.length&&(e=Object.create(e),e.coordinates=t,e)},GeometryCollection:function(e){var t=e.geometries.map(f).filter(i);return t.length&&(e=Object.create(e),e.geometries=t,e)}});return e.origin=function(t){return arguments.length?(s=t,typeof s!="function"&&a.source(s),e):s},e.angle=function(t){return arguments.length?(u=(o=+t)*ao,e):o},d3.rebind(e,a,"precision")},d3.geo.greatArc=function(){function e(){var t=e.distance.apply(this,arguments),r=0,u=s/t,a=[n];while((r+=u)<1)a.push(o(r));return a.push(i),{type:"LineString",coordinates:a}}var t=Yr,n,r=Zr,i,s=6*ao,o=ei();return e.distance=function(){return typeof t=="function"&&o.source(n=t.apply(this,arguments)),typeof r=="function"&&o.target(i=r.apply(this,arguments)),o.distance()},e.source=function(r){return arguments.length?(t=r,typeof t!="function"&&o.source(n=t),e):t},e.target=function(t){return arguments.length?(r=t,typeof r!="function"&&o.target(i=r),e):r},e.precision=function(t){return arguments.length?(s=t*ao,e):s/ao},e},d3.geo.greatCircle=d3.geo.circle,d3.geom={},d3.geom.contour=function(e,t){var n=t||ni(e),r=[],i=n[0],s=n[1],o=0,u=0,a=NaN,f=NaN,l=0;do l=0,e(i-1,s-1)&&(l+=1),e(i,s-1)&&(l+=2),e(i-1,s)&&(l+=4),e(i,s)&&(l+=8),l===6?(o=f===-1?-1:1,u=0):l===9?(o=0,u=a===1?-1:1):(o=lo[l],u=co[l]),o!=a&&u!=f&&(r.push([i,s]),a=o,f=u),i+=o,s+=u;while(n[0]!=i||n[1]!=s);return r};var lo=[1,0,1,1,-1,0,-1,1,0,0,0,0,-1,0,-1,NaN],co=[0,-1,0,0,0,-1,0,0,1,-1,1,1,0,-1,0,NaN];d3.geom.hull=function(e){if(e.length<3)return[];var t=e.length,n=t-1,r=[],i=[],s,o,u=0,a,f,l,c,h,p,d,v;for(s=1;s<t;++s)e[s][1]<e[u][1]?u=s:e[s][1]==e[u][1]&&(u=e[s][0]<e[u][0]?s:u);for(s=0;s<t;++s){if(s===u)continue;f=e[s][1]-e[u][1],a=e[s][0]-e[u][0],r.push({angle:Math.atan2(f,a),index:s})}r.sort(function(e,t){return e.angle-t.angle}),d=r[0].angle,p=r[0].index,h=0;for(s=1;s<n;++s)o=r[s].index,d==r[s].angle?(a=e[p][0]-e[u][0],f=e[p][1]-e[u][1],l=e[o][0]-e[u][0],c=e[o][1]-e[u][1],a*a+f*f>=l*l+c*c?r[s].index=-1:(r[h].index=-1,d=r[s].angle,h=s,p=o)):(d=r[s].angle,h=s,p=o);i.push(u);for(s=0,o=0;s<2;++o)r[o].index!==-1&&(i.push(r[o].index),s++);v=i.length;for(;o<n;++o){if(r[o].index===-1)continue;while(!ri(i[v-2],i[v-1],r[o].index,e))--v;i[v++]=r[o].index}var m=[];for(s=0;s<v;++s)m.push(e[i[s]]);return m},d3.geom.polygon=function(e){return e.area=function(){var t=0,n=e.length,r=e[n-1][0]*e[0][1],i=e[n-1][1]*e[0][0];while(++t<n)r+=e[t-1][0]*e[t][1],i+=e[t-1][1]*e[t][0];return(i-r)*.5},e.centroid=function(t){var n=-1,r=e.length,i=0,s=0,o,u=e[r-1],a;arguments.length||(t=-1/(6*e.area()));while(++n<r)o=u,u=e[n],a=o[0]*u[1]-u[0]*o[1],i+=(o[0]+u[0])*a,s+=(o[1]+u[1])*a;return[i*t,s*t]},e.clip=function(t){var n,r=-1,i=e.length,s,o,u=e[i-1],a,f,l;while(++r<i){n=t.slice(),t.length=0,a=e[r],f=n[(o=n.length)-1],s=-1;while(++s<o)l=n[s],ii(l,u,a)?(ii(f,u,a)||t.push(si(f,l,u,a)),t.push(l)):ii(f,u,a)&&t.push(si(f,l,u,a)),f=l;u=a}return t},e},d3.geom.voronoi=function(e){var t=e.map(function(){return[]});return oi(e,function(e){var n,r,i,s,o,u;e.a===1&&e.b>=0?(n=e.ep.r,r=e.ep.l):(n=e.ep.l,r=e.ep.r),e.a===1?(o=n?n.y:-1e6,i=e.c-e.b*o,u=r?r.y:1e6,s=e.c-e.b*u):(i=n?n.x:-1e6,o=e.c-e.a*i,s=r?r.x:1e6,u=e.c-e.a*s);var a=[i,o],f=[s,u];t[e.region.l.index].push(a,f),t[e.region.r.index].push(a,f)}),t.map(function(t,n){var r=e[n][0],i=e[n][1];return t.forEach(function(e){e.angle=Math.atan2(e[0]-r,e[1]-i)}),t.sort(function(e,t){return e.angle-t.angle}).filter(function(e,n){return!n||e.angle-t[n-1].angle>1e-10})})};var ho={l:"r",r:"l"};d3.geom.delaunay=function(e){var t=e.map(function(){return[]}),n=[];return oi(e,function(n){t[n.region.l.index].push(e[n.region.r.index])}),t.forEach(function(t,r){var i=e[r],s=i[0],o=i[1];t.forEach(function(e){e.angle=Math.atan2(e[0]-s,e[1]-o)}),t.sort(function(e,t){return e.angle-t.angle});for(var u=0,a=t.length-1;u<a;u++)n.push([i,t[u],t[u+1]])}),n},d3.geom.quadtree=function(e,t,n,r,i){function s(e,t,n,r,i,s){if(isNaN(t.x)||isNaN(t.y))return;if(e.leaf){var u=e.point;u?Math.abs(u.x-t.x)+Math.abs(u.y-t.y)<.01?o(e,t,n,r,i,s):(e.point=null,o(e,u,n,r,i,s),o(e,t,n,r,i,s)):e.point=t}else o(e,t,n,r,i,s)}function o(e,t,n,r,i,o){var u=(n+i)*.5,a=(r+o)*.5,f=t.x>=u,l=t.y>=a,c=(l<<1)+f;e.leaf=!1,e=e.nodes[c]||(e.nodes[c]=ui()),f?n=u:i=u,l?r=a:o=a,s(e,t,n,r,i,o)}var u,a=-1,f=e.length;f&&isNaN(e[0].x)&&(e=e.map(fi));if(arguments.length<5)if(arguments.length===3)i=r=n,n=t;else{t=n=Infinity,r=i=-Infinity;while(++a<f)u=e[a],u.x<t&&(t=u.x),u.y<n&&(n=u.y),u.x>r&&(r=u.x),u.y>i&&(i=u.y);var l=r-t,c=i-n;l>c?i=n+l:r=t+c}var h=ui();return h.add=function(e){s(h,e,t,n,r,i)},h.visit=function(e){ai(e,h,t,n,r,i)},e.forEach(h.add),h},d3.time={};var po=Date,vo=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];li.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){mo.setUTCDate.apply(this._,arguments)},setDay:function(){mo.setUTCDay.apply(this._,arguments)},setFullYear:function(){mo.setUTCFullYear.apply(this._,arguments)},setHours:function(){mo.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){mo.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){mo.setUTCMinutes.apply(this._,arguments)},setMonth:function(){mo.setUTCMonth.apply(this._,arguments)},setSeconds:function(){mo.setUTCSeconds.apply(this._,arguments)},setTime:function(){mo.setTime.apply(this._,arguments)}};var mo=Date.prototype,go="%a %b %e %H:%M:%S %Y",yo="%m/%d/%y",bo="%H:%M:%S",wo=vo,Eo=wo.map(ci),So=["January","February","March","April","May","June","July","August","September","October","November","December"],xo=So.map(ci);d3.time.format=function(e){function t(t){var r=[],i=-1,s=0,o,u;while(++i<n)e.charCodeAt(i)==37&&(r.push(e.substring(s,i),(u=Po[o=e.charAt(++i)])?u(t):o),s=i+1);return r.push(e.substring(s,i)),r.join("")}var n=e.length;return t.parse=function(t){var n={y:1900,m:0,d:1,H:0,M:0,S:0,L:0},r=hi(n,e,t,0);if(r!=t.length)return null;"p"in n&&(n.H=n.H%12+n.p*12);var i=new po;return i.setFullYear(n.y,n.m,n.d),i.setHours(n.H,n.M,n.S,n.L),i},t.toString=function(){return e},t};var To=d3.format("02d"),No=d3.format("03d"),Co=d3.format("04d"),ko=d3.format("2d"),Lo=pi(wo),Ao=pi(Eo),Oo=pi(So),Mo=di(So),_o=pi(xo),Do=di(xo),Po={a:function(e){return Eo[e.getDay()]},A:function(e){return wo[e.getDay()]},b:function(e){return xo[e.getMonth()]},B:function(e){return So[e.getMonth()]},c:d3.time.format(go),d:function(e){return To(e.getDate())},e:function(e){return ko(e.getDate())},H:function(e){return To(e.getHours())},I:function(e){return To(e.getHours()%12||12)},j:function(e){return No(1+d3.time.dayOfYear(e))},L:function(e){return No(e.getMilliseconds())},m:function(e){return To(e.getMonth()+1)},M:function(e){return To(e.getMinutes())},p:function(e){return e.getHours()>=12?"PM":"AM"},S:function(e){return To(e.getSeconds())},U:function(e){return To(d3.time.sundayOfYear(e))},w:function(e){return e.getDay()},W:function(e){return To(d3.time.mondayOfYear(e))},x:d3.time.format(yo),X:d3.time.format(bo),y:function(e){return To(e.getFullYear()%100)},Y:function(e){return Co(e.getFullYear()%1e4)},Z:_i,"%":function(e){return"%"}},Ho={a:vi,A:mi,b:gi,B:yi,c:bi,d:Ci,e:Ci,H:ki,I:ki,L:Oi,m:Ni,M:Li,p:Mi,S:Ai,x:wi,X:Ei,y:xi,Y:Si},Bo=/^\s*\d+/,jo=d3.map({am:0,pm:1});d3.time.format.utc=function(e){function t(e){try{po=li;var t=new po;return t._=e,n(t)}finally{po=Date}}var n=d3.time.format(e);return t.parse=function(e){try{po=li;var t=n.parse(e);return t&&t._}finally{po=Date}},t.toString=n.toString,t};var Fo=d3.time.format.utc("%Y-%m-%dT%H:%M:%S.%LZ");d3.time.format.iso=Date.prototype.toISOString?Di:Fo,Di.parse=function(e){var t=new Date(e);return isNaN(t)?null:t},Di.toString=Fo.toString,d3.time.second=Pi(function(e){return new po(Math.floor(e/1e3)*1e3)},function(e,t){e.setTime(e.getTime()+Math.floor(t)*1e3)},function(e){return e.getSeconds()}),d3.time.seconds=d3.time.second.range,d3.time.seconds.utc=d3.time.second.utc.range,d3.time.minute=Pi(function(e){return new po(Math.floor(e/6e4)*6e4)},function(e,t){e.setTime(e.getTime()+Math.floor(t)*6e4)},function(e){return e.getMinutes()}),d3.time.minutes=d3.time.minute.range,d3.time.minutes.utc=d3.time.minute.utc.range,d3.time.hour=Pi(function(e){var t=e.getTimezoneOffset()/60;return new po((Math.floor(e/36e5-t)+t)*36e5)},function(e,t){e.setTime(e.getTime()+Math.floor(t)*36e5)},function(e){return e.getHours()}),d3.time.hours=d3.time.hour.range,d3.time.hours.utc=d3.time.hour.utc.range,d3.time.day=Pi(function(e){var t=new po(1970,0);return t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),t},function(e,t){e.setDate(e.getDate()+t)},function(e){return e.getDate()-1}),d3.time.days=d3.time.day.range,d3.time.days.utc=d3.time.day.utc.range,d3.time.dayOfYear=function(e){var t=d3.time.year(e);return Math.floor((e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*6e4)/864e5)},vo.forEach(function(e,t){e=e.toLowerCase(),t=7-t;var n=d3.time[e]=Pi(function(e){return(e=d3.time.day(e)).setDate(e.getDate()-(e.getDay()+t)%7),e},function(e,t){e.setDate(e.getDate()+Math.floor(t)*7)},function(e){var n=d3.time.year(e).getDay();return Math.floor((d3.time.dayOfYear(e)+(n+t)%7)/7)-(n!==t)});d3.time[e+"s"]=n.range,d3.time[e+"s"].utc=n.utc.range,d3.time[e+"OfYear"]=function(e){var n=d3.time.year(e).getDay();return Math.floor((d3.time.dayOfYear(e)+(n+t)%7)/7)}}),d3.time.week=d3.time.sunday,d3.time.weeks=d3.time.sunday.range,d3.time.weeks.utc=d3.time.sunday.utc.range,d3.time.weekOfYear=d3.time.sundayOfYear,d3.time.month=Pi(function(e){return e=d3.time.day(e),e.setDate(1),e},function(e,t){e.setMonth(e.getMonth()+t)},function(e){return e.getMonth()}),d3.time.months=d3.time.month.range,d3.time.months.utc=d3.time.month.utc.range,d3.time.year=Pi(function(e){return e=d3.time.day(e),e.setMonth(0,1),e},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e){return e.getFullYear()}),d3.time.years=d3.time.year.range,d3.time.years.utc=d3.time.year.utc.range;var Io=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],qo=[[d3.time.second,1],[d3.time.second,5],[d3.time.second,15],[d3.time.second,30],[d3.time.minute,1],[d3.time.minute,5],[d3.time.minute,15],[d3.time.minute,30],[d3.time.hour,1],[d3.time.hour,3],[d3.time.hour,6],[d3.time.hour,12],[d3.time.day,1],[d3.time.day,2],[d3.time.week,1],[d3.time.month,1],[d3.time.month,3],[d3.time.year,1]],Ro=[[d3.time.format("%Y"),function(e){return!0}],[d3.time.format("%B"),function(e){return e.getMonth()}],[d3.time.format("%b %d"),function(e){return e.getDate()!=1}],[d3.time.format("%a %d"),function(e){return e.getDay()&&e.getDate()!=1}],[d3.time.format("%I %p"),function(e){return e.getHours()}],[d3.time.format("%I:%M"),function(e){return e.getMinutes()}],[d3.time.format(":%S"),function(e){return e.getSeconds()}],[d3.time.format(".%L"),function(e){return e.getMilliseconds()}]],Uo=d3.scale.linear(),zo=Ii(Ro);qo.year=function(e,t){return Uo.domain(e.map(Ri)).ticks(t).map(qi)},d3.time.scale=function(){return Bi(d3.scale.linear(),qo,zo)};var Wo=qo.map(function(e){return[e[0].utc,e[1]]}),Xo=[[d3.time.format.utc("%Y"),function(e){return!0}],[d3.time.format.utc("%B"),function(e){return e.getUTCMonth()}],[d3.time.format.utc("%b %d"),function(e){return e.getUTCDate()!=1}],[d3.time.format.utc("%a %d"),function(e){return e.getUTCDay()&&e.getUTCDate()!=1}],[d3.time.format.utc("%I %p"),function(e){return e.getUTCHours()}],[d3.time.format.utc("%I:%M"),function(e){return e.getUTCMinutes()}],[d3.time.format.utc(":%S"),function(e){return e.getUTCSeconds()}],[d3.time.format.utc(".%L"),function(e){return e.getUTCMilliseconds()}]],Vo=Ii(Xo);Wo.year=function(e,t){return Uo.domain(e.map(zi)).ticks(t).map(Ui)},d3.time.scale.utc=function(){return Bi(d3.scale.linear(),Wo,Vo)}}(),function(e,t,n){typeof define=="function"&&define.amd?define("FeaturedChart",["jquery","d3"],function(r,i){return n(r,e,t,i)}):n(e.jQuery,e,t,e.d3)}(this,document,function($,window,document,d3,undefined){function FeaturedChart(e){typeof e.color=="object"&&e.color.length>0&&(e.color=d3.scale.ordinal().range(e.color)),this.options=$.extend({},_options,e)}var featuredChart,_options={chartType:"bar",lineType:"basis",width:960,height:600,margin:[0,0,0,0],padding:[0,0,0,0],data:{},animate:!1,color:d3.scale.category10()};return FeaturedChart.name="FeaturedChart",FeaturedChart.prototype.createChart=function(e){var t,n,r,i,s,o,u=d3.select(e),a=this,f=this.options.chartType;if(f==="line")t=this.lineChart(u);else if(f==="bar")t=this.barChart(u);else{if(f!=="pie")return!1;t=this.pieChart(u)}this.updateChart(e,t)},FeaturedChart.prototype.updateChart=function(el,chartSize){var width,widthSize,height,heightSize,matrix=getComputedStyle(el)[this.getCssVendorPropertyName(el,"Transform")];typeof matrix=="string"&&matrix==="none"&&(matrix="matrix(1, 0, 0, 1, 0, 0)"),matrix=eval(matrix.replace("matrix(","[").replace(")","]")),width=chartSize.width,widthSize=matrix[0],width*=widthSize,height=chartSize.height,heightSize=matrix[3],height*=heightSize,$(el).parent().css({width:width,height:height})},FeaturedChart.prototype.getCssVendorPropertyName=function(e,t){var n=["Moz","Webkit","O","ms"],r=t.charAt(0).toUpperCase()+t.substr(1);if(t in e.style)return t;for(var i=0;i<n.length;++i){var s=n[i]+r;if(s in e.style)return s}},FeaturedChart.prototype.barChart=function(e){function h(e){var t=0;for(var n in e)e.hasOwnProperty(n)&&++t;return t}var t,n=[],r=this,i=r.options.margin,s=r.options.padding,o=r.options.width-i[1]-i[3],u=r.options.height-i[0]-i[2],a=d3.scale.ordinal().rangeRoundBands([0,o-s[1]-s[3]]),f=d3.scale.linear().range([0,u-s[0]-s[2]]),l=r.options.color,c=r.options.data;e=e.append("svg:svg").attr("width",o).attr("height",u).append("svg:g").attr("transform","translate("+s[3]+","+(u-s[2])+")"),t=h(c[0])-1;for(var p=0;p<t;p++)n.push("value"+p);var d=d3.layout.stack()(n.map(function(e){return c.map(function(t){return{x:t.label,y:+t[e]}})}));a.domain(d[0].map(function(e){return e.x})),f.domain([0,d3.max(d[d.length-1],function(e){return e.y})]);var v=e.selectAll("g.cause").data(d).enter().append("svg:g").attr("class","cause").style("fill",function(e,t){return l(t)}).style("stroke",function(e,t){return d3.rgb(l(t)).darker()}),m=v.selectAll("rect").data(Object).enter().append("svg:rect").attr("x",function(e){return a(e.x)}).attr("width",a.rangeBand()).transition().delay(function(e,t){return t*100}).duration(100).attr("y",function(e){return-f(e.y0)-f(e.y)}).attr("height",function(e){return f(e.y)}),g=e.selectAll("text").data(a.domain()).enter().append("svg:text").attr("class","x").attr("x",function(e){return a(e)+a.rangeBand()/2}).attr("y",6).attr("text-anchor","middle").attr("dy",".71em").style("fill","#fff").text(function(e){return e}),y=e.selectAll("g.rule").data(f.ticks(5)).enter().append("svg:g").attr("class","rule").style("fill","#fff").attr("transform",function(e){return"translate(0,"+ -f(e)+")"});return y.append("svg:line").attr("x2",o-s[1]-s[3]).style("stroke",function(e){return e?"#fff":"#000"}).style("stroke-opacity",function(e){return e?.7:null}),y.append("svg:text").attr("x",o-s[1]-s[3]+6).attr("dy",".35em").text(d3.format(",d")),{width:r.options.width,height:r.options.height}},FeaturedChart.prototype.lineChart=function(e){var t=this,n=t.options.margin,r=t.options.padding,i=t.options.width-n[1]-n[3],s=t.options.height-n[0]-n[2],o=t.options.data,u=[];$.map(o,function(e,t){u.push(parseInt(e.value0))});var a=d3.scale.linear().domain([0,u.length]).range([0,i]),f=d3.scale.linear().domain([0,d3.max(u)]).range([s,0]),l=d3.svg.line().x(function(e,t){return a(t)}).y(function(e){return f(e)}).interpolate(t.options.lineType),c=e.append("svg:svg").attr("width",i+n[1]+n[3]).attr("height",s+n[0]+n[2]).append("svg:g").attr("transform","translate("+n[3]+","+n[0]+")");c.append("svg:path").attr("d",l(u)).attr("transform","translate(-25)");var h=d3.svg.axis().scale(a).tickSize(-s).tickSubdivide(!0);c.append("svg:g").attr("class","x axis").attr("transform","translate(0,"+s+")").call(h).selectAll("text").attr("class","text").text(function(e){return o[e].label});var p=d3.svg.axis().scale(f).ticks(4).orient("left");return c.append("svg:g").attr("class","y axis").attr("transform","translate(-25,0)").call(p).selectAll("text").attr("class","text"),{width:t.options.width,height:t.options.height}},FeaturedChart.prototype.pieChart=function(e){var t=this,n=t.options.width,r=t.options.height,i=Math.min(n,r)/2,s=t.options.color,o=d3.layout.pie().sort(null),u=t.options.data,a=e=e.append("svg:svg").data([u]).attr("width",n).attr("height",r).append("svg:g").attr("transform","translate("+i+","+i+")"),f=d3.svg.arc().innerRadius(0).outerRadius(i),l=d3.layout.pie().value(function(e){return e.value0}),c=a.selectAll("g.slice").data(l).enter().append("svg:g").attr("class","slice");return c.append("svg:path").attr("fill",function(e,t){return s(t)}).attr("d",f),c.append("svg:text").attr("transform",function(e){return e.innerRadius=0,e.outerRadius=i,"translate("+f.centroid(e)+")"}).attr("text-anchor","middle").attr("class","label").text(function(e,t){return u[t].label}),{width:this.options.width,height:this.options.height}},$.fn.featuredChart=function(e){return this.each(function(t){featuredChart=new FeaturedChart(e),featuredChart.createChart(this)})},$.fn.featuredChart.Constructor=FeaturedChart,$("[data-featured=chart]").each(function(e){var t=this,n=$(this).data("chartBind");$.getJSON(n).success(function(e){featuredChart=new FeaturedChart({margin:$(t).data("chartMargin"),padding:$(t).data("chartPadding"),chartType:$(t).data("chartType"),lineType:$(t).data("chartListtype"),data:e}),featuredChart.createChart(t)}).error(function(e,t,n){console.log("getJSON Error",e,t,n)})}),FeaturedChart}),function(i,ka,t,q){var m=function(h){function n(e,n){var r=m.defaults.columns,s=e.aoColumns.length;n=i.extend({},m.models.oColumn,r,{sSortingClass:e.oClasses.sSortable,sSortingClassJUI:e.oClasses.sSortJUI,nTh:n?n:t.createElement("th"),sTitle:r.sTitle?r.sTitle:n?n.innerHTML:"",aDataSort:r.aDataSort?r.aDataSort:[s],mData:r.mData?r.oDefaults:s}),e.aoColumns.push(n),e.aoPreSearchCols[s]===q||e.aoPreSearchCols[s]===null?e.aoPreSearchCols[s]=i.extend({},m.models.oSearch):(n=e.aoPreSearchCols[s],n.bRegex===q&&(n.bRegex=!0),n.bSmart===q&&(n.bSmart=!0),n.bCaseInsensitive===q&&(n.bCaseInsensitive=!0)),p(e,s,null)}function p(e,t,n){var s=e.aoColumns[t];n!==q&&n!==null&&(n.mDataProp&&!n.mData&&(n.mData=n.mDataProp),n.sType!==q&&(s.sType=n.sType,s._bAutoType=!1),i.extend(s,n),r(s,n,"sWidth","sWidthOrig"),n.iDataSort!==q&&(s.aDataSort=[n.iDataSort]),r(s,n,"aDataSort"));var o=s.mRender?ba(s.mRender):null,u=ba(s.mData);s.fnGetData=function(e,t){var n=u(e,t);return s.mRender&&t&&t!==""?o(n,t,e):n},s.fnSetData=Ia(s.mData),e.oFeatures.bSort||(s.bSortable=!1),!s.bSortable||i.inArray("asc",s.asSorting)==-1&&i.inArray("desc",s.asSorting)==-1?(s.sSortingClass=e.oClasses.sSortableNone,s.sSortingClassJUI=""):s.bSortable||i.inArray("asc",s.asSorting)==-1&&i.inArray("desc",s.asSorting)==-1?(s.sSortingClass=e.oClasses.sSortable,s.sSortingClassJUI=e.oClasses.sSortJUI):i.inArray("asc",s.asSorting)!=-1&&i.inArray("desc",s.asSorting)==-1?(s.sSortingClass=e.oClasses.sSortableAsc,s.sSortingClassJUI=e.oClasses.sSortJUIAscAllowed):i.inArray("asc",s.asSorting)==-1&&i.inArray("desc",s.asSorting)!=-1&&(s.sSortingClass=e.oClasses.sSortableDesc,s.sSortingClassJUI=e.oClasses.sSortJUIDescAllowed)}function o(e){if(e.oFeatures.bAutoWidth===!1)return!1;ra(e);for(var t=0,n=e.aoColumns.length;t<n;t++)e.aoColumns[t].nTh.style.width=e.aoColumns[t].sWidth}function v(e,t){return e=z(e,"bVisible"),typeof e[t]=="number"?e[t]:null}function x(e,t){return e=z(e,"bVisible"),t=i.inArray(t,e),t!==-1?t:null}function D(e){return z(e,"bVisible").length}function z(e,t){var n=[];return i.map(e.aoColumns,function(e,r){e[t]&&n.push(r)}),n}function F(e){for(var t=m.ext.aTypes,n=t.length,r=0;r<n;r++){var i=t[r](e);if(i!==null)return i}return"string"}function G(e,t){t=t.split(",");for(var n=[],r=0,i=e.aoColumns.length;r<i;r++)for(var s=0;s<i;s++)if(e.aoColumns[r].sName==t[s]){n.push(s);break}return n}function Q(e){for(var t="",n=0,r=e.aoColumns.length;n<r;n++)t+=e.aoColumns[n].sName+",";return t.length==r?"":t.slice(0,-1)}function la(e,t,r,s){var o,u,a,f,l;if(t)for(o=t.length-1;o>=0;o--){var c=t[o].aTargets;i.isArray(c)||M(e,1,"aTargets must be an array of targets, not a "+typeof c),u=0;for(a=c.length;u<a;u++)if(typeof c[u]=="number"&&c[u]>=0){for(;e.aoColumns.length<=c[u];)n(e);s(c[u],t[o])}else if(typeof c[u]=="number"&&c[u]<0)s(e.aoColumns.length+c[u],t[o]);else if(typeof c[u]=="string"){f=0;for(l=e.aoColumns.length;f<l;f++)(c[u]=="_all"||i(e.aoColumns[f].nTh).hasClass(c[u]))&&s(f,t[o])}}if(r){o=0;for(e=r.length;o<e;o++)s(o,r[o])}}function O(e,t){var n;n=i.isArray(t)?t.slice():i.extend(!0,{},t),t=e.aoData.length;var r=i.extend(!0,{},m.models.oRow);r._aData=n,e.aoData.push(r);var s;r=0;for(var o=e.aoColumns.length;r<o;r++)n=e.aoColumns[r],typeof n.fnRender=="function"&&n.bUseRendered&&n.mData!==null?R(e,t,r,ca(e,t,r)):R(e,t,r,E(e,t,r)),n._bAutoType&&n.sType!="string"&&(s=E(e,t,r,"type"),s!==null&&s!==""&&(s=F(s),n.sType===null?n.sType=s:n.sType!=s&&n.sType!="html"&&(n.sType="string")));return e.aiDisplayMaster.push(t),e.oFeatures.bDeferRender||sa(e,t),t}function da(e){var t,n,r,s,o,u,a,f,l;if(e.bDeferLoading||e.sAjaxSource===null){a=e.nTBody.childNodes,t=0;for(n=a.length;t<n;t++)if(a[t].nodeName.toUpperCase()=="TR"){f=e.aoData.length,a[t]._DT_RowIndex=f,e.aoData.push(i.extend(!0,{},m.models.oRow,{nTr:a[t]})),e.aiDisplayMaster.push(f),u=a[t].childNodes,r=o=0;for(s=u.length;r<s;r++){l=u[r].nodeName.toUpperCase();if(l=="TD"||l=="TH")R(e,f,o,i.trim(u[r].innerHTML)),o++}}}a=ea(e),u=[],t=0;for(n=a.length;t<n;t++){r=0;for(s=a[t].childNodes.length;r<s;r++)o=a[t].childNodes[r],l=o.nodeName.toUpperCase(),(l=="TD"||l=="TH")&&u.push(o)}s=0;for(a=e.aoColumns.length;s<a;s++){l=e.aoColumns[s],l.sTitle===null&&(l.sTitle=l.nTh.innerHTML),o=l._bAutoType,f=typeof l.fnRender=="function";var c=l.sClass!==null,h=l.bVisible,p,d;if(o||f||c||!h){t=0;for(n=e.aoData.length;t<n;t++)r=e.aoData[t],p=u[t*a+s],o&&l.sType!="string"&&(d=E(e,t,s,"type"),d!==""&&(d=F(d),l.sType===null?l.sType=d:l.sType!=d&&l.sType!="html"&&(l.sType="string"))),typeof l.mData=="function"&&(p.innerHTML=E(e,t,s,"display")),f&&(d=ca(e,t,s),p.innerHTML=d,l.bUseRendered&&R(e,t,s,d)),c&&(p.className+=" "+l.sClass),h?r._anHidden[s]=null:(r._anHidden[s]=p,p.parentNode.removeChild(p)),l.fnCreatedCell&&l.fnCreatedCell.call(e.oInstance,p,E(e,t,s,"display"),r._aData,t,s)}}if(e.aoRowCreatedCallback.length!==0){t=0;for(n=e.aoData.length;t<n;t++)r=e.aoData[t],L(e,"aoRowCreatedCallback",null,[r.nTr,r._aData,t])}}function S(e,t){return t._DT_RowIndex!==q?t._DT_RowIndex:null}function ta(e,t,n){t=T(e,t);var r=0;for(e=e.aoColumns.length;r<e;r++)if(t[r]===n)return r;return-1}function ma(e,t,n,r){for(var i=[],s=0,o=r.length;s<o;s++)i.push(E(e,t,r[s],n));return i}function E(e,t,n,r){var i=e.aoColumns[n];if((n=i.fnGetData(e.aoData[t]._aData,r))===q)return e.iDrawError!=e.iDraw&&i.sDefaultContent===null&&(M(e,0,"Requested unknown parameter "+(typeof i.mData=="function"?"{mData function}":"'"+i.mData+"'")+" from the data source for row "+t),e.iDrawError=e.iDraw),i.sDefaultContent;if(n===null&&i.sDefaultContent!==null)n=i.sDefaultContent;else if(typeof n=="function")return n();return r=="display"&&n===null?"":n}function R(e,t,n,r){e.aoColumns[n].fnSetData(e.aoData[t]._aData,r)}function ba(e){if(e===null)return function(){return null};if(typeof e=="function")return function(t,n,r){return e(t,n,r)};if(typeof e!="string"||e.indexOf(".")===-1&&e.indexOf("[")===-1)return function(t){return t[e]};var t=function(e,n,r){var i=r.split("."),s;if(r!==""){var o=0;for(s=i.length;o<s;o++){if(r=i[o].match(fa)){i[o]=i[o].replace(fa,""),i[o]!==""&&(e=e[i[o]]),s=[],i.splice(0,o+1),i=i.join("."),o=0;for(var u=e.length;o<u;o++)s.push(t(e[o],n,i));e=r[0].substring(1,r[0].length-1),e=e===""?s:s.join(e);break}if(e===null||e[i[o]]===q)return q;e=e[i[o]]}}return e};return function(n,r){return t(n,r,e)}}function Ia(e){if(e===null)return function(){};if(typeof e=="function")return function(t,n){e(t,"set",n)};if(typeof e!="string"||e.indexOf(".")===-1&&e.indexOf("[")===-1)return function(t,n){t[e]=n};var t=function(e,n,r){r=r.split(".");var i,s,o=0;for(s=r.length-1;o<s;o++){if(i=r[o].match(fa)){r[o]=r[o].replace(fa,""),e[r[o]]=[],i=r.slice(),i.splice(0,o+1),s=i.join(".");for(var u=0,a=n.length;u<a;u++)i={},t(i,n[u],s),e[r[o]].push(i);return}if(e[r[o]]===null||e[r[o]]===q)e[r[o]]={};e=e[r[o]]}e[r[r.length-1].replace(fa,"")]=n};return function(n,r){return t(n,r,e)}}function na(e){for(var t=[],n=e.aoData.length,r=0;r<n;r++)t.push(e.aoData[r]._aData);return t}function ua(e){e.aoData.splice(0,e.aoData.length),e.aiDisplayMaster.splice(0,e.aiDisplayMaster.length),e.aiDisplay.splice(0,e.aiDisplay.length),J(e)}function va(e,t){for(var n=-1,r=0,i=e.length;r<i;r++)e[r]==t?n=r:e[r]>t&&e[r]--;n!=-1&&e.splice(n,1)}function ca(e,t,n){var r=e.aoColumns[n];return r.fnRender({iDataRow:t,iDataColumn:n,oSettings:e,aData:e.aoData[t]._aData,mDataProp:r.mData},E(e,t,n,"display"))}function sa(e,n){var r=e.aoData[n],s;if(r.nTr===null){r.nTr=t.createElement("tr"),r.nTr._DT_RowIndex=n,r._aData.DT_RowId&&(r.nTr.id=r._aData.DT_RowId),r._aData.DT_RowClass&&i(r.nTr).addClass(r._aData.DT_RowClass);for(var o=0,u=e.aoColumns.length;o<u;o++){var a=e.aoColumns[o];s=t.createElement(a.sCellType),s.innerHTML=typeof a.fnRender!="function"||!!a.bUseRendered&&a.mData!==null?E(e,n,o,"display"):ca(e,n,o),a.sClass!==null&&(s.className=a.sClass),a.bVisible?(r.nTr.appendChild(s),r._anHidden[o]=null):r._anHidden[o]=s,a.fnCreatedCell&&a.fnCreatedCell.call(e.oInstance,s,E(e,n,o,"display"),r._aData,n,o)}L(e,"aoRowCreatedCallback",null,[r.nTr,r._aData,n])}}function Ja(e){var n,r,s;if(e.nTHead.getElementsByTagName("th").length!==0){n=0;for(s=e.aoColumns.length;n<s;n++)r=e.aoColumns[n].nTh,r.setAttribute("role","columnheader"),e.aoColumns[n].bSortable&&(r.setAttribute("tabindex",e.iTabIndex),r.setAttribute("aria-controls",e.sTableId)),e.aoColumns[n].sClass!==null&&i(r).addClass(e.aoColumns[n].sClass),e.aoColumns[n].sTitle!=r.innerHTML&&(r.innerHTML=e.aoColumns[n].sTitle)}else{var o=t.createElement("tr");n=0;for(s=e.aoColumns.length;n<s;n++)r=e.aoColumns[n].nTh,r.innerHTML=e.aoColumns[n].sTitle,r.setAttribute("tabindex","0"),e.aoColumns[n].sClass!==null&&i(r).addClass(e.aoColumns[n].sClass),o.appendChild(r);i(e.nTHead).html("")[0].appendChild(o),ga(e.aoHeader,e.nTHead)}i(e.nTHead).children("tr").attr("role","row");if(e.bJUI){n=0;for(s=e.aoColumns.length;n<s;n++){r=e.aoColumns[n].nTh,o=t.createElement("div"),o.className=e.oClasses.sSortJUIWrapper,i(r).contents().appendTo(o);var u=t.createElement("span");u.className=e.oClasses.sSortIcon,o.appendChild(u),r.appendChild(o)}}if(e.oFeatures.bSort)for(n=0;n<e.aoColumns.length;n++)e.aoColumns[n].bSortable!==!1?wa(e,e.aoColumns[n].nTh,n):i(e.aoColumns[n].nTh).addClass(e.oClasses.sSortableNone);e.oClasses.sFooterTH!==""&&i(e.nTFoot).children("tr").children("th").addClass(e.oClasses.sFooterTH);if(e.nTFoot!==null){r=W(e,null,e.aoFooter),n=0;for(s=e.aoColumns.length;n<s;n++)r[n]&&(e.aoColumns[n].nTf=r[n],e.aoColumns[n].sClass&&i(r[n]).addClass(e.aoColumns[n].sClass))}}function ha(e,t,n){var r,i,s,o=[],u=[],a=e.aoColumns.length,f;n===q&&(n=!1),r=0;for(i=t.length;r<i;r++){o[r]=t[r].slice(),o[r].nTr=t[r].nTr;for(s=a-1;s>=0;s--)!e.aoColumns[s].bVisible&&!n&&o[r].splice(s,1);u.push([])}r=0;for(i=o.length;r<i;r++){if(e=o[r].nTr)for(;s=e.firstChild;)e.removeChild(s);s=0;for(t=o[r].length;s<t;s++){f=a=1;if(u[r][s]===q){e.appendChild(o[r][s].cell);for(u[r][s]=1;o[r+a]!==q&&o[r][s].cell==o[r+a][s].cell;)u[r+a][s]=1,a++;for(;o[r][s+f]!==q&&o[r][s].cell==o[r][s+f].cell;){for(n=0;n<a;n++)u[r+n][s+f]=1;f++}o[r][s].cell.rowSpan=a,o[r][s].cell.colSpan=f}}}}function H(e){var n=L(e,"aoPreDrawCallback","preDraw",[e]);if(i.inArray(!1,n)!==-1)N(e,!1);else{var r,s;n=[];var o=0,u=e.asStripeClasses.length;r=e.aoOpenRows.length,e.bDrawing=!0,e.iInitDisplayStart!==q&&e.iInitDisplayStart!=-1&&(e._iDisplayStart=e.oFeatures.bServerSide?e.iInitDisplayStart:e.iInitDisplayStart>=e.fnRecordsDisplay()?0:e.iInitDisplayStart,e.iInitDisplayStart=-1,J(e));if(e.bDeferLoading)e.bDeferLoading=!1,e.iDraw++;else if(e.oFeatures.bServerSide){if(!e.bDestroying&&!Ka(e))return}else e.iDraw++;if(e.aiDisplay.length!==0){var a=e._iDisplayStart;s=e._iDisplayEnd,e.oFeatures.bServerSide&&(a=0,s=e.aoData.length);for(a=a;a<s;a++){var f=e.aoData[e.aiDisplay[a]];f.nTr===null&&sa(e,e.aiDisplay[a]);var l=f.nTr;if(u!==0){var c=e.asStripeClasses[o%u];f._sRowStripe!=c&&(i(l).removeClass(f._sRowStripe).addClass(c),f._sRowStripe=c)}L(e,"aoRowCallback",null,[l,e.aoData[e.aiDisplay[a]]._aData,o,a]),n.push(l),o++;if(r!==0)for(f=0;f<r;f++)if(l==e.aoOpenRows[f].nParent){n.push(e.aoOpenRows[f].nTr);break}}}else n[0]=t.createElement("tr"),e.asStripeClasses[0]&&(n[0].className=e.asStripeClasses[0]),r=e.oLanguage,u=r.sZeroRecords,e.iDraw==1&&e.sAjaxSource!==null&&!e.oFeatures.bServerSide?u=r.sLoadingRecords:r.sEmptyTable&&e.fnRecordsTotal()===0&&(u=r.sEmptyTable),r=t.createElement("td"),r.setAttribute("valign","top"),r.colSpan=D(e),r.className=e.oClasses.sRowEmpty,r.innerHTML=xa(e,u),n[o].appendChild(r);L(e,"aoHeaderCallback","header",[i(e.nTHead).children("tr")[0],na(e),e._iDisplayStart,e.fnDisplayEnd(),e.aiDisplay]),L(e,"aoFooterCallback"
,"footer",[i(e.nTFoot).children("tr")[0],na(e),e._iDisplayStart,e.fnDisplayEnd(),e.aiDisplay]),o=t.createDocumentFragment(),r=t.createDocumentFragment();if(e.nTBody){u=e.nTBody.parentNode,r.appendChild(e.nTBody);if(!e.oScroll.bInfinite||!e._bInitComplete||e.bSorted||e.bFiltered)for(;r=e.nTBody.firstChild;)e.nTBody.removeChild(r);r=0;for(s=n.length;r<s;r++)o.appendChild(n[r]);e.nTBody.appendChild(o),u!==null&&u.appendChild(e.nTBody)}L(e,"aoDrawCallback","draw",[e]),e.bSorted=!1,e.bFiltered=!1,e.bDrawing=!1,e.oFeatures.bServerSide&&(N(e,!1),e._bInitComplete||oa(e))}}function pa(e){e.oFeatures.bSort?X(e,e.oPreviousSearch):e.oFeatures.bFilter?U(e,e.oPreviousSearch):(J(e),H(e))}function La(e){var t=i("<div></div>")[0];e.nTable.parentNode.insertBefore(t,e.nTable),e.nTableWrapper=i('<div id="'+e.sTableId+'_wrapper" class="'+e.oClasses.sWrapper+'" role="grid"></div>')[0],e.nTableReinsertBefore=e.nTable.nextSibling;for(var n=e.nTableWrapper,r=e.sDom.split(""),s,o,u,a,f,l,c,h=0;h<r.length;h++){o=0,u=r[h];if(u=="<"){a=i("<div></div>")[0],f=r[h+1];if(f=="'"||f=='"'){l="";for(c=2;r[h+c]!=f;)l+=r[h+c],c++;l=="H"?l=e.oClasses.sJUIHeader:l=="F"&&(l=e.oClasses.sJUIFooter),l.indexOf(".")!=-1?(f=l.split("."),a.id=f[0].substr(1,f[0].length-1),a.className=f[1]):l.charAt(0)=="#"?a.id=l.substr(1,l.length-1):a.className=l,h+=c}n.appendChild(a),n=a}else if(u==">")n=n.parentNode;else if(u=="l"&&e.oFeatures.bPaginate&&e.oFeatures.bLengthChange)s=Ma(e),o=1;else if(u=="f"&&e.oFeatures.bFilter)s=Na(e),o=1;else if(u=="r"&&e.oFeatures.bProcessing)s=Oa(e),o=1;else if(u=="t")s=Pa(e),o=1;else if(u=="i"&&e.oFeatures.bInfo)s=Qa(e),o=1;else if(u=="p"&&e.oFeatures.bPaginate)s=Ra(e),o=1;else if(m.ext.aoFeatures.length!==0){a=m.ext.aoFeatures,c=0;for(f=a.length;c<f;c++)if(u==a[c].cFeature){if(s=a[c].fnInit(e))o=1;break}}o==1&&s!==null&&(typeof e.aanFeatures[u]!="object"&&(e.aanFeatures[u]=[]),e.aanFeatures[u].push(s),n.appendChild(s))}t.parentNode.replaceChild(e.nTableWrapper,t)}function ga(e,t){t=i(t).children("tr");var n,r,s,o,u,a,f,l,c=function(e,t,n){for(;e[t][n];)n++;return n};e.splice(0,e.length),r=0;for(a=t.length;r<a;r++)e.push([]);r=0;for(a=t.length;r<a;r++){s=0;for(f=t[r].childNodes.length;s<f;s++){n=t[r].childNodes[s];if(n.nodeName.toUpperCase()=="TD"||n.nodeName.toUpperCase()=="TH"){var h=n.getAttribute("colspan")*1,p=n.getAttribute("rowspan")*1;h=!h||h===0||h===1?1:h,p=!p||p===0||p===1?1:p,l=c(e,r,0);for(u=0;u<h;u++)for(o=0;o<p;o++)e[r+o][l+u]={cell:n,unique:h==1?!0:!1},e[r+o].nTr=t[r]}}}}function W(e,t,n){var r=[];n||(n=e.aoHeader,t&&(n=[],ga(n,t))),t=0;for(var i=n.length;t<i;t++)for(var s=0,o=n[t].length;s<o;s++)n[t][s].unique&&(!r[s]||!e.bSortCellsTop)&&(r[s]=n[t][s].cell);return r}function Ka(e){if(e.bAjaxDataGet){e.iDraw++,N(e,!0);var t=Sa(e);return ya(e,t),e.fnServerData.call(e.oInstance,e.sAjaxSource,t,function(t){Ta(e,t)},e),!1}return!0}function Sa(e){var t=e.aoColumns.length,n=[],r,i,s,o;n.push({name:"sEcho",value:e.iDraw}),n.push({name:"iColumns",value:t}),n.push({name:"sColumns",value:Q(e)}),n.push({name:"iDisplayStart",value:e._iDisplayStart}),n.push({name:"iDisplayLength",value:e.oFeatures.bPaginate!==!1?e._iDisplayLength:-1});for(s=0;s<t;s++)r=e.aoColumns[s].mData,n.push({name:"mDataProp_"+s,value:typeof r=="function"?"function":r});if(e.oFeatures.bFilter!==!1){n.push({name:"sSearch",value:e.oPreviousSearch.sSearch}),n.push({name:"bRegex",value:e.oPreviousSearch.bRegex});for(s=0;s<t;s++)n.push({name:"sSearch_"+s,value:e.aoPreSearchCols[s].sSearch}),n.push({name:"bRegex_"+s,value:e.aoPreSearchCols[s].bRegex}),n.push({name:"bSearchable_"+s,value:e.aoColumns[s].bSearchable})}if(e.oFeatures.bSort!==!1){var u=0;r=e.aaSortingFixed!==null?e.aaSortingFixed.concat(e.aaSorting):e.aaSorting.slice();for(s=0;s<r.length;s++){i=e.aoColumns[r[s][0]].aDataSort;for(o=0;o<i.length;o++)n.push({name:"iSortCol_"+u,value:i[o]}),n.push({name:"sSortDir_"+u,value:r[s][1]}),u++}n.push({name:"iSortingCols",value:u});for(s=0;s<t;s++)n.push({name:"bSortable_"+s,value:e.aoColumns[s].bSortable})}return n}function ya(e,t){L(e,"aoServerParams","serverParams",[t])}function Ta(e,t){if(t.sEcho!==q){if(t.sEcho*1<e.iDraw)return;e.iDraw=t.sEcho*1}(!e.oScroll.bInfinite||e.oScroll.bInfinite&&(e.bSorted||e.bFiltered))&&ua(e),e._iRecordsTotal=parseInt(t.iTotalRecords,10),e._iRecordsDisplay=parseInt(t.iTotalDisplayRecords,10);var n=Q(e);n=t.sColumns!==q&&n!==""&&t.sColumns!=n;var r;n&&(r=G(e,t.sColumns)),t=ba(e.sAjaxDataProp)(t);for(var i=0,s=t.length;i<s;i++)if(n){for(var o=[],u=0,a=e.aoColumns.length;u<a;u++)o.push(t[i][r[u]]);O(e,o)}else O(e,t[i]);e.aiDisplay=e.aiDisplayMaster.slice(),e.bAjaxDataGet=!1,H(e),e.bAjaxDataGet=!0,N(e,!1)}function Na(e){var n=e.oPreviousSearch,r=e.oLanguage.sSearch;r=r.indexOf("_INPUT_")!==-1?r.replace("_INPUT_",'<input type="text" />'):r===""?'<input type="text" />':r+' <input type="text" />';var s=t.createElement("div");return s.className=e.oClasses.sFilter,s.innerHTML="<label>"+r+"</label>",e.aanFeatures.f||(s.id=e.sTableId+"_filter"),r=i('input[type="text"]',s),s._DT_Input=r[0],r.val(n.sSearch.replace('"',"&quot;")),r.bind("keyup.DT",function(){for(var t=e.aanFeatures.f,r=this.value===""?"":this.value,s=0,o=t.length;s<o;s++)t[s]!=i(this).parents("div.dataTables_filter")[0]&&i(t[s]._DT_Input).val(r);r!=n.sSearch&&U(e,{sSearch:r,bRegex:n.bRegex,bSmart:n.bSmart,bCaseInsensitive:n.bCaseInsensitive})}),r.attr("aria-controls",e.sTableId).bind("keypress.DT",function(e){if(e.keyCode==13)return!1}),s}function U(e,t,n){var r=e.oPreviousSearch,s=e.aoPreSearchCols,o=function(e){r.sSearch=e.sSearch,r.bRegex=e.bRegex,r.bSmart=e.bSmart,r.bCaseInsensitive=e.bCaseInsensitive};if(e.oFeatures.bServerSide)o(t);else{Ua(e,t.sSearch,n,t.bRegex,t.bSmart,t.bCaseInsensitive),o(t);for(t=0;t<e.aoPreSearchCols.length;t++)Va(e,s[t].sSearch,t,s[t].bRegex,s[t].bSmart,s[t].bCaseInsensitive);Wa(e)}e.bFiltered=!0,i(e.oInstance).trigger("filter",e),e._iDisplayStart=0,J(e),H(e),za(e,0)}function Wa(e){for(var t=m.ext.afnFiltering,n=z(e,"bSearchable"),r=0,i=t.length;r<i;r++)for(var s=0,o=0,u=e.aiDisplay.length;o<u;o++){var a=e.aiDisplay[o-s];t[r](e,ma(e,a,"filter",n),a)||(e.aiDisplay.splice(o-s,1),s++)}}function Va(e,t,n,r,i,s){if(t!==""){var o=0;t=Aa(t,r,i,s);for(r=e.aiDisplay.length-1;r>=0;r--)i=Xa(E(e,e.aiDisplay[r],n,"filter"),e.aoColumns[n].sType),t.test(i)||(e.aiDisplay.splice(r,1),o++)}}function Ua(e,t,n,r,i,s){r=Aa(t,r,i,s),i=e.oPreviousSearch,n||(n=0),m.ext.afnFiltering.length!==0&&(n=1);if(t.length<=0)e.aiDisplay.splice(0,e.aiDisplay.length),e.aiDisplay=e.aiDisplayMaster.slice();else if(e.aiDisplay.length==e.aiDisplayMaster.length||i.sSearch.length>t.length||n==1||t.indexOf(i.sSearch)!==0){e.aiDisplay.splice(0,e.aiDisplay.length),za(e,1);for(t=0;t<e.aiDisplayMaster.length;t++)r.test(e.asDataSearch[t])&&e.aiDisplay.push(e.aiDisplayMaster[t])}else for(t=n=0;t<e.asDataSearch.length;t++)r.test(e.asDataSearch[t])||(e.aiDisplay.splice(t-n,1),n++)}function za(e,t){if(!e.oFeatures.bServerSide){e.asDataSearch=[];var n=z(e,"bSearchable");t=t===1?e.aiDisplayMaster:e.aiDisplay;for(var r=0,i=t.length;r<i;r++)e.asDataSearch[r]=Ba(e,ma(e,t[r],"filter",n))}}function Ba(e,t){return e=t.join("  "),e.indexOf("&")!==-1&&(e=i("<div>").html(e).text()),e.replace(/[\n\r]/g," ")}function Aa(e,t,n,r){return n?(e=t?e.split(" "):Ca(e).split(" "),e="^(?=.*?"+e.join(")(?=.*?")+").*$",new RegExp(e,r?"i":"")):(e=t?e:Ca(e),new RegExp(e,r?"i":""))}function Xa(e,t){return typeof m.ext.ofnSearch[t]=="function"?m.ext.ofnSearch[t](e):e===null?"":t=="html"?e.replace(/[\r\n]/g," ").replace(/<.*?>/g,""):typeof e=="string"?e.replace(/[\r\n]/g," "):e}function Ca(e){return e.replace(new RegExp("(\\/|\\.|\\*|\\+|\\?|\\||\\(|\\)|\\[|\\]|\\{|\\}|\\\\|\\$|\\^|\\-)","g"),"\\$1")}function Qa(e){var n=t.createElement("div");return n.className=e.oClasses.sInfo,e.aanFeatures.i||(e.aoDrawCallback.push({fn:Ya,sName:"information"}),n.id=e.sTableId+"_info"),e.nTable.setAttribute("aria-describedby",e.sTableId+"_info"),n}function Ya(e){if(!!e.oFeatures.bInfo&&e.aanFeatures.i.length!==0){var t=e.oLanguage,n=e._iDisplayStart+1,r=e.fnDisplayEnd(),s=e.fnRecordsTotal(),o=e.fnRecordsDisplay(),u;u=o===0&&o==s?t.sInfoEmpty:o===0?t.sInfoEmpty+" "+t.sInfoFiltered:o==s?t.sInfo:t.sInfo+" "+t.sInfoFiltered,u+=t.sInfoPostFix,u=xa(e,u),t.fnInfoCallback!==null&&(u=t.fnInfoCallback.call(e.oInstance,e,n,r,s,o,u)),e=e.aanFeatures.i,t=0;for(n=e.length;t<n;t++)i(e[t]).html(u)}}function xa(e,t){var n=e.fnFormatNumber(e._iDisplayStart+1),r=e.fnDisplayEnd();r=e.fnFormatNumber(r);var i=e.fnRecordsDisplay();i=e.fnFormatNumber(i);var s=e.fnRecordsTotal();return s=e.fnFormatNumber(s),e.oScroll.bInfinite&&(n=e.fnFormatNumber(1)),t.replace("_START_",n).replace("_END_",r).replace("_TOTAL_",i).replace("_MAX_",s)}function qa(e){var t,n,r=e.iInitDisplayStart;if(e.bInitialised===!1)setTimeout(function(){qa(e)},200);else{La(e),Ja(e),ha(e,e.aoHeader),e.nTFoot&&ha(e,e.aoFooter),N(e,!0),e.oFeatures.bAutoWidth&&ra(e),t=0;for(n=e.aoColumns.length;t<n;t++)e.aoColumns[t].sWidth!==null&&(e.aoColumns[t].nTh.style.width=s(e.aoColumns[t].sWidth));e.oFeatures.bSort?X(e):e.oFeatures.bFilter?U(e,e.oPreviousSearch):(e.aiDisplay=e.aiDisplayMaster.slice(),J(e),H(e)),e.sAjaxSource!==null&&!e.oFeatures.bServerSide?(n=[],ya(e,n),e.fnServerData.call(e.oInstance,e.sAjaxSource,n,function(n){var i=e.sAjaxDataProp!==""?ba(e.sAjaxDataProp)(n):n;for(t=0;t<i.length;t++)O(e,i[t]);e.iInitDisplayStart=r,e.oFeatures.bSort?X(e):(e.aiDisplay=e.aiDisplayMaster.slice(),J(e),H(e)),N(e,!1),oa(e,n)},e)):e.oFeatures.bServerSide||(N(e,!1),oa(e))}}function oa(e,t){e._bInitComplete=!0,L(e,"aoInitComplete","init",[e,t])}function Da(e){var t=m.defaults.oLanguage;!e.sEmptyTable&&e.sZeroRecords&&t.sEmptyTable==="No data available in table"&&r(e,e,"sZeroRecords","sEmptyTable"),!e.sLoadingRecords&&e.sZeroRecords&&t.sLoadingRecords==="Loading..."&&r(e,e,"sZeroRecords","sLoadingRecords")}function Ma(e){if(e.oScroll.bInfinite)return null;var n='<select size="1" '+('name="'+e.sTableId+'_length"')+">",r,s,o=e.aLengthMenu;if(o.length==2&&typeof o[0]=="object"&&typeof o[1]=="object"){r=0;for(s=o[0].length;r<s;r++)n+='<option value="'+o[0][r]+'">'+o[1][r]+"</option>"}else{r=0;for(s=o.length;r<s;r++)n+='<option value="'+o[r]+'">'+o[r]+"</option>"}return n+="</select>",o=t.createElement("div"),e.aanFeatures.l||(o.id=e.sTableId+"_length"),o.className=e.oClasses.sLength,o.innerHTML="<label>"+e.oLanguage.sLengthMenu.replace("_MENU_",n)+"</label>",i('select option[value="'+e._iDisplayLength+'"]',o).attr("selected",!0),i("select",o).bind("change.DT",function(){var t=i(this).val(),n=e.aanFeatures.l;r=0;for(s=n.length;r<s;r++)n[r]!=this.parentNode&&i("select",n[r]).val(t);e._iDisplayLength=parseInt(t,10),J(e),e.fnDisplayEnd()==e.fnRecordsDisplay()&&(e._iDisplayStart=e.fnDisplayEnd()-e._iDisplayLength,e._iDisplayStart<0&&(e._iDisplayStart=0)),e._iDisplayLength==-1&&(e._iDisplayStart=0),H(e)}),i("select",o).attr("aria-controls",e.sTableId),o}function J(e){e._iDisplayEnd=e.oFeatures.bPaginate===!1?e.aiDisplay.length:e._iDisplayStart+e._iDisplayLength>e.aiDisplay.length||e._iDisplayLength==-1?e.aiDisplay.length:e._iDisplayStart+e._iDisplayLength}function Ra(e){if(e.oScroll.bInfinite)return null;var n=t.createElement("div");return n.className=e.oClasses.sPaging+e.sPaginationType,m.ext.oPagination[e.sPaginationType].fnInit(e,n,function(e){J(e),H(e)}),e.aanFeatures.p||e.aoDrawCallback.push({fn:function(e){m.ext.oPagination[e.sPaginationType].fnUpdate(e,function(e){J(e),H(e)})},sName:"pagination"}),n}function Ea(e,t){var n=e._iDisplayStart;return typeof t=="number"?(e._iDisplayStart=t*e._iDisplayLength,e._iDisplayStart>e.fnRecordsDisplay()&&(e._iDisplayStart=0)):t=="first"?e._iDisplayStart=0:t=="previous"?(e._iDisplayStart=e._iDisplayLength>=0?e._iDisplayStart-e._iDisplayLength:0,e._iDisplayStart<0&&(e._iDisplayStart=0)):t=="next"?e._iDisplayLength>=0?e._iDisplayStart+e._iDisplayLength<e.fnRecordsDisplay()&&(e._iDisplayStart+=e._iDisplayLength):e._iDisplayStart=0:t=="last"?e._iDisplayLength>=0?(t=parseInt((e.fnRecordsDisplay()-1)/e._iDisplayLength,10)+1,e._iDisplayStart=(t-1)*e._iDisplayLength):e._iDisplayStart=0:M(e,0,"Unknown paging action: "+t),i(e.oInstance).trigger("page",e),n!=e._iDisplayStart}function Oa(e){var n=t.createElement("div");return e.aanFeatures.r||(n.id=e.sTableId+"_processing"),n.innerHTML=e.oLanguage.sProcessing,n.className=e.oClasses.sProcessing,e.nTable.parentNode.insertBefore(n,e.nTable),n}function N(e,t){if(e.oFeatures.bProcessing)for(var n=e.aanFeatures.r,r=0,s=n.length;r<s;r++)n[r].style.visibility=t?"visible":"hidden";i(e.oInstance).trigger("processing",[e,t])}function Pa(e){if(e.oScroll.sX===""&&e.oScroll.sY==="")return e.nTable;var n=t.createElement("div"),r=t.createElement("div"),o=t.createElement("div"),u=t.createElement("div"),a=t.createElement("div"),f=t.createElement("div"),l=e.nTable.cloneNode(!1),c=e.nTable.cloneNode(!1),h=e.nTable.getElementsByTagName("thead")[0],p=e.nTable.getElementsByTagName("tfoot").length===0?null:e.nTable.getElementsByTagName("tfoot")[0],d=e.oClasses;return r.appendChild(o),a.appendChild(f),u.appendChild(e.nTable),n.appendChild(r),n.appendChild(u),o.appendChild(l),l.appendChild(h),p!==null&&(n.appendChild(a),f.appendChild(c),c.appendChild(p)),n.className=d.sScrollWrapper,r.className=d.sScrollHead,o.className=d.sScrollHeadInner,u.className=d.sScrollBody,a.className=d.sScrollFoot,f.className=d.sScrollFootInner,e.oScroll.bAutoCss&&(r.style.overflow="hidden",r.style.position="relative",a.style.overflow="hidden",u.style.overflow="auto"),r.style.border="0",r.style.width="100%",a.style.border="0",o.style.width=e.oScroll.sXInner!==""?e.oScroll.sXInner:"100%",l.removeAttribute("id"),l.style.marginLeft="0",e.nTable.style.marginLeft="0",p!==null&&(c.removeAttribute("id"),c.style.marginLeft="0"),o=i(e.nTable).children("caption"),o.length>0&&(o=o[0],o._captionSide==="top"?l.appendChild(o):o._captionSide==="bottom"&&p&&c.appendChild(o)),e.oScroll.sX!==""&&(r.style.width=s(e.oScroll.sX),u.style.width=s(e.oScroll.sX),p!==null&&(a.style.width=s(e.oScroll.sX)),i(u).scroll(function(){r.scrollLeft=this.scrollLeft,p!==null&&(a.scrollLeft=this.scrollLeft)})),e.oScroll.sY!==""&&(u.style.height=s(e.oScroll.sY)),e.aoDrawCallback.push({fn:Za,sName:"scrolling"}),e.oScroll.bInfinite&&i(u).scroll(function(){!e.bDrawing&&i(this).scrollTop()!==0&&i(this).scrollTop()+i(this).height()>i(e.nTable).height()-e.oScroll.iLoadGap&&e.fnDisplayEnd()<e.fnRecordsDisplay()&&(Ea(e,"next"),J(e),H(e))}),e.nScrollHead=r,e.nScrollFoot=a,n}function Za(e){var t=e.nScrollHead.getElementsByTagName("div")[0],n=t.getElementsByTagName("table")[0],r=e.nTable.parentNode,o,u,a,f,l,c,h,p,d=[],m=e.nTFoot!==null?e.nScrollFoot.getElementsByTagName("div")[0]:null,g=e.nTFoot!==null?m.getElementsByTagName("table")[0]:null,y=e.oBrowser.bScrollOversize;i(e.nTable).children("thead, tfoot").remove(),a=i(e.nTHead).clone()[0],e.nTable.insertBefore(a,e.nTable.childNodes[0]),e.nTFoot!==null&&(l=i(e.nTFoot).clone()[0],e.nTable.insertBefore(l,e.nTable.childNodes[1])),e.oScroll.sX===""&&(r.style.width="100%",t.parentNode.style.width="100%");var b=W(e,a);o=0;for(u=b.length;o<u;o++)h=v(e,o),b[o].style.width=e.aoColumns[h].sWidth;e.nTFoot!==null&&V(function(e){e.style.width=""},l.getElementsByTagName("tr")),e.oScroll.bCollapse&&e.oScroll.sY!==""&&(r.style.height=r.offsetHeight+e.nTHead.offsetHeight+"px"),o=i(e.nTable).outerWidth(),e.oScroll.sX===""?(e.nTable.style.width="100%",y&&(i("tbody",r).height()>r.offsetHeight||i(r).css("overflow-y")=="scroll")&&(e.nTable.style.width=s(i(e.nTable).outerWidth()-e.oScroll.iBarWidth))):e.oScroll.sXInner!==""?e.nTable.style.width=s(e.oScroll.sXInner):o==i(r).width()&&i(r).height()<i(e.nTable).height()?(e.nTable.style.width=s(o-e.oScroll.iBarWidth),i(e.nTable).outerWidth()>o-e.oScroll.iBarWidth&&(e.nTable.style.width=s(o))):e.nTable.style.width=s(o),o=i(e.nTable).outerWidth(),u=e.nTHead.getElementsByTagName("tr"),a=a.getElementsByTagName("tr"),V(function(e,t){c=e.style,c.paddingTop="0",c.paddingBottom="0",c.borderTopWidth="0",c.borderBottomWidth="0",c.height=0,p=i(e).width(),t.style.width=s(p),d.push(p)},a,u),i(a).height(0),e.nTFoot!==null&&(f=l.getElementsByTagName("tr"),l=e.nTFoot.getElementsByTagName("tr"),V(function(e,t){c=e.style,c.paddingTop="0",c.paddingBottom="0",c.borderTopWidth="0",c.borderBottomWidth="0",c.height=0,p=i(e).width(),t.style.width=s(p),d.push(p)},f,l),i(f).height(0)),V(function(e){e.innerHTML="",e.style.width=s(d.shift())},a),e.nTFoot!==null&&V(function(e){e.innerHTML="",e.style.width=s(d.shift())},f),i(e.nTable).outerWidth()<o?(f=r.scrollHeight>r.offsetHeight||i(r).css("overflow-y")=="scroll"?o+e.oScroll.iBarWidth:o,y&&(r.scrollHeight>r.offsetHeight||i(r).css("overflow-y")=="scroll")&&(e.nTable.style.width=s(f-e.oScroll.iBarWidth)),r.style.width=s(f),t.parentNode.style.width=s(f),e.nTFoot!==null&&(m.parentNode.style.width=s(f)),e.oScroll.sX===""?M(e,1,"The table cannot fit into the current element which will cause column misalignment. The table has been drawn at its minimum possible width."):e.oScroll.sXInner!==""&&M(e,1,"The table cannot fit into the current element which will cause column misalignment. Increase the sScrollXInner value or remove it to allow automatic calculation")):(r.style.width=s("100%"),t.parentNode.style.width=s("100%"),e.nTFoot!==null&&(m.parentNode.style.width=s("100%"))),e.oScroll.sY===""&&y&&(r.style.height=s(e.nTable.offsetHeight+e.oScroll.iBarWidth)),e.oScroll.sY!==""&&e.oScroll.bCollapse&&(r.style.height=s(e.oScroll.sY),y=e.oScroll.sX!==""&&e.nTable.offsetWidth>r.offsetWidth?e.oScroll.iBarWidth:0,e.nTable.offsetHeight<r.offsetHeight&&(r.style.height=s(e.nTable.offsetHeight+y))),y=i(e.nTable).outerWidth(),n.style.width=s(y),t.style.width=s(y),n=i(e.nTable).height()>r.clientHeight||i(r).css("overflow-y")=="scroll",t.style.paddingRight=n?e.oScroll.iBarWidth+"px":"0px",e.nTFoot!==null&&(g.style.width=s(y),m.style.width=s(y),m.style.paddingRight=n?e.oScroll.iBarWidth+"px":"0px"),i(r).scroll();if(e.bSorted||e.bFiltered)r.scrollTop=0}function V(e,t,n){for(var r=0,i=t.length;r<i;r++)for(var s=0,o=t[r].childNodes.length;s<o;s++)t[r].childNodes[s].nodeType==1&&(n?e(t[r].childNodes[s],n[r].childNodes[s]):e(t[r].childNodes[s]))}function $a(e,n){if(!e||e===null||e==="")return 0;n||(n=t.getElementsByTagName("body")[0]);var r=t.createElement("div");return r.style.width=s(e),n.appendChild(r),e=r.offsetWidth,n.removeChild(r),e}function ra(e){var n=0,r,o=0,u=e.aoColumns.length,a,f=i("th",e.nTHead),l=e.nTable.getAttribute("width");for(a=0;a<u;a++)e.aoColumns[a].bVisible&&(o++,e.aoColumns[a].sWidth!==null&&(r=$a(e.aoColumns[a].sWidthOrig,e.nTable.parentNode),r!==null&&(e.aoColumns[a].sWidth=s(r)),n++));if(u==f.length&&n===0&&o==u&&e.oScroll.sX===""&&e.oScroll.sY==="")for(a=0;a<e.aoColumns.length;a++)r=i(f[a]).width(),r!==null&&(e.aoColumns[a].sWidth=s(r));else{n=e.nTable.cloneNode(!1),a=e.nTHead.cloneNode(!0),o=t.createElement("tbody"),r=t.createElement("tr"),n.removeAttribute("id"),n.appendChild(a),e.nTFoot!==null&&(n.appendChild(e.nTFoot.cloneNode(!0)),V(function(e){e.style.width=""},n.getElementsByTagName("tr"))),n.appendChild(o),o.appendChild(r),o=i("thead th",n),o.length===0&&(o=i("tbody tr:eq(0)>td",n)),f=W(e,a);for(a=o=0;a<u;a++){var c=e.aoColumns[a];c.bVisible&&c.sWidthOrig!==null&&c.sWidthOrig!==""?f[a-o].style.width=s(c.sWidthOrig):c.bVisible?f[a-o].style.width="":o++}for(a=0;a<u;a++)e.aoColumns[a].bVisible&&(o=ab(e,a),o!==null&&(o=o.cloneNode(!0),e.aoColumns[a].sContentPadding!==""&&(o.innerHTML+=e.aoColumns[a].sContentPadding),r.appendChild(o)));u=e.nTable.parentNode,u.appendChild(n),e.oScroll.sX!==""&&e.oScroll.sXInner!==""?n.style.width=s(e.oScroll.sXInner):e.oScroll.sX!==""?(n.style.width="",i(n).width()<u.offsetWidth&&(n.style.width=s(u.offsetWidth))):e.oScroll.sY!==""?n.style.width=s(u.offsetWidth):l&&(n.style.width=s(l)),n.style.visibility="hidden",bb(e,n),u=i("tbody tr:eq(0)",n).children(),u.length===0&&(u=W(e,i("thead",n)[0]));if(e.oScroll.sX!==""){for(a=o=r=0;a<e.aoColumns.length;a++)e.aoColumns[a].bVisible&&(r+=e.aoColumns[a].sWidthOrig===null?i(u[o]).outerWidth():parseInt(e.aoColumns[a].sWidth.replace("px",""),10)+(i(u[o]).outerWidth()-i(u[o]).width()),o++);n.style.width=s(r),e.nTable.style.width=s(r)}for(a=o=0;a<e.aoColumns.length;a++)e.aoColumns[a].bVisible&&(r=i(u[o]).width(),r!==null&&r>0&&(e.aoColumns[a].sWidth=s(r)),o++);u=i(n).css("width"),e.nTable.style.width=u.indexOf("%")!==-1?u:s(i(n).outerWidth()),n.parentNode.removeChild(n)}l&&(e.nTable.style.width=s(l))}function bb(e,t){e.oScroll.sX===""&&e.oScroll.sY!==""?(i(t).width(),t.style.width=s(i(t).outerWidth()-e.oScroll.iBarWidth)):e.oScroll.sX!==""&&(t.style.width=s(i(t).outerWidth()))}function ab(e,n){var r=cb(e,n);if(r<0)return null;if(e.aoData[r].nTr===null){var i=t.createElement("td");return i.innerHTML=E(e,r,n,""),i}return T(e,r)[n]}function cb(e,t){for(var n=-1,r=-1,i=0;i<e.aoData.length;i++){var s=E(e,i,t,"display")+"";s=s.replace(/<.*?>/g,""),s.length>n&&(n=s.length,r=i)}return r}function s(e){if(e===null)return"0px";if(typeof e=="number")return e<0?"0px":e+"px";var t=e.charCodeAt(e.length-1);return t<48||t>57?e:e+"px"}function db(){var e=t.createElement("p"),n=e.style;n.width="100%",n.height="200px",n.padding="0px";var r=t.createElement("div");return n=r.style,n.position="absolute",n.top="0px",n.left="0px",n.visibility="hidden",n.width="200px",n.height="150px",n.padding="0px",n.overflow="hidden",r.appendChild(e),t.body.appendChild(r),n=e.offsetWidth,r.style.overflow="scroll",e=e.offsetWidth,n==e&&(e=r.clientWidth),t.body.removeChild(r),n-e}function X(e,t){var n,r,s,o,u,a,f=[],l=[],c=m.ext.oSort,h=e.aoData,p=e.aoColumns,d=e.oLanguage.oAria;if(!e.oFeatures.bServerSide&&(e.aaSorting.length!==0||e.aaSortingFixed!==null)){f=e.aaSortingFixed!==null?e.aaSortingFixed.concat(e.aaSorting):e.aaSorting.slice();for(n=0;n<f.length;n++){r=f[n][0],s=x(e,r),o=e.aoColumns[r].sSortDataType;if(m.ext.afnSortData[o]){u=m.ext.afnSortData[o].call(e.oInstance,e,r,s);if(u.length===h.length){s=0;for(o=h.length;s<o;s++)R(e,s,r,u[s])}else M(e,0,"Returned data sort array (col "+r+") is the wrong length")}}n=0;for(r=e.aiDisplayMaster.length;n<r;n++)l[e.aiDisplayMaster[n]]=n;var v=f.length,g;n=0;for(r=h.length;n<r;n++)for(s=0;s<v;s++){g=p[f[s][0]].aDataSort,u=0;for(a=g.length;u<a;u++)o=p[g[u]].sType,o=c[(o?o:"string")+"-pre"],h[n]._aSortData[g[u]]=o?o(E(e,n,g[u],"sort")):E(e,n,g[u],"sort")}e.aiDisplayMaster.sort(function(e,t){var n,r,i,s,o;for(n=0;n<v;n++){o=p[f[n][0]].aDataSort,r=0;for(i=o.length;r<i;r++){s=p[o[r]].sType,s=c[(s?s:"string")+"-"+f[n][1]](h[e]._aSortData[o[r]],h[t]._aSortData[o[r]]);if(s!==0)return s}}return c["numeric-asc"](l[e],l[t])})}(t===q||t)&&!e.oFeatures.bDeferRender&&aa(e),n=0;for(r=e.aoColumns.length;n<r;n++)s=p[n].sTitle.replace(/<.*?>/g,""),t=p[n].nTh,t.removeAttribute("aria-sort"),t.removeAttribute("aria-label"),p[n].bSortable?f.length>0&&f[0][0]==n?(t.setAttribute("aria-sort",f[0][1]=="asc"?"ascending":"descending"),t.setAttribute("aria-label",s+((p[n].asSorting[f[0][2]+1]?p[n].asSorting[f[0][2]+1]:p[n].asSorting[0])=="asc"?d.sSortAscending:d.sSortDescending))):t.setAttribute("aria-label",s+(p[n].asSorting[0]=="asc"?d.sSortAscending:d.sSortDescending)):t.setAttribute("aria-label",s);e.bSorted=!0,i(e.oInstance).trigger("sort",e),e.oFeatures.bFilter?U(e,e.oPreviousSearch,1):(e.aiDisplay=e.aiDisplayMaster.slice(),e._iDisplayStart=0,J(e),H(e))}function wa(e,t,n,r){fb(t,{},function(t){if(e.aoColumns[n].bSortable!==!1){var i=function(){var r,i;if(t.shiftKey){for(var s=!1,o=0;o<e.aaSorting.length;o++)if(e.aaSorting[o][0]==n){s=!0,r=e.aaSorting[o][0],i=e.aaSorting[o][2]+1,e.aoColumns[r].asSorting[i]?(e.aaSorting[o][1]=e.aoColumns[r].asSorting[i],e.aaSorting[o][2]=i):e.aaSorting.splice(o,1);break}s===!1&&e.aaSorting.push([n,e.aoColumns[n].asSorting[0],0])}else e.aaSorting.length==1&&e.aaSorting[0][0]==n?(r=e.aaSorting[0][0],i=e.aaSorting[0][2]+1,e.aoColumns[r].asSorting[i]||(i=0),e.aaSorting[0][1]=e.aoColumns[r].asSorting[i],e.aaSorting[0][2]=i):(e.aaSorting.splice(0,e.aaSorting.length),e.aaSorting.push([n,e.aoColumns[n].asSorting[0],0]));X(e)};e.oFeatures.bProcessing?(N(e,!0),setTimeout(function(){i(),e.oFeatures.bServerSide||N(e,!1)},0)):i(),typeof r=="function"&&r(e)}})}function aa(e){var t,n,r,s,o,u=e.aoColumns.length,a=e.oClasses;for(t=0;t<u;t++)e.aoColumns[t].bSortable&&i(e.aoColumns[t].nTh).removeClass(a.sSortAsc+" "+a.sSortDesc+" "+e.aoColumns[t].sSortingClass);s=e.aaSortingFixed!==null?e.aaSortingFixed.concat(e.aaSorting):e.aaSorting.slice();for(t=0;t<e.aoColumns.length;t++)if(e.aoColumns[t].bSortable){o=e.aoColumns[t].sSortingClass,r=-1;for(n=0;n<s.length;n++)if(s[n][0]==t){o=s[n][1]=="asc"?a.sSortAsc:a.sSortDesc,r=n;break}i(e.aoColumns[t].nTh).addClass(o),e.bJUI&&(n=i("span."+a.sSortIcon,e.aoColumns[t].nTh),n.removeClass(a.sSortJUIAsc+" "+a.sSortJUIDesc+" "+a.sSortJUI+" "+a.sSortJUIAscAllowed+" "+a.sSortJUIDescAllowed),n.addClass(r==-1?e.aoColumns[t].sSortingClassJUI:s[r][1]=="asc"?a.sSortJUIAsc:a.sSortJUIDesc))}else i(e.aoColumns[t].nTh).addClass(e.aoColumns[t].sSortingClass);o=a.sSortColumn;if(e.oFeatures.bSort&&e.oFeatures.bSortClasses){r=T(e);if(e.oFeatures.bDeferRender)i(r).removeClass(o+"1 "+o+"2 "+o+"3");else if(r.length>=u)for(t=0;t<u;t++)if(r[t].className.indexOf(o+"1")!=-1){n=0;for(e=r.length/u;n<e;n++)r[u*n+t].className=i.trim(r[u*n+t].className.replace(o+"1",""))}else if(r[t].className.indexOf(o+"2")!=-1){n=0;for(e=r.length/u;n<e;n++)r[u*n+t].className=i.trim(r[u*n+t].className.replace(o+"2",""))}else if(r[t].className.indexOf(o+"3")!=-1){n=0;for(e=r.length/u;n<e;n++)r[u*n+t].className=i.trim(r[u*n+t].className.replace(" "+o+"3",""))}a=1;var f;for(t=0;t<s.length;t++){f=parseInt(s[t][0],10),n=0;for(e=r.length/u;n<e;n++)r[u*n+f].className+=" "+o+a;a<3&&a++}}}function Fa(e){if(!!e.oFeatures.bStateSave&&!e.bDestroying){var t,n;t=e.oScroll.bInfinite;var r={iCreate:(new Date).getTime(),iStart:t?0:e._iDisplayStart,iEnd:t?e._iDisplayLength:e._iDisplayEnd,iLength:e._iDisplayLength,aaSorting:i.extend(!0,[],e.aaSorting),oSearch:i.extend(!0,{},e.oPreviousSearch),aoSearchCols:i.extend(!0,[],e.aoPreSearchCols),abVisCols:[]};t=0;for(n=e.aoColumns.length;t<n;t++)r.abVisCols.push(e.aoColumns[t].bVisible);L(e,"aoStateSaveParams","stateSaveParams",[e,r]),e.fnStateSave.call(e.oInstance,e,r)}}function gb(e,t){if(e.oFeatures.bStateSave){var n=e.fnStateLoad.call(e.oInstance,e);if(n){var r=L(e,"aoStateLoadParams","stateLoadParams",[e,n]);if(i.inArray(!1,r)===-1){e.oLoadedState=i.extend(!0,{},n),e._iDisplayStart=n.iStart,e.iInitDisplayStart=n.iStart,e._iDisplayEnd=n.iEnd,e._iDisplayLength=n.iLength,e.aaSorting=n.aaSorting.slice(),e.saved_aaSorting=n.aaSorting.slice(),i.extend(e.oPreviousSearch,n.oSearch),i.extend(!0,e.aoPreSearchCols,n.aoSearchCols),t.saved_aoColumns=[];for(r=0;r<n.abVisCols.length;r++)t.saved_aoColumns[r]={},t.saved_aoColumns[r].bVisible=n.abVisCols[r];L(e,"aoStateLoaded","stateLoaded",[e,n])}}}}function mb(a,b,c,d,e){var f=new Date;f.setTime(f.getTime()+c*1e3),c=ka.location.pathname.split("/"),a=a+"_"+c.pop().replace(/[\/:]/g,"").toLowerCase();var g;e!==null?(g=typeof i.parseJSON=="function"?i.parseJSON(b):eval("("+b+")"),b=e(a,g,f.toGMTString(),c.join("/")+"/")):b=a+"="+encodeURIComponent(b)+"; expires="+f.toGMTString()+"; path="+c.join("/")+"/",e="",f=9999999999999;if((hb(a)!==null?t.cookie.length:b.length+t.cookie.length)+10>4096){a=t.cookie.split(";");for(var j=0,k=a.length;j<k;j++)if(a[j].indexOf(d)!=-1){var l=a[j].split("=");try{g=eval("("+decodeURIComponent(l[1])+")")}catch(y){continue}g.iCreate&&g.iCreate<f&&(e=l[0],f=g.iCreate)}e!==""&&(t.cookie=e+"=; expires=Thu, 01-Jan-1970 00:00:01 GMT; path="+c.join("/")+"/")}t.cookie=b}function hb(e){var n=ka.location.pathname.split("/");e=e+"_"+n[n.length-1].replace(/[\/:]/g,"").toLowerCase()+"=",n=t.cookie.split(";");for(var r=0;r<n.length;r++){for(var i=n[r];i.charAt(0)==" ";)i=i.substring(1,i.length);if(i.indexOf(e)===0)return decodeURIComponent(i.substring(e.length,i.length))}return null}function B(e){for(var t=0;t<m.settings.length;t++)if(m.settings[t].nTable===e)return m.settings[t];return null}function ea(e){var t=[];e=e.aoData;for(var n=0,r=e.length;n<r;n++)e[n].nTr!==null&&t.push(e[n].nTr);return t}function T(e,t){var n=[],r,i,s,o,u;i=0;var a=e.aoData.length;t!==q&&(i=t,a=t+1);for(i=i;i<a;i++){u=e.aoData[i];if(u.nTr!==null){t=[],s=0;for(o=u.nTr.childNodes.length;s<o;s++)r=u.nTr.childNodes[s].nodeName.toLowerCase(),(r=="td"||r=="th")&&t.push(u.nTr.childNodes[s]);s=r=0;for(o=e.aoColumns.length;s<o;s++)e.aoColumns[s].bVisible?n.push(t[s-r]):(n.push(u._anHidden[s]),r++)}}return n}function M(e,t,n){e=e===null?"DataTables warning: "+n:"DataTables warning (table id = '"+e.sTableId+"'): "+n;if(t===0){if(m.ext.sErrMode!="alert")throw new Error(e);alert(e)}else ka.console&&console.log&&console.log(e)}function r(e,t,n,r){r===q&&(r=n),t[n]!==q&&(e[r]=t[n])}function ib(e,t){var n;for(var r in t)t.hasOwnProperty(r)&&(n=t[r],typeof h[r]=="object"&&n!==null&&i.isArray(n)===!1?i.extend(!0,e[r],n):e[r]=n);return e}function fb(e,t,n){i(e).bind("click.DT",t,function(t){e.blur(),n(t)}).bind("keypress.DT",t,function(e){e.which===13&&n(e)}).bind("selectstart.DT",function(){return!1})}function K(e,t,n,r){n&&e[t].push({fn:n,sName:r})}function L(e,t,n,r){t=e[t];for(var s=[],o=t.length-1;o>=0;o--)s.push(t[o].fn.apply(e.oInstance,r));return n!==null&&i(e.oInstance).trigger(n,r),s}function jb(e){var n=i('<div style="position:absolute; top:0; left:0; height:1px; width:1px; overflow:hidden"><div style="position:absolute; top:1px; left:1px; width:100px; height:50px; overflow:scroll;"><div id="DT_BrowserTest" style="width:100%; height:10px;"></div></div></div>')[0];t.body.appendChild(n),e.oBrowser.bScrollOversize=i("#DT_BrowserTest",n)[0].offsetWidth===100?!0:!1,t.body.removeChild(n)}function kb(e){return function(){var t=[B(this[m.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));return m.ext.oApi[e].apply(this,t)}}var fa=/\[.*?\]$/,lb=ka.JSON?JSON.stringify:function(e){var t=typeof e;if(t!=="object"||e===null)return t==="string"&&(e='"'+e+'"'),e+"";var n,r,s=[],o=i.isArray(e);for(n in e)r=e[n],t=typeof r,t==="string"?r='"'+r+'"':t==="object"&&r!==null&&(r=lb(r)),s.push((o?"":'"'+n+'":')+r);return(o?"[":"{")+s+(o?"]":"}")};this.$=function(e,t){var n,r=[],s;n=B(this[m.ext.iApiIndex]);var o=n.aoData,u=n.aiDisplay,a=n.aiDisplayMaster;t||(t={}),t=i.extend({},{filter:"none",order:"current",page:"all"},t);if(t.page=="current"){t=n._iDisplayStart;for(n=n.fnDisplayEnd();t<n;t++)(s=o[u[t]].nTr)&&r.push(s)}else if(t.order=="current"&&t.filter=="none"){t=0;for(n=a.length;t<n;t++)(s=o[a[t]].nTr)&&r.push(s)}else if(t.order=="current"&&t.filter=="applied"){t=0;for(n=u.length;t<n;t++)(s=o[u[t]].nTr)&&r.push(s)}else if(t.order=="original"&&t.filter=="none"){t=0;for(n=o.length;t<n;t++)(s=o[t].nTr)&&r.push(s)}else if(t.order=="original"&&t.filter=="applied"){t=0;for(n=o.length;t<n;t++)s=o[t].nTr,i.inArray(t,u)!==-1&&s&&r.push(s)}else M(n,1,"Unknown selection options");return o=i(r),r=o.filter(e),e=o.find(e),i([].concat(i.makeArray(r),i.makeArray(e)))},this._=function(e,t){var n=[],r=this.$(e,t);e=0;for(t=r.length;e<t;e++)n.push(this.fnGetData(r[e]));return n},this.fnAddData=function(e,t){if(e.length===0)return[];var n=[],r,i=B(this[m.ext.iApiIndex]);if(typeof e[0]=="object"&&e[0]!==null)for(var s=0;s<e.length;s++){r=O(i,e[s]);if(r==-1)return n;n.push(r)}else{r=O(i,e);if(r==-1)return n;n.push(r)}return i.aiDisplay=i.aiDisplayMaster.slice(),(t===q||t)&&pa(i),n},this.fnAdjustColumnSizing=function(e){var t=B(this[m.ext.iApiIndex]);o(t),e===q||e?this.fnDraw(!1):(t.oScroll.sX!==""||t.oScroll.sY!=="")&&this.oApi._fnScrollDraw(t)},this.fnClearTable=function(e){var t=B(this[m.ext.iApiIndex]);ua(t),(e===q||e)&&H(t)},this.fnClose=function(e){for(var t=B(this[m.ext.iApiIndex]),n=0;n<t.aoOpenRows.length;n++)if(t.aoOpenRows[n].nParent==e)return(e=t.aoOpenRows[n].nTr.parentNode)&&e.removeChild(t.aoOpenRows[n].nTr),t.aoOpenRows.splice(n,1),0;return 1},this.fnDeleteRow=function(e,t,n){var r=B(this[m.ext.iApiIndex]),s,o;e=typeof e=="object"?S(r,e):e;var u=r.aoData.splice(e,1);s=0;for(o=r.aoData.length;s<o;s++)r.aoData[s].nTr!==null&&(r.aoData[s].nTr._DT_RowIndex=s);s=i.inArray(e,r.aiDisplay),r.asDataSearch.splice(s,1),va(r.aiDisplayMaster,e),va(r.aiDisplay,e),typeof t=="function"&&t.call(this,r,u),r._iDisplayStart>=r.fnRecordsDisplay()&&(r._iDisplayStart-=r._iDisplayLength,r._iDisplayStart<0&&(r._iDisplayStart=0));if(n===q||n)J(r),H(r);return u},this.fnDestroy=function(e){var t=B(this[m.ext.iApiIndex]),n=t.nTableWrapper.parentNode,r=t.nTBody,o,u;e=e===q?!1:!0,t.bDestroying=!0,L(t,"aoDestroyCallback","destroy",[t]),o=0;for(u=t.aoColumns.length;o<u;o++)t.aoColumns[o].bVisible===!1&&this.fnSetColumnVis(o,!0
);i(t.nTableWrapper).find("*").andSelf().unbind(".DT"),i("tbody>tr>td."+t.oClasses.sRowEmpty,t.nTable).parent().remove(),t.nTable!=t.nTHead.parentNode&&(i(t.nTable).children("thead").remove(),t.nTable.appendChild(t.nTHead)),t.nTFoot&&t.nTable!=t.nTFoot.parentNode&&(i(t.nTable).children("tfoot").remove(),t.nTable.appendChild(t.nTFoot)),t.nTable.parentNode.removeChild(t.nTable),i(t.nTableWrapper).remove(),t.aaSorting=[],t.aaSortingFixed=[],aa(t),i(ea(t)).removeClass(t.asStripeClasses.join(" ")),i("th, td",t.nTHead).removeClass([t.oClasses.sSortable,t.oClasses.sSortableAsc,t.oClasses.sSortableDesc,t.oClasses.sSortableNone].join(" ")),t.bJUI&&(i("th span."+t.oClasses.sSortIcon+", td span."+t.oClasses.sSortIcon,t.nTHead).remove(),i("th, td",t.nTHead).each(function(){var e=i("div."+t.oClasses.sSortJUIWrapper,this),n=e.contents();i(this).append(n),e.remove()})),!e&&t.nTableReinsertBefore?n.insertBefore(t.nTable,t.nTableReinsertBefore):e||n.appendChild(t.nTable),o=0;for(u=t.aoData.length;o<u;o++)t.aoData[o].nTr!==null&&r.appendChild(t.aoData[o].nTr);t.oFeatures.bAutoWidth===!0&&(t.nTable.style.width=s(t.sDestroyWidth)),i(r).children("tr:even").addClass(t.asDestroyStripes[0]),i(r).children("tr:odd").addClass(t.asDestroyStripes[1]),o=0;for(u=m.settings.length;o<u;o++)m.settings[o]==t&&m.settings.splice(o,1);t=null},this.fnDraw=function(e){var t=B(this[m.ext.iApiIndex]);e===!1?(J(t),H(t)):pa(t)},this.fnFilter=function(e,t,n,r,s,o){var u=B(this[m.ext.iApiIndex]);if(u.oFeatures.bFilter){if(n===q||n===null)n=!1;if(r===q||r===null)r=!0;if(s===q||s===null)s=!0;if(o===q||o===null)o=!0;if(t===q||t===null){U(u,{sSearch:e+"",bRegex:n,bSmart:r,bCaseInsensitive:o},1);if(s&&u.aanFeatures.f){t=u.aanFeatures.f,n=0;for(r=t.length;n<r;n++)i(t[n]._DT_Input).val(e)}}else i.extend(u.aoPreSearchCols[t],{sSearch:e+"",bRegex:n,bSmart:r,bCaseInsensitive:o}),U(u,u.oPreviousSearch,1)}},this.fnGetData=function(e,t){var n=B(this[m.ext.iApiIndex]);if(e!==q){var r=e;if(typeof e=="object"){var i=e.nodeName.toLowerCase();i==="tr"?r=S(n,e):i==="td"&&(r=S(n,e.parentNode),t=ta(n,r,e))}return t!==q?E(n,r,t,""):n.aoData[r]!==q?n.aoData[r]._aData:null}return na(n)},this.fnGetNodes=function(e){var t=B(this[m.ext.iApiIndex]);return e!==q?t.aoData[e]!==q?t.aoData[e].nTr:null:ea(t)},this.fnGetPosition=function(e){var t=B(this[m.ext.iApiIndex]),n=e.nodeName.toUpperCase();return n=="TR"?S(t,e):n=="TD"||n=="TH"?(n=S(t,e.parentNode),e=ta(t,n,e),[n,x(t,e),e]):null},this.fnIsOpen=function(e){for(var t=B(this[m.ext.iApiIndex]),n=0;n<t.aoOpenRows.length;n++)if(t.aoOpenRows[n].nParent==e)return!0;return!1},this.fnOpen=function(e,n,r){var s=B(this[m.ext.iApiIndex]),o=ea(s);if(i.inArray(e,o)!==-1){this.fnClose(e),o=t.createElement("tr");var u=t.createElement("td");return o.appendChild(u),u.className=r,u.colSpan=D(s),typeof n=="string"?u.innerHTML=n:i(u).html(n),n=i("tr",s.nTBody),i.inArray(e,n)!=-1&&i(o).insertAfter(e),s.aoOpenRows.push({nTr:o,nParent:e}),o}},this.fnPageChange=function(e,t){var n=B(this[m.ext.iApiIndex]);Ea(n,e),J(n),(t===q||t)&&H(n)},this.fnSetColumnVis=function(e,t,n){var r=B(this[m.ext.iApiIndex]),i,s,u=r.aoColumns,a=r.aoData,f,l;if(u[e].bVisible!=t){if(t){for(i=s=0;i<e;i++)u[i].bVisible&&s++;l=s>=D(r);if(!l)for(i=e;i<u.length;i++)if(u[i].bVisible){f=i;break}i=0;for(s=a.length;i<s;i++)a[i].nTr!==null&&(l?a[i].nTr.appendChild(a[i]._anHidden[e]):a[i].nTr.insertBefore(a[i]._anHidden[e],T(r,i)[f]))}else{i=0;for(s=a.length;i<s;i++)a[i].nTr!==null&&(f=T(r,i)[e],a[i]._anHidden[e]=f,f.parentNode.removeChild(f))}u[e].bVisible=t,ha(r,r.aoHeader),r.nTFoot&&ha(r,r.aoFooter),i=0;for(s=r.aoOpenRows.length;i<s;i++)r.aoOpenRows[i].nTr.colSpan=D(r);if(n===q||n)o(r),H(r);Fa(r)}},this.fnSettings=function(){return B(this[m.ext.iApiIndex])},this.fnSort=function(e){var t=B(this[m.ext.iApiIndex]);t.aaSorting=e,X(t)},this.fnSortListener=function(e,t,n){wa(B(this[m.ext.iApiIndex]),e,t,n)},this.fnUpdate=function(e,t,n,r,s){var u=B(this[m.ext.iApiIndex]);t=typeof t=="object"?S(u,t):t;if(i.isArray(e)&&n===q){u.aoData[t]._aData=e.slice();for(n=0;n<u.aoColumns.length;n++)this.fnUpdate(E(u,t,n),t,n,!1,!1)}else if(i.isPlainObject(e)&&n===q){u.aoData[t]._aData=i.extend(!0,{},e);for(n=0;n<u.aoColumns.length;n++)this.fnUpdate(E(u,t,n),t,n,!1,!1)}else{R(u,t,n,e),e=E(u,t,n,"display");var a=u.aoColumns[n];a.fnRender!==null&&(e=ca(u,t,n),a.bUseRendered&&R(u,t,n,e)),u.aoData[t].nTr!==null&&(T(u,t)[n].innerHTML=e)}return n=i.inArray(t,u.aiDisplay),u.asDataSearch[n]=Ba(u,ma(u,t,"filter",z(u,"bSearchable"))),(s===q||s)&&o(u),(r===q||r)&&pa(u),0},this.fnVersionCheck=m.ext.fnVersionCheck,this.oApi={_fnExternApiFunc:kb,_fnInitialise:qa,_fnInitComplete:oa,_fnLanguageCompat:Da,_fnAddColumn:n,_fnColumnOptions:p,_fnAddData:O,_fnCreateTr:sa,_fnGatherData:da,_fnBuildHead:Ja,_fnDrawHead:ha,_fnDraw:H,_fnReDraw:pa,_fnAjaxUpdate:Ka,_fnAjaxParameters:Sa,_fnAjaxUpdateDraw:Ta,_fnServerParams:ya,_fnAddOptionsHtml:La,_fnFeatureHtmlTable:Pa,_fnScrollDraw:Za,_fnAdjustColumnSizing:o,_fnFeatureHtmlFilter:Na,_fnFilterComplete:U,_fnFilterCustom:Wa,_fnFilterColumn:Va,_fnFilter:Ua,_fnBuildSearchArray:za,_fnBuildSearchRow:Ba,_fnFilterCreateSearch:Aa,_fnDataToSearch:Xa,_fnSort:X,_fnSortAttachListener:wa,_fnSortingClasses:aa,_fnFeatureHtmlPaginate:Ra,_fnPageChange:Ea,_fnFeatureHtmlInfo:Qa,_fnUpdateInfo:Ya,_fnFeatureHtmlLength:Ma,_fnFeatureHtmlProcessing:Oa,_fnProcessingDisplay:N,_fnVisibleToColumnIndex:v,_fnColumnIndexToVisible:x,_fnNodeToDataIndex:S,_fnVisbleColumns:D,_fnCalculateEnd:J,_fnConvertToWidth:$a,_fnCalculateColumnWidths:ra,_fnScrollingWidthAdjust:bb,_fnGetWidestNode:ab,_fnGetMaxLenString:cb,_fnStringToCss:s,_fnDetectType:F,_fnSettingsFromNode:B,_fnGetDataMaster:na,_fnGetTrNodes:ea,_fnGetTdNodes:T,_fnEscapeRegex:Ca,_fnDeleteIndex:va,_fnReOrderIndex:G,_fnColumnOrdering:Q,_fnLog:M,_fnClearTable:ua,_fnSaveState:Fa,_fnLoadState:gb,_fnCreateCookie:mb,_fnReadCookie:hb,_fnDetectHeader:ga,_fnGetUniqueThs:W,_fnScrollBarWidth:db,_fnApplyToChildren:V,_fnMap:r,_fnGetRowData:ma,_fnGetCellData:E,_fnSetCellData:R,_fnGetObjectDataFn:ba,_fnSetObjectDataFn:Ia,_fnApplyColumnDefs:la,_fnBindAction:fb,_fnExtend:ib,_fnCallbackReg:K,_fnCallbackFire:L,_fnJsonString:lb,_fnRender:ca,_fnNodeToColumnIndex:ta,_fnInfoMacros:xa,_fnBrowserDetect:jb,_fnGetColumns:z},i.extend(m.ext.oApi,this.oApi);for(var Ga in m.ext.oApi)Ga&&(this[Ga]=kb(Ga));var Ha=this;return this.each(function(){var e=0,s,o,u;o=this.getAttribute("id");var a=!1,f=!1;if(this.nodeName.toLowerCase()!="table")M(null,0,"Attempted to initialise DataTables on a node which is not a table: "+this.nodeName);else{e=0;for(s=m.settings.length;e<s;e++){if(m.settings[e].nTable==this){if(h===q||h.bRetrieve)return m.settings[e].oInstance;if(h.bDestroy){m.settings[e].oInstance.fnDestroy();break}M(m.settings[e],0,"Cannot reinitialise DataTable.\n\nTo retrieve the DataTables object for this table, pass no arguments or see the docs for bRetrieve and bDestroy");return}if(m.settings[e].sTableId==this.id){m.settings.splice(e,1);break}}if(o===null||o==="")this.id=o="DataTables_Table_"+m.ext._oExternConfig.iNextUnique++;var l=i.extend(!0,{},m.models.oSettings,{nTable:this,oApi:Ha.oApi,oInit:h,sDestroyWidth:i(this).width(),sInstance:o,sTableId:o});m.settings.push(l),l.oInstance=Ha.length===1?Ha:i(this).dataTable(),h||(h={}),h.oLanguage&&Da(h.oLanguage),h=ib(i.extend(!0,{},m.defaults),h),r(l.oFeatures,h,"bPaginate"),r(l.oFeatures,h,"bLengthChange"),r(l.oFeatures,h,"bFilter"),r(l.oFeatures,h,"bSort"),r(l.oFeatures,h,"bInfo"),r(l.oFeatures,h,"bProcessing"),r(l.oFeatures,h,"bAutoWidth"),r(l.oFeatures,h,"bSortClasses"),r(l.oFeatures,h,"bServerSide"),r(l.oFeatures,h,"bDeferRender"),r(l.oScroll,h,"sScrollX","sX"),r(l.oScroll,h,"sScrollXInner","sXInner"),r(l.oScroll,h,"sScrollY","sY"),r(l.oScroll,h,"bScrollCollapse","bCollapse"),r(l.oScroll,h,"bScrollInfinite","bInfinite"),r(l.oScroll,h,"iScrollLoadGap","iLoadGap"),r(l.oScroll,h,"bScrollAutoCss","bAutoCss"),r(l,h,"asStripeClasses"),r(l,h,"asStripClasses","asStripeClasses"),r(l,h,"fnServerData"),r(l,h,"fnFormatNumber"),r(l,h,"sServerMethod"),r(l,h,"aaSorting"),r(l,h,"aaSortingFixed"),r(l,h,"aLengthMenu"),r(l,h,"sPaginationType"),r(l,h,"sAjaxSource"),r(l,h,"sAjaxDataProp"),r(l,h,"iCookieDuration"),r(l,h,"sCookiePrefix"),r(l,h,"sDom"),r(l,h,"bSortCellsTop"),r(l,h,"iTabIndex"),r(l,h,"oSearch","oPreviousSearch"),r(l,h,"aoSearchCols","aoPreSearchCols"),r(l,h,"iDisplayLength","_iDisplayLength"),r(l,h,"bJQueryUI","bJUI"),r(l,h,"fnCookieCallback"),r(l,h,"fnStateLoad"),r(l,h,"fnStateSave"),r(l.oLanguage,h,"fnInfoCallback"),K(l,"aoDrawCallback",h.fnDrawCallback,"user"),K(l,"aoServerParams",h.fnServerParams,"user"),K(l,"aoStateSaveParams",h.fnStateSaveParams,"user"),K(l,"aoStateLoadParams",h.fnStateLoadParams,"user"),K(l,"aoStateLoaded",h.fnStateLoaded,"user"),K(l,"aoRowCallback",h.fnRowCallback,"user"),K(l,"aoRowCreatedCallback",h.fnCreatedRow,"user"),K(l,"aoHeaderCallback",h.fnHeaderCallback,"user"),K(l,"aoFooterCallback",h.fnFooterCallback,"user"),K(l,"aoInitComplete",h.fnInitComplete,"user"),K(l,"aoPreDrawCallback",h.fnPreDrawCallback,"user"),l.oFeatures.bServerSide&&l.oFeatures.bSort&&l.oFeatures.bSortClasses?K(l,"aoDrawCallback",aa,"server_side_sort_classes"):l.oFeatures.bDeferRender&&K(l,"aoDrawCallback",aa,"defer_sort_classes"),h.bJQueryUI?(i.extend(l.oClasses,m.ext.oJUIClasses),h.sDom===m.defaults.sDom&&m.defaults.sDom==="lfrtip"&&(l.sDom='<"H"lfr>t<"F"ip>')):i.extend(l.oClasses,m.ext.oStdClasses),i(this).addClass(l.oClasses.sTable);if(l.oScroll.sX!==""||l.oScroll.sY!=="")l.oScroll.iBarWidth=db();l.iInitDisplayStart===q&&(l.iInitDisplayStart=h.iDisplayStart,l._iDisplayStart=h.iDisplayStart),h.bStateSave&&(l.oFeatures.bStateSave=!0,gb(l,h),K(l,"aoDrawCallback",Fa,"state_save")),h.iDeferLoading!==null&&(l.bDeferLoading=!0,e=i.isArray(h.iDeferLoading),l._iRecordsDisplay=e?h.iDeferLoading[0]:h.iDeferLoading,l._iRecordsTotal=e?h.iDeferLoading[1]:h.iDeferLoading),h.aaData!==null&&(f=!0),h.oLanguage.sUrl!==""?(l.oLanguage.sUrl=h.oLanguage.sUrl,i.getJSON(l.oLanguage.sUrl,null,function(e){Da(e),i.extend(!0,l.oLanguage,h.oLanguage,e),qa(l)}),a=!0):i.extend(!0,l.oLanguage,h.oLanguage),h.asStripeClasses===null&&(l.asStripeClasses=[l.oClasses.sStripeOdd,l.oClasses.sStripeEven]),o=!1,u=i(this).children("tbody").children("tr"),e=0;for(s=l.asStripeClasses.length;e<s;e++)if(u.filter(":lt(2)").hasClass(l.asStripeClasses[e])){o=!0;break}o&&(l.asDestroyStripes=["",""],i(u[0]).hasClass(l.oClasses.sStripeOdd)&&(l.asDestroyStripes[0]+=l.oClasses.sStripeOdd+" "),i(u[0]).hasClass(l.oClasses.sStripeEven)&&(l.asDestroyStripes[0]+=l.oClasses.sStripeEven),i(u[1]).hasClass(l.oClasses.sStripeOdd)&&(l.asDestroyStripes[1]+=l.oClasses.sStripeOdd+" "),i(u[1]).hasClass(l.oClasses.sStripeEven)&&(l.asDestroyStripes[1]+=l.oClasses.sStripeEven),u.removeClass(l.asStripeClasses.join(" "))),o=[],e=this.getElementsByTagName("thead"),e.length!==0&&(ga(l.aoHeader,e[0]),o=W(l));if(h.aoColumns===null){u=[],e=0;for(s=o.length;e<s;e++)u.push(null)}else u=h.aoColumns;e=0;for(s=u.length;e<s;e++)h.saved_aoColumns!==q&&h.saved_aoColumns.length==s&&(u[e]===null&&(u[e]={}),u[e].bVisible=h.saved_aoColumns[e].bVisible),n(l,o?o[e]:null);la(l,h.aoColumnDefs,u,function(e,t){p(l,e,t)}),e=0;for(s=l.aaSorting.length;e<s;e++){l.aaSorting[e][0]>=l.aoColumns.length&&(l.aaSorting[e][0]=0);var c=l.aoColumns[l.aaSorting[e][0]];l.aaSorting[e][2]===q&&(l.aaSorting[e][2]=0),h.aaSorting===q&&l.saved_aaSorting===q&&(l.aaSorting[e][1]=c.asSorting[0]),o=0;for(u=c.asSorting.length;o<u;o++)if(l.aaSorting[e][1]==c.asSorting[o]){l.aaSorting[e][2]=o;break}}aa(l),jb(l),e=i(this).children("caption").each(function(){this._captionSide=i(this).css("caption-side")}),s=i(this).children("thead"),s.length===0&&(s=[t.createElement("thead")],this.appendChild(s[0])),l.nTHead=s[0],s=i(this).children("tbody"),s.length===0&&(s=[t.createElement("tbody")],this.appendChild(s[0])),l.nTBody=s[0],l.nTBody.setAttribute("role","alert"),l.nTBody.setAttribute("aria-live","polite"),l.nTBody.setAttribute("aria-relevant","all"),s=i(this).children("tfoot"),s.length===0&&e.length>0&&(l.oScroll.sX!==""||l.oScroll.sY!=="")&&(s=[t.createElement("tfoot")],this.appendChild(s[0])),s.length>0&&(l.nTFoot=s[0],ga(l.aoFooter,l.nTFoot));if(f)for(e=0;e<h.aaData.length;e++)O(l,h.aaData[e]);else da(l);l.aiDisplay=l.aiDisplayMaster.slice(),l.bInitialised=!0,a===!1&&qa(l)}})};m.fnVersionCheck=function(e){var t=function(e,t){for(;e.length<t;)e+="0";return e},n=m.ext.sVersion.split(".");e=e.split(".");for(var r="",i="",s=0,o=e.length;s<o;s++)r+=t(n[s],3),i+=t(e[s],3);return parseInt(r,10)>=parseInt(i,10)},m.fnIsDataTable=function(e){for(var t=m.settings,n=0;n<t.length;n++)if(t[n].nTable===e||t[n].nScrollHead===e||t[n].nScrollFoot===e)return!0;return!1},m.fnTables=function(e){var t=[];return jQuery.each(m.settings,function(r,s){(!e||e===!0&&i(s.nTable).is(":visible"))&&t.push(s.nTable)}),t},m.version="1.9.3",m.settings=[],m.models={},m.models.ext={afnFiltering:[],afnSortData:[],aoFeatures:[],aTypes:[],fnVersionCheck:m.fnVersionCheck,iApiIndex:0,ofnSearch:{},oApi:{},oStdClasses:{},oJUIClasses:{},oPagination:{},oSort:{},sVersion:m.version,sErrMode:"alert",_oExternConfig:{iNextUnique:0}},m.models.oSearch={bCaseInsensitive:!0,sSearch:"",bRegex:!1,bSmart:!0},m.models.oRow={nTr:null,_aData:[],_aSortData:[],_anHidden:[],_sRowStripe:""},m.models.oColumn={aDataSort:null,asSorting:null,bSearchable:null,bSortable:null,bUseRendered:null,bVisible:null,_bAutoType:!0,fnCreatedCell:null,fnGetData:null,fnRender:null,fnSetData:null,mData:null,mRender:null,nTh:null,nTf:null,sClass:null,sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:"std",sSortingClass:null,sSortingClassJUI:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null},m.defaults={aaData:null,aaSorting:[[0,"asc"]],aaSortingFixed:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],asStripeClasses:null,bAutoWidth:!0,bDeferRender:!1,bDestroy:!1,bFilter:!0,bInfo:!0,bJQueryUI:!1,bLengthChange:!0,bPaginate:!0,bProcessing:!1,bRetrieve:!1,bScrollAutoCss:!0,bScrollCollapse:!1,bScrollInfinite:!1,bServerSide:!1,bSort:!0,bSortCellsTop:!1,bSortClasses:!0,bStateSave:!1,fnCookieCallback:null,fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,fnFormatNumber:function(e){if(e<1e3)return e;var t=e+"";e=t.split("");var n="";t=t.length;for(var r=0;r<t;r++)r%3===0&&r!==0&&(n=this.oLanguage.sInfoThousands+n),n=e[t-r-1]+n;return n},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,fnRowCallback:null,fnServerData:function(e,t,n,r){r.jqXHR=i.ajax({url:e,data:t,success:function(e){e.sError&&r.oApi._fnLog(r,0,e.sError),i(r.oInstance).trigger("xhr",[r,e]),n(e)},dataType:"json",cache:!1,type:r.sServerMethod,error:function(e,t){t=="parsererror"&&r.oApi._fnLog(r,0,"DataTables warning: JSON data from server could not be parsed. This is caused by a JSON formatting error.")}})},fnServerParams:null,fnStateLoad:function(h){h=this.oApi._fnReadCookie(h.sCookiePrefix+h.sInstance);var n;try{n=typeof i.parseJSON=="function"?i.parseJSON(h):eval("("+h+")")}catch(p){n=null}return n},fnStateLoadParams:null,fnStateLoaded:null,fnStateSave:function(e,t){this.oApi._fnCreateCookie(e.sCookiePrefix+e.sInstance,this.oApi._fnJsonString(t),e.iCookieDuration,e.sCookiePrefix,e.fnCookieCallback)},fnStateSaveParams:null,iCookieDuration:7200,iDeferLoading:null,iDisplayLength:10,iDisplayStart:0,iScrollLoadGap:100,iTabIndex:0,oLanguage:{oAria:{sSortAscending:": activate to sort column ascending",sSortDescending:": activate to sort column descending"},oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"},sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sInfoThousands:",",sLengthMenu:"Show _MENU_ entries",sLoadingRecords:"Loading...",sProcessing:"Processing...",sSearch:"Search:",sUrl:"",sZeroRecords:"No matching records found"},oSearch:i.extend({},m.models.oSearch),sAjaxDataProp:"aaData",sAjaxSource:null,sCookiePrefix:"SpryMedia_DataTables_",sDom:"lfrtip",sPaginationType:"two_button",sScrollX:"",sScrollXInner:"",sScrollY:"",sServerMethod:"GET"},m.defaults.columns={aDataSort:null,asSorting:["asc","desc"],bSearchable:!0,bSortable:!0,bUseRendered:!0,bVisible:!0,fnCreatedCell:null,fnRender:null,iDataSort:-1,mData:null,mRender:null,sCellType:"td",sClass:"",sContentPadding:"",sDefaultContent:null,sName:"",sSortDataType:"std",sTitle:null,sType:null,sWidth:null},m.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,bInfo:null,bLengthChange:null,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,bSortClasses:null,bStateSave:null},oScroll:{bAutoCss:null,bCollapse:null,bInfinite:null,iBarWidth:0,iLoadGap:null,sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},oBrowser:{bScrollOversize:!1},aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],aoColumns:[],aoHeader:[],aoFooter:[],asDataSearch:[],oPreviousSearch:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:null,asStripeClasses:null,asDestroyStripes:[],sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:"",nTable:null,nTHead:null,nTFoot:null,nTBody:null,nTableWrapper:null,bDeferLoading:!1,bInitialised:!1,aoOpenRows:[],sDom:null,sPaginationType:"two_button",iCookieDuration:0,sCookiePrefix:"",fnCookieCallback:null,aoStateSave:[],aoStateLoad:[],oLoadedState:null,sAjaxSource:null,sAjaxDataProp:null,bAjaxDataGet:!0,jqXHR:null,fnServerData:null,aoServerParams:[],sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:!1,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iDisplayEnd:10,_iRecordsTotal:0,_iRecordsDisplay:0,bJUI:null,oClasses:{},bFiltered:!1,bSorted:!1,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],fnRecordsTotal:function(){return this.oFeatures.bServerSide?parseInt(this._iRecordsTotal,10):this.aiDisplayMaster.length},fnRecordsDisplay:function(){return this.oFeatures.bServerSide?parseInt(this._iRecordsDisplay,10):this.aiDisplay.length},fnDisplayEnd:function(){return this.oFeatures.bServerSide?this.oFeatures.bPaginate===!1||this._iDisplayLength==-1?this._iDisplayStart+this.aiDisplay.length:Math.min(this._iDisplayStart+this._iDisplayLength,this._iRecordsDisplay):this._iDisplayEnd},oInstance:null,sInstance:null,iTabIndex:0,nScrollHead:null,nScrollFoot:null},m.ext=i.extend(!0,{},m.models.ext),i.extend(m.ext.oStdClasses,{sTable:"dataTable",sPagePrevEnabled:"paginate_enabled_previous",sPagePrevDisabled:"paginate_disabled_previous",sPageNextEnabled:"paginate_enabled_next",sPageNextDisabled:"paginate_disabled_next",sPageJUINext:"",sPageJUIPrev:"",sPageButton:"paginate_button",sPageButtonActive:"paginate_active",sPageButtonStaticDisabled:"paginate_button paginate_button_disabled",sPageFirst:"first",sPagePrevious:"previous",sPageNext:"next",sPageLast:"last",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_asc_disabled",sSortableDesc:"sorting_desc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sFooterTH:"",sJUIHeader:"",sJUIFooter:""}),i.extend(m.ext.oJUIClasses,m.ext.oStdClasses,{sPagePrevEnabled:"fg-button ui-button ui-state-default ui-corner-left",sPagePrevDisabled:"fg-button ui-button ui-state-default ui-corner-left ui-state-disabled",sPageNextEnabled:"fg-button ui-button ui-state-default ui-corner-right",sPageNextDisabled:"fg-button ui-button ui-state-default ui-corner-right ui-state-disabled",sPageJUINext:"ui-icon ui-icon-circle-arrow-e",sPageJUIPrev:"ui-icon ui-icon-circle-arrow-w",sPageButton:"fg-button ui-button ui-state-default",sPageButtonActive:"fg-button ui-button ui-state-default ui-state-disabled",sPageButtonStaticDisabled:"fg-button ui-button ui-state-default ui-state-disabled",sPageFirst:"first ui-corner-tl ui-corner-bl",sPageLast:"last ui-corner-tr ui-corner-br",sPaging:"dataTables_paginate fg-buttonset ui-buttonset fg-buttonset-multi ui-buttonset-multi paging_",sSortAsc:"ui-state-default",sSortDesc:"ui-state-default",sSortable:"ui-state-default",sSortableAsc:"ui-state-default",sSortableDesc:"ui-state-default",sSortableNone:"ui-state-default",sSortJUIAsc:"css_right ui-icon ui-icon-triangle-1-n",sSortJUIDesc:"css_right ui-icon ui-icon-triangle-1-s",sSortJUI:"css_right ui-icon ui-icon-carat-2-n-s",sSortJUIAscAllowed:"css_right ui-icon ui-icon-carat-1-n",sSortJUIDescAllowed:"css_right ui-icon ui-icon-carat-1-s",sSortJUIWrapper:"DataTables_sort_wrapper",sSortIcon:"DataTables_sort_icon",sScrollHead:"dataTables_scrollHead ui-state-default",sScrollFoot:"dataTables_scrollFoot ui-state-default",sFooterTH:"ui-state-default",sJUIHeader:"fg-toolbar ui-toolbar ui-widget-header ui-corner-tl ui-corner-tr ui-helper-clearfix",sJUIFooter:"fg-toolbar ui-toolbar ui-widget-header ui-corner-bl ui-corner-br ui-helper-clearfix"}),i.extend(m.ext.oPagination,{two_button:{fnInit:function(e,t,n){var r=e.oLanguage.oPaginate,s=function(t){e.oApi._fnPageChange(e,t.data.action)&&n(e)};r=e.bJUI?'<a class="'+e.oClasses.sPagePrevDisabled+'" tabindex="'+e.iTabIndex+'" role="button"><span class="'+e.oClasses.sPageJUIPrev+'"></span></a><a class="'+e.oClasses.sPageNextDisabled+'" tabindex="'+e.iTabIndex+'" role="button"><span class="'+e.oClasses.sPageJUINext+'"></span></a>':'<a class="'+e.oClasses.sPagePrevDisabled+'" tabindex="'+e.iTabIndex+'" role="button">'+r.sPrevious+'</a><a class="'+e.oClasses.sPageNextDisabled+'" tabindex="'+e.iTabIndex+'" role="button">'+r.sNext+"</a>",i(t).append(r);var o=i("a",t);r=o[0],o=o[1],e.oApi._fnBindAction(r,{action:"previous"},s),e.oApi._fnBindAction(o,{action:"next"},s),e.aanFeatures.p||(t.id=e.sTableId+"_paginate",r.id=e.sTableId+"_previous",o.id=e.sTableId+"_next",r.setAttribute("aria-controls",e.sTableId),o.setAttribute("aria-controls",e.sTableId))},fnUpdate:function(e){if(e.aanFeatures.p)for(var t=e.oClasses,n=e.aanFeatures.p,r=0,i=n.length;r<i;r++)n[r].childNodes.length!==0&&(n[r].childNodes[0].className=e._iDisplayStart===0?t.sPagePrevDisabled:t.sPagePrevEnabled,n[r].childNodes[1].className=e.fnDisplayEnd()==e.fnRecordsDisplay()?t.sPageNextDisabled:t.sPageNextEnabled)}},iFullNumbersShowPages:5,full_numbers:{fnInit:function(e,t,n){var r=e.oLanguage.oPaginate,s=e.oClasses,o=function(t){e.oApi._fnPageChange(e,t.data.action)&&n(e)};i(t).append('<a  tabindex="'+e.iTabIndex+'" class="'+s.sPageButton+" "+s.sPageFirst+'">'+r.sFirst+'</a><a  tabindex="'+e.iTabIndex+'" class="'+s.sPageButton+" "+s.sPagePrevious+'">'+r.sPrevious+'</a><span></span><a tabindex="'+e.iTabIndex+'" class="'+s.sPageButton+" "+s.sPageNext+'">'+r.sNext+'</a><a tabindex="'+e.iTabIndex+'" class="'+s.sPageButton+" "+s.sPageLast+'">'+r.sLast+"</a>");var u=i("a",t);r=u[0],s=u[1];var a=u[2];u=u[3],e.oApi._fnBindAction(r,{action:"first"},o),e.oApi._fnBindAction(s,{action:"previous"},o),e.oApi._fnBindAction(a,{action:"next"},o),e.oApi._fnBindAction(u,{action:"last"},o),e.aanFeatures.p||(t.id=e.sTableId+"_paginate",r.id=e.sTableId+"_first",s.id=e.sTableId+"_previous",a.id=e.sTableId+"_next",u.id=e.sTableId+"_last")},fnUpdate:function(e,t){if(e.aanFeatures.p){var n=m.ext.oPagination.iFullNumbersShowPages,r=Math.floor(n/2),s=Math.ceil(e.fnRecordsDisplay()/e._iDisplayLength),o=Math.ceil(e._iDisplayStart/e._iDisplayLength)+1,u="",a,f=e.oClasses,l,c=e.aanFeatures.p,h=function(n){e.oApi._fnBindAction(this,{page:n+a-1},function(n){e.oApi._fnPageChange(e,n.data.page),t(e),n.preventDefault()})};e._iDisplayLength===-1?o=r=a=1:s<n?(a=1,r=s):o<=r?(a=1,r=n):o>=s-r?(a=s-n+1,r=s):(a=o-Math.ceil(n/2)+1,r=a+n-1);for(n=a;n<=r;n++)u+=o!==n?'<a tabindex="'+e.iTabIndex+'" class="'+f.sPageButton+'">'+e.fnFormatNumber(n)+"</a>":'<a tabindex="'+e.iTabIndex+'" class="'+f.sPageButtonActive+'">'+e.fnFormatNumber(n)+"</a>";n=0;for(r=c.length;n<r;n++)c[n].childNodes.length!==0&&(i("span:eq(0)",c[n]).html(u).children("a").each(h),l=c[n].getElementsByTagName("a"),l=[l[0],l[1],l[l.length-2],l[l.length-1]],i(l).removeClass(f.sPageButton+" "+f.sPageButtonActive+" "+f.sPageButtonStaticDisabled),i([l[0],l[1]]).addClass(o==1?f.sPageButtonStaticDisabled:f.sPageButton),i([l[2],l[3]]).addClass(s===0||o===s||e._iDisplayLength===-1?f.sPageButtonStaticDisabled:f.sPageButton))}}}}),i.extend(m.ext.oSort,{"string-pre":function(e){return typeof e!="string"&&(e=e!==null&&e.toString?e.toString():""),e.toLowerCase()},"string-asc":function(e,t){return e<t?-1:e>t?1:0},"string-desc":function(e,t){return e<t?1:e>t?-1:0},"html-pre":function(e){return e.replace(/<.*?>/g,"").toLowerCase()},"html-asc":function(e,t){return e<t?-1:e>t?1:0},"html-desc":function(e,t){return e<t?1:e>t?-1:0},"date-pre":function(e){e=Date.parse(e);if(isNaN(e)||e==="")e=Date.parse("01/01/1970 00:00:00");return e},"date-asc":function(e,t){return e-t},"date-desc":function(e,t){return t-e},"numeric-pre":function(e){return e=="-"||e===""?0:e*1},"numeric-asc":function(e,t){return e-t},"numeric-desc":function(e,t){return t-e}}),i.extend(m.ext.aTypes,[function(e){if(typeof e=="number")return"numeric";if(typeof e!="string")return null;var t,n=!1;t=e.charAt(0);if("0123456789-".indexOf(t)==-1)return null;for(var r=1;r<e.length;r++){t=e.charAt(r);if("0123456789.".indexOf(t)==-1)return null;if(t=="."){if(n)return null;n=!0}}return"numeric"},function(e){var t=Date.parse(e);return t!==null&&!isNaN(t)||typeof e=="string"&&e.length===0?"date":null},function(e){return typeof e=="string"&&e.indexOf("<")!=-1&&e.indexOf(">")!=-1?"html":null}]),i.fn.DataTable=m,i.fn.dataTable=m,i.fn.dataTableSettings=m.settings,i.fn.dataTableExt=m.ext}(jQuery,window,document,undefined),function(e,t,n){typeof define=="function"&&define.amd?define(function(r,i,s){var o=r("jquery");return n(o,e,t)}):n(e.jQuery,e,t)}(this,document,function(e,t,n){var r="featuredDataTable";e.fn[r]=function(t){var n={bProcessing:!1,sPaginationType:"bootstrap",sDom:"<'row'<'span8'l><'span4'f>r>t<'row'<'span12'i><'span12'p>>",oLanguage:{sLengthMenu:"_MENU_  "}};return t=e.extend(!0,n,t),this.each(function(){e(this).dataTable(t)})},e.extend(e.fn.dataTableExt.oStdClasses,{sSortAsc:"header headerSortDown",sSortDesc:"header headerSortUp",sSortable:"header"}),e.fn.dataTableExt.oApi.fnPagingInfo=function(e){return{iStart:e._iDisplayStart,iEnd:e.fnDisplayEnd(),iLength:e._iDisplayLength,iTotal:e.fnRecordsTotal(),iFilteredTotal:e.fnRecordsDisplay(),iPage:Math.ceil(e._iDisplayStart/e._iDisplayLength),iTotalPages:Math.ceil(e.fnRecordsDisplay()/e._iDisplayLength)}},e.extend(e.fn.dataTableExt.oPagination,{bootstrap:{fnInit:function(t,n,r){var i=t.oLanguage.oPaginate,s=function(e){e.preventDefault(),t.oApi._fnPageChange(t,e.data.action)&&r(t)};e(n).addClass("pagination2").append('<ul><li><a href="#"><span></span></a></li><li><a href="#"><span></span></a></li></ul>');var o=e("a",n);e(o[0]).bind("click.DT",{action:"previous"},s),e(o[1]).bind("click.DT",{action:"next"},s)},fnUpdate:function(t,n){var r=5,i=t.oInstance.fnPagingInfo(),s=t.aanFeatures.p,o,u,a,f,l,c=Math.floor(r/2);i.iTotalPages<r?(f=1,l=i.iTotalPages):i.iPage<=c?(f=1,l=r):i.iPage>=i.iTotalPages-c?(f=i.iTotalPages-r+1,l=i.iTotalPages):(f=i.iPage-c+1,l=f+r-1);for(o=0,iLen=s.length;o<iLen;o++){e("li:gt(0)",s[o]).filter(":not(:last)").remove();for(u=f;u<=l;u++)a=u==i.iPage+1?'class="active"':"",e("<li "+a+'><a href="#" >'+u+"</a></li>").insertBefore(e("li:last",s[o])[0]).bind("click",function(r){r.preventDefault(),t._iDisplayStart=(parseInt(e("a",this).text(),10)-1)*i.iLength,n(t)});i.iPage===0?e("li:first",s[o]).addClass("disabled"):e("li:first",s[o]).removeClass("disabled"),i.iPage===i.iTotalPages-1||i.iTotalPages===0?e("li:last",s[o]).addClass("disabled"):e("li:last",s[o]).removeClass("disabled")}}}}),e("[data-featured=datatable]").each(function(t){e(this)[r]({sAjaxSource:e(this).data("datatableBind")})})}),!function(e,t,n){"use strict";function l(e,t){t=t||{},this.$el=k(),this.$shadow=k(),e.append(this.$el),this.lazy=!!t.lazy,this.lazyFn=t.lazy||null,c(this),this.top=this.$el.offset().top,this.width=0,this.height=0,this.pages=[],this.startIndex=0,E.attach(this)}function c(e){e._$buffer=k().prependTo(e.$el)}function h(e){var t,n=e.pages,r=e._$buffer;n.length>0?(t=n[e.startIndex],r.height(t.top)):r.height(0)}function p(e,t){t.$el.remove(),e.$el.append(t.$el),C(t,e.height),t.$el.remove()}function d(e){var n,r,i,s=e.pages,o=!1,u=!0;n=e.startIndex,r=t.min(n+f,s.length);for(n;n<r;n++)i=s[n],e.lazy&&i.lazyload(e.lazyFn),o&&i.onscreen&&(u=!1),u?i.onscreen||(o=!0,i.appendTo(e.$el)):(i.stash(e.$shadow),i.appendTo(e.$el))}function v(e){var n,i,s,o,u,a=e.startIndex,l=r.scrollTop()-e.top,c=r.height(),p=l+c,v=b(e,l,p);if(v<0||v===a)return a;s=e.pages,a=e.startIndex,o=t.min(a+f,s.length),u=t.min(v+f,s.length);for(n=a,i=o;n<i;n++)(n<v||n>=u)&&s[n].stash(e.$shadow);return e.startIndex=v,d(e),h(e),v}function m(e,t){var r;return t instanceof N?t:(typeof t=="string"&&(t=n(t)),r=new N(t),p(e,r),r)}function g(e,t){y(e)}function y(e){var t,n,r,i,s,o,u,a,f,l=e.pages,c=[];n=new S(e),c.push(n);for(r=0,i=l.length;r<i;r++){t=l[r],u=t.items;for(s=0,o=u.length;s<o;s++)a=u[s],f=a.clone(),n.hasVacancy()?n.append(f):(n=new S(e),c.push(n),n.append(f));t.remove()}e.pages=c,d(e)}function b(e,n,r){var i=w(e,n,r);return i=t.max(i-a,0),i=t.min(i,e.pages.length),i}function w(e,n,r){var i,s,o,u,f,l,c,h=e.pages,p=n+(r-n)/2;u=t.min(e.startIndex+a,h.length-1);if(h.length<=0)return-1;o=h[u],f=o.top+o.height/2,c=p-f;if(c<0){for(i=u-1;i>=0;i--){o=h[i],f=o.top+o.height/2,l=p-f;if(l>0)return l<-c?i:i+1;c=l}return 0}if(c>0){for(i=u+1,s=h.length;i<s;i++){o=h[i],f=o.top+o.height/2,l=p-f;if(l<0)return-l<c?i:i-1;c=l}return h.length-1}return u}function S(e){this.parent=e,this.items=[],this.$el=k(),this.id=x.generatePageId(this),this.$el.attr(u,this.id),this.top=0,this.bottom=0,this.width=0,this.height=0,this.lazyloaded=!1,this.onscreen=!1}function T(e,t){var n,r,i,s=t.items;for(n=0,r=s.length;n<r;n++)if(s[n]===e){i=n;break}return i==null?!1:(s.splice(i,1),t.bottom-=e.height,t.height=t.bottom-t.top,t.hasVacancy()&&g(t.parent,t),!0)}function N(e){this.$el=e,this.parent=null,this.top=0,this.bottom=0,this.width=0,this.height=0}function C(e,t){var n=e.$el;e.top=t,e.height=n.outerHeight(!0),e.bottom=e.top+e.height,e.width=n.width()}function k(){return n("<div>").css({margin:0,padding:0,border:"none"})}function L(e){var t;e?(t=e.ListView,n.fn.listView=function(e){return new t(this,e)}):delete n.fn.listView}var r=n(e),i=e.infinity,s=e.infinity={},o=s.config={},u="data-infinity-pageid",a=1,f=a*2+1;o.PAGE_TO_SCREEN_RATIO=3,o.SCROLL_THROTTLE=350,l.prototype.append=function(e){if(!e||!e.length)return null;var t,n=m(this,e),r=this.pages;this.height+=n.height,this.$el.height(this.height),t=r[r.length-1];if(!t||!t.hasVacancy())t=new S(this),r.push(t);return t.append(n),d(this),n},l.prototype.remove=function(){this.$el.remove(),this.cleanup()},l.prototype.find=function(e){var t,r,i;return typeof e=="string"?(r=this.$el.find(e),i=this.$shadow.find(e),this.find(r).concat(this.find(i))):e instanceof N?[e]:(t=[],e.each(function(){var e,r,i,s,o,a,f=n(this).parentsUntil("["+u+"]").andSelf().first(),l=f.parent();e=l.attr(u),r=x.lookup(e);if(r){i=r.items;for(s=0,o=i.length;s<o;s++){a=i[s];if(a.$el.is(f)){t.push(a);break}}}}),t)},l.prototype.cleanup=function(){var e=this.pages,t;E.detach(this);while(t=e.pop())t.cleanup()};var E=function(){function s(){t||(setTimeout(u,o.SCROLL_THROTTLE),t=!0)}function u(){var e,n;for(e=0,n=i.length;e<n;e++)v(i[e]);t=!1}function a(){n&&clearTimeout(n),n=setTimeout(f,200)}function f(){var e,t;for(e=0;t=i[e];e++)y(t)}var e=!1,t=!1,n=null,i=[];return{attach:function(t){e||(r.on("scroll",s),r.on("resize",a),e=!0),i.push(t)},detach:function(t){var n,o;for(n=0,o=i.length;n<o;n++)if(i[n]===t)return i.splice(n,1),i.length===0&&(r.off("scroll",s),r.off("resize",a),e=!1),!0;return!1}}}();S.prototype.append=function(e){var t=this.items;t.length===0&&(this.top=e.top),this.bottom=e.bottom,this.width=this.width>e.width?this.width:e.width,this.height=this.bottom-this.top,t.push(e),e.parent=this,this.$el.append(e.$el),this.lazyloaded=!1
},S.prototype.prepend=function(e){var t=this.items;this.bottom+=e.height,this.width=this.width>e.width?this.width:e.width,this.height=this.bottom-this.top,t.push(e),e.parent=this,this.$el.prepend(e.$el),this.lazyloaded=!1},S.prototype.hasVacancy=function(){return this.height<r.height()*o.PAGE_TO_SCREEN_RATIO},S.prototype.appendTo=function(e){this.onscreen||(this.$el.appendTo(e),this.onscreen=!0)},S.prototype.prependTo=function(e){this.onscreen||(this.$el.prependTo(e),this.onscreen=!0)},S.prototype.stash=function(e){this.onscreen&&(this.$el.appendTo(e),this.onscreen=!1)},S.prototype.remove=function(){this.onscreen&&(this.$el.remove(),this.onscreen=!1),this.cleanup()},S.prototype.cleanup=function(){var e=this.items,t;this.parent=null,x.remove(this);while(t=e.pop())t.cleanup()},S.prototype.lazyload=function(e){var t=this.$el,n,r;if(!this.lazyloaded){for(n=0,r=t.length;n<r;n++)e.call(t[n],t[n]);this.lazyloaded=!0}};var x=function(){var e=[];return{generatePageId:function(t){return e.push(t)-1},lookup:function(t){return e[t]||null},remove:function(t){var n=t.id;return e[n]?(e[n]=null,!0):!1}}}();N.prototype.clone=function(){var e=new N(this.$el);return e.top=this.top,e.bottom=this.bottom,e.width=this.width,e.height=this.height,e},N.prototype.remove=function(){this.$el.remove(),T(this,this.parent),this.cleanup()},N.prototype.cleanup=function(){this.parent=null},s.ListView=l,s.Page=S,s.ListItem=N,L(s),s.noConflict=function(){return e.infinity=i,L(i),s}}(window,Math,jQuery),function(e,t,n){typeof define=="function"&&define.amd?define(function(r,i,s){var o=r("jquery");return n(o,e,t)}):n(e.jQuery,e,t)}(this,document,function(e,t,n){var r="featuredScrollView";e.fn[r]=function(t){var n={bProcessing:!1,sPaginationType:"bootstrap",sDom:"<'row'<'span8'l><'span4'f>r>t<'row'<'span12'i><'span12'p>>",oLanguage:{sLengthMenu:"_MENU_  "}};return t=e.extend(!0,n,t),this.each(function(){e(this).dataTable(t)})},e("[data-featured=scrollview]").each(function(t){e(this)[r]({sAjaxSource:e(this).data("datatableBind")})})});var mejs=mejs||{};mejs.version="2.9.3",mejs.meIndex=0,mejs.plugins={silverlight:[{version:[3,0],types:["video/mp4","video/m4v","video/mov","video/wmv","audio/wma","audio/m4a","audio/mp3","audio/wav","audio/mpeg"]}],flash:[{version:[9,0,124],types:["video/mp4","video/m4v","video/mov","video/flv","video/x-flv","audio/flv","audio/x-flv","audio/mp3","audio/m4a","audio/mpeg","video/youtube","video/x-youtube"]}],youtube:[{version:null,types:["video/youtube","video/x-youtube"]}],vimeo:[{version:null,types:["video/vimeo"]}]},mejs.Utility={encodeUrl:function(e){return encodeURIComponent(e)},escapeHTML:function(e){return e.toString().split("&").join("&amp;").split("<").join("&lt;").split('"').join("&quot;")},absolutizeUrl:function(e){var t=document.createElement("div");return t.innerHTML='<a href="'+this.escapeHTML(e)+'">x</a>',t.firstChild.href},getScriptPath:function(e){var t=0,n,r="",i="",s,o=document.getElementsByTagName("script"),u=o.length,a=e.length;for(;t<u;t++){s=o[t].src;for(n=0;n<a;n++){i=e[n];if(s.indexOf(i)>-1){r=s.substring(0,s.indexOf(i));break}}if(r!=="")break}return r},secondsToTimeCode:function(e,t,n,r){typeof n=="undefined"?n=!1:typeof r=="undefined"&&(r=25);var i=Math.floor(e/3600)%24,s=Math.floor(e/60)%60,o=Math.floor(e%60),u=Math.floor((e%1*r).toFixed(3)),a=(t||i>0?(i<10?"0"+i:i)+":":"")+(s<10?"0"+s:s)+":"+(o<10?"0"+o:o)+(n?":"+(u<10?"0"+u:u):"");return a},timeCodeToSeconds:function(e,t,n,r){typeof n=="undefined"?n=!1:typeof r=="undefined"&&(r=25);var i=e.split(":"),s=parseInt(i[0],10),o=parseInt(i[1],10),u=parseInt(i[2],10),a=0,f=0;return n&&(a=parseInt(i[3])/r),f=s*3600+o*60+u+a,f},removeSwf:function(e){var t=document.getElementById(e);t&&t.nodeName=="OBJECT"&&(mejs.MediaFeatures.isIE?(t.style.display="none",function(){t.readyState==4?mejs.Utility.removeObjectInIE(e):setTimeout(arguments.callee,10)}()):t.parentNode.removeChild(t))},removeObjectInIE:function(e){var t=document.getElementById(e);if(t){for(var n in t)typeof t[n]=="function"&&(t[n]=null);t.parentNode.removeChild(t)}}},mejs.PluginDetector={hasPluginVersion:function(e,t){var n=this.plugins[e];return t[1]=t[1]||0,t[2]=t[2]||0,n[0]>t[0]||n[0]==t[0]&&n[1]>t[1]||n[0]==t[0]&&n[1]==t[1]&&n[2]>=t[2]?!0:!1},nav:window.navigator,ua:window.navigator.userAgent.toLowerCase(),plugins:[],addPlugin:function(e,t,n,r,i){this.plugins[e]=this.detectPlugin(t,n,r,i)},detectPlugin:function(e,t,n,r){var i=[0,0,0],s,o,u;if(typeof this.nav.plugins!="undefined"&&typeof this.nav.plugins[e]=="object"){s=this.nav.plugins[e].description;if(s&&(typeof this.nav.mimeTypes=="undefined"||!this.nav.mimeTypes[t]||!!this.nav.mimeTypes[t].enabledPlugin)){i=s.replace(e,"").replace(/^\s+/,"").replace(/\sr/gi,".").split(".");for(o=0;o<i.length;o++)i[o]=parseInt(i[o].match(/\d+/),10)}}else if(typeof window.ActiveXObject!="undefined")try{u=new ActiveXObject(n),u&&(i=r(u))}catch(a){}return i}},mejs.PluginDetector.addPlugin("flash","Shockwave Flash","application/x-shockwave-flash","ShockwaveFlash.ShockwaveFlash",function(e){var t=[],n=e.GetVariable("$version");return n&&(n=n.split(" ")[1].split(","),t=[parseInt(n[0],10),parseInt(n[1],10),parseInt(n[2],10)]),t}),mejs.PluginDetector.addPlugin("silverlight","Silverlight Plug-In","application/x-silverlight-2","AgControl.AgControl",function(e){var t=[0,0,0,0],n=function(e,t,n,r){while(e.isVersionSupported(t[0]+"."+t[1]+"."+t[2]+"."+t[3]))t[n]+=r;t[n]-=r};return n(e,t,0,1),n(e,t,1,1),n(e,t,2,1e4),n(e,t,2,1e3),n(e,t,2,100),n(e,t,2,10),n(e,t,2,1),n(e,t,3,1),t}),mejs.MediaFeatures={init:function(){var e=this,t=document,n=mejs.PluginDetector.nav,r=mejs.PluginDetector.ua.toLowerCase(),i,s,o=["source","track","audio","video"];e.isiPad=r.match(/ipad/i)!==null,e.isiPhone=r.match(/iphone/i)!==null,e.isiOS=e.isiPhone||e.isiPad,e.isAndroid=r.match(/android/i)!==null,e.isBustedAndroid=r.match(/android 2\.[12]/)!==null,e.isIE=n.appName.toLowerCase().indexOf("microsoft")!=-1,e.isChrome=r.match(/chrome/gi)!==null,e.isFirefox=r.match(/firefox/gi)!==null,e.isWebkit=r.match(/webkit/gi)!==null,e.isGecko=r.match(/gecko/gi)!==null&&!e.isWebkit,e.isOpera=r.match(/opera/gi)!==null,e.hasTouch="ontouchstart"in window;for(i=0;i<o.length;i++)s=document.createElement(o[i]);e.supportsMediaTag=typeof s.canPlayType!="undefined"||e.isBustedAndroid,e.hasSemiNativeFullScreen=typeof s.webkitEnterFullscreen!="undefined",e.hasWebkitNativeFullScreen=typeof s.webkitRequestFullScreen!="undefined",e.hasMozNativeFullScreen=typeof s.mozRequestFullScreen!="undefined",e.hasTrueNativeFullScreen=e.hasWebkitNativeFullScreen||e.hasMozNativeFullScreen,e.nativeFullScreenEnabled=e.hasTrueNativeFullScreen,e.hasMozNativeFullScreen&&(e.nativeFullScreenEnabled=s.mozFullScreenEnabled),this.isChrome&&(e.hasSemiNativeFullScreen=!1),e.hasTrueNativeFullScreen&&(e.fullScreenEventName=e.hasWebkitNativeFullScreen?"webkitfullscreenchange":"mozfullscreenchange",e.isFullScreen=function(){if(s.mozRequestFullScreen)return t.mozFullScreen;if(s.webkitRequestFullScreen)return t.webkitIsFullScreen},e.requestFullScreen=function(t){e.hasWebkitNativeFullScreen?t.webkitRequestFullScreen():e.hasMozNativeFullScreen&&t.mozRequestFullScreen()},e.cancelFullScreen=function(){e.hasWebkitNativeFullScreen?document.webkitCancelFullScreen():e.hasMozNativeFullScreen&&document.mozCancelFullScreen()}),e.hasSemiNativeFullScreen&&r.match(/mac os x 10_5/i)&&(e.hasNativeFullScreen=!1,e.hasSemiNativeFullScreen=!1)}},mejs.MediaFeatures.init(),mejs.HtmlMediaElement={pluginType:"native",isFullScreen:!1,setCurrentTime:function(e){this.currentTime=e},setMuted:function(e){this.muted=e},setVolume:function(e){this.volume=e},stop:function(){this.pause()},setSrc:function(e){var t=this.getElementsByTagName("source");while(t.length>0)this.removeChild(t[0]);if(typeof e=="string")this.src=e;else{var n,r;for(n=0;n<e.length;n++)r=e[n],this.canPlayType(r.type)&&(this.src=r.src)}},setVideoSize:function(e,t){this.width=e,this.height=t}},mejs.PluginMediaElement=function(e,t,n){this.id=e,this.pluginType=t,this.src=n,this.events={}},mejs.PluginMediaElement.prototype={pluginElement:null,pluginType:"",isFullScreen:!1,playbackRate:-1,defaultPlaybackRate:-1,seekable:[],played:[],paused:!0,ended:!1,seeking:!1,duration:0,error:null,tagName:"",muted:!1,volume:1,currentTime:0,play:function(){this.pluginApi!=null&&(this.pluginType=="youtube"?this.pluginApi.playVideo():this.pluginApi.playMedia(),this.paused=!1)},load:function(){this.pluginApi!=null&&(this.pluginType!="youtube"&&this.pluginApi.loadMedia(),this.paused=!1)},pause:function(){this.pluginApi!=null&&(this.pluginType=="youtube"?this.pluginApi.pauseVideo():this.pluginApi.pauseMedia(),this.paused=!0)},stop:function(){this.pluginApi!=null&&(this.pluginType=="youtube"?this.pluginApi.stopVideo():this.pluginApi.stopMedia(),this.paused=!0)},canPlayType:function(e){var t,n,r,i=mejs.plugins[this.pluginType];for(t=0;t<i.length;t++){r=i[t];if(mejs.PluginDetector.hasPluginVersion(this.pluginType,r.version))for(n=0;n<r.types.length;n++)if(e==r.types[n])return!0}return!1},positionFullscreenButton:function(e,t,n){this.pluginApi!=null&&this.pluginApi.positionFullscreenButton&&this.pluginApi.positionFullscreenButton(e,t,n)},hideFullscreenButton:function(){this.pluginApi!=null&&this.pluginApi.hideFullscreenButton&&this.pluginApi.hideFullscreenButton()},setSrc:function(e){if(typeof e=="string")this.pluginApi.setSrc(mejs.Utility.absolutizeUrl(e)),this.src=mejs.Utility.absolutizeUrl(e);else{var t,n;for(t=0;t<e.length;t++)n=e[t],this.canPlayType(n.type)&&(this.pluginApi.setSrc(mejs.Utility.absolutizeUrl(n.src)),this.src=mejs.Utility.absolutizeUrl(e))}},setCurrentTime:function(e){this.pluginApi!=null&&(this.pluginType=="youtube"?this.pluginApi.seekTo(e):this.pluginApi.setCurrentTime(e),this.currentTime=e)},setVolume:function(e){this.pluginApi!=null&&(this.pluginType=="youtube"?this.pluginApi.setVolume(e*100):this.pluginApi.setVolume(e),this.volume=e)},setMuted:function(e){this.pluginApi!=null&&(this.pluginType=="youtube"?(e?this.pluginApi.mute():this.pluginApi.unMute(),this.muted=e,this.dispatchEvent("volumechange")):this.pluginApi.setMuted(e),this.muted=e)},setVideoSize:function(e,t){this.pluginElement.style&&(this.pluginElement.style.width=e+"px",this.pluginElement.style.height=t+"px"),this.pluginApi!=null&&this.pluginApi.setVideoSize&&this.pluginApi.setVideoSize(e,t)},setFullscreen:function(e){this.pluginApi!=null&&this.pluginApi.setFullscreen&&this.pluginApi.setFullscreen(e)},enterFullScreen:function(){this.pluginApi!=null&&this.pluginApi.setFullscreen&&this.setFullscreen(!0)},exitFullScreen:function(){this.pluginApi!=null&&this.pluginApi.setFullscreen&&this.setFullscreen(!1)},addEventListener:function(e,t,n){this.events[e]=this.events[e]||[],this.events[e].push(t)},removeEventListener:function(e,t){if(!e)return this.events={},!0;var n=this.events[e];if(!n)return!0;if(!t)return this.events[e]=[],!0;for(i=0;i<n.length;i++)if(n[i]===t)return this.events[e].splice(i,1),!0;return!1},dispatchEvent:function(e){var t,n,r=this.events[e];if(r){n=Array.prototype.slice.call(arguments,1);for(t=0;t<r.length;t++)r[t].apply(null,n)}},attributes:{},hasAttribute:function(e){return e in this.attributes},removeAttribute:function(e){delete this.attributes[e]},getAttribute:function(e){return this.hasAttribute(e)?this.attributes[e]:""},setAttribute:function(e,t){this.attributes[e]=t},remove:function(){mejs.Utility.removeSwf(this.pluginElement.id)}},mejs.MediaPluginBridge={pluginMediaElements:{},htmlMediaElements:{},registerPluginElement:function(e,t,n){this.pluginMediaElements[e]=t,this.htmlMediaElements[e]=n},initPlugin:function(e){var t=this.pluginMediaElements[e],n=this.htmlMediaElements[e];if(t){switch(t.pluginType){case"flash":t.pluginElement=t.pluginApi=document.getElementById(e);break;case"silverlight":t.pluginElement=document.getElementById(t.id),t.pluginApi=t.pluginElement.Content.MediaElementJS}t.pluginApi!=null&&t.success&&t.success(t,n)}},fireEvent:function(e,t,n){var r,i,s,o=this.pluginMediaElements[e];o.ended=!1,o.paused=!0,r={type:t,target:o};for(i in n)o[i]=n[i],r[i]=n[i];s=n.bufferedTime||0,r.target.buffered=r.buffered={start:function(e){return 0},end:function(e){return s},length:1},o.dispatchEvent(r.type,r)}},mejs.MediaElementDefaults={mode:"auto",plugins:["flash","silverlight","youtube","vimeo"],enablePluginDebug:!1,type:"",pluginPath:mejs.Utility.getScriptPath(["mediaelement.js","mediaelement.min.js","mediaelement-and-player.js","mediaelement-and-player.min.js"]),flashName:"flashmediaelement.swf",enablePluginSmoothing:!1,silverlightName:"silverlightmediaelement.xap",defaultVideoWidth:480,defaultVideoHeight:270,pluginWidth:-1,pluginHeight:-1,pluginVars:[],timerRate:250,startVolume:.8,success:function(){},error:function(){}},mejs.MediaElement=function(e,t){return mejs.HtmlMediaElementShim.create(e,t)},mejs.HtmlMediaElementShim={create:function(e,t){var n=mejs.MediaElementDefaults,r=typeof e=="string"?document.getElementById(e):e,i=r.tagName.toLowerCase(),s=i==="audio"||i==="video",o=s?r.getAttribute("src"):r.getAttribute("href"),u=r.getAttribute("poster"),a=r.getAttribute("autoplay"),f=r.getAttribute("preload"),l=r.getAttribute("controls"),c,h;for(h in t)n[h]=t[h];return o=typeof o=="undefined"||o===null||o==""?null:o,u=typeof u=="undefined"||u===null?"":u,f=typeof f=="undefined"||f===null||f==="false"?"none":f,a=typeof a!="undefined"&&a!==null&&a!=="false",l=typeof l!="undefined"&&l!==null&&l!=="false",c=this.determinePlayback(r,n,mejs.MediaFeatures.supportsMediaTag,s,o),c.url=c.url!==null?mejs.Utility.absolutizeUrl(c.url):"",c.method=="native"?(mejs.MediaFeatures.isBustedAndroid&&(r.src=c.url,r.addEventListener("click",function(){r.play()},!1)),this.updateNative(c,n,a,f)):c.method!==""?this.createPlugin(c,n,u,a,f,l):(this.createErrorMessage(c,n,u),this)},determinePlayback:function(e,t,n,r,i){var s=[],o,u,a,f,l,c,h={method:"",url:"",htmlMediaElement:e,isVideo:e.tagName.toLowerCase()!="audio"},p,d,v,m;if(typeof t.type!="undefined"&&t.type!=="")if(typeof t.type=="string")s.push({type:t.type,url:i});else for(o=0;o<t.type.length;o++)s.push({type:t.type[o],url:i});else if(i!==null)c=this.formatType(i,e.getAttribute("type")),s.push({type:c,url:i});else for(o=0;o<e.childNodes.length;o++)l=e.childNodes[o],l.nodeType==1&&l.tagName.toLowerCase()=="source"&&(i=l.getAttribute("src"),c=this.formatType(i,l.getAttribute("type")),s.push({type:c,url:i}));!r&&s.length>0&&s[0].url!==null&&this.getTypeFromFile(s[0].url).indexOf("audio")>-1&&(h.isVideo=!1),mejs.MediaFeatures.isBustedAndroid&&(e.canPlayType=function(e){return e.match(/video\/(mp4|m4v)/gi)!==null?"maybe":""});if(n&&(t.mode==="auto"||t.mode==="auto_plugin"||t.mode==="native")){r||(m=document.createElement(h.isVideo?"video":"audio"),e.parentNode.insertBefore(m,e),e.style.display="none",h.htmlMediaElement=e=m);for(o=0;o<s.length;o++)if(e.canPlayType(s[o].type).replace(/no/,"")!==""||e.canPlayType(s[o].type.replace(/mp3/,"mpeg")).replace(/no/,"")!==""){h.method="native",h.url=s[o].url;break}if(h.method==="native"){h.url!==null&&(e.src=h.url);if(t.mode!=="auto_plugin")return h}}if(t.mode==="auto"||t.mode==="auto_plugin"||t.mode==="shim")for(o=0;o<s.length;o++){c=s[o].type;for(u=0;u<t.plugins.length;u++){p=t.plugins[u],d=mejs.plugins[p];for(a=0;a<d.length;a++){v=d[a];if(v.version==null||mejs.PluginDetector.hasPluginVersion(p,v.version))for(f=0;f<v.types.length;f++)if(c==v.types[f])return h.method=p,h.url=s[o].url,h}}}return t.mode==="auto_plugin"&&h.method==="native"?h:(h.method===""&&s.length>0&&(h.url=s[0].url),h)},formatType:function(e,t){var n;return e&&!t?this.getTypeFromFile(e):t&&~t.indexOf(";")?t.substr(0,t.indexOf(";")):t},getTypeFromFile:function(e){var t=e.substring(e.lastIndexOf(".")+1);return(/(mp4|m4v|ogg|ogv|webm|webmv|flv|wmv|mpeg|mov)/gi.test(t)?"video":"audio")+"/"+this.getTypeFromExtension(t)},getTypeFromExtension:function(e){switch(e){case"mp4":case"m4v":return"mp4";case"webm":case"webma":case"webmv":return"webm";case"ogg":case"oga":case"ogv":return"ogg";default:return e}},createErrorMessage:function(e,t,n){var r=e.htmlMediaElement,i=document.createElement("div");i.className="me-cannotplay";try{i.style.width=r.width+"px",i.style.height=r.height+"px"}catch(s){}i.innerHTML=n!==""?'<a href="'+e.url+'"><img src="'+n+'" width="100%" height="100%" /></a>':'<a href="'+e.url+'"><span>Download File</span></a>',r.parentNode.insertBefore(i,r),r.style.display="none",t.error(r)},createPlugin:function(e,t,n,r,i,s){var o=e.htmlMediaElement,u=1,a=1,f="me_"+e.method+"_"+mejs.meIndex++,l=new mejs.PluginMediaElement(f,e.method,e.url),c=document.createElement("div"),h,p,d;l.tagName=o.tagName;for(var v=0;v<o.attributes.length;v++){var m=o.attributes[v];m.specified==1&&l.setAttribute(m.name,m.value)}p=o.parentNode;while(p!==null&&p.tagName.toLowerCase()!="body"){if(p.parentNode.tagName.toLowerCase()=="p"){p.parentNode.parentNode.insertBefore(p,p.parentNode);break}p=p.parentNode}e.isVideo?(u=t.videoWidth>0?t.videoWidth:o.getAttribute("width")!==null?o.getAttribute("width"):t.defaultVideoWidth,a=t.videoHeight>0?t.videoHeight:o.getAttribute("height")!==null?o.getAttribute("height"):t.defaultVideoHeight,u=mejs.Utility.encodeUrl(u),a=mejs.Utility.encodeUrl(a)):t.enablePluginDebug&&(u=320,a=240),l.success=t.success,mejs.MediaPluginBridge.registerPluginElement(f,l,o),c.className="me-plugin",c.id=f+"_container",e.isVideo?o.parentNode.insertBefore(c,o):document.body.insertBefore(c,document.body.childNodes[0]),d=["id="+f,"isvideo="+(e.isVideo?"true":"false"),"autoplay="+(r?"true":"false"),"preload="+i,"width="+u,"startvolume="+t.startVolume,"timerrate="+t.timerRate,"height="+a],e.url!==null&&(e.method=="flash"?d.push("file="+mejs.Utility.encodeUrl(e.url)):d.push("file="+e.url)),t.enablePluginDebug&&d.push("debug=true"),t.enablePluginSmoothing&&d.push("smoothing=true"),s&&d.push("controls=true"),t.pluginVars&&(d=d.concat(t.pluginVars));switch(e.method){case"silverlight":c.innerHTML='<object data="data:application/x-silverlight-2," type="application/x-silverlight-2" id="'+f+'" name="'+f+'" width="'+u+'" height="'+a+'">'+'<param name="initParams" value="'+d.join(",")+'" />'+'<param name="windowless" value="true" />'+'<param name="background" value="black" />'+'<param name="minRuntimeVersion" value="3.0.0.0" />'+'<param name="autoUpgrade" value="true" />'+'<param name="source" value="'+t.pluginPath+t.silverlightName+'" />'+"</object>";break;case"flash":mejs.MediaFeatures.isIE?(h=document.createElement("div"),c.appendChild(h),h.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="//download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab" id="'+f+'" width="'+u+'" height="'+a+'">'+'<param name="movie" value="'+t.pluginPath+t.flashName+"?x="+new Date+'" />'+'<param name="flashvars" value="'+d.join("&amp;")+'" />'+'<param name="quality" value="high" />'+'<param name="bgcolor" value="#000000" />'+'<param name="wmode" value="transparent" />'+'<param name="allowScriptAccess" value="always" />'+'<param name="allowFullScreen" value="true" />'+"</object>"):c.innerHTML='<embed id="'+f+'" name="'+f+'" '+'play="true" '+'loop="false" '+'quality="high" '+'bgcolor="#000000" '+'wmode="transparent" '+'allowScriptAccess="always" '+'allowFullScreen="true" '+'type="application/x-shockwave-flash" pluginspage="//www.macromedia.com/go/getflashplayer" '+'src="'+t.pluginPath+t.flashName+'" '+'flashvars="'+d.join("&")+'" '+'width="'+u+'" '+'height="'+a+'"></embed>';break;case"youtube":var g=e.url.substr(e.url.lastIndexOf("=")+1);youtubeSettings={container:c,containerId:c.id,pluginMediaElement:l,pluginId:f,videoId:g,height:a,width:u},mejs.PluginDetector.hasPluginVersion("flash",[10,0,0])?mejs.YouTubeApi.createFlash(youtubeSettings):mejs.YouTubeApi.enqueueIframe(youtubeSettings);break;case"vimeo":l.vimeoid=e.url.substr(e.url.lastIndexOf("/")+1),c.innerHTML='<object width="'+u+'" height="'+a+'">'+'<param name="allowfullscreen" value="true" />'+'<param name="allowscriptaccess" value="always" />'+'<param name="flashvars" value="api=1" />'+'<param name="movie" value="http://vimeo.com/moogaloop.swf?clip_id='+l.vimeoid+'&amp;server=vimeo.com&amp;show_title=0&amp;show_byline=0&amp;show_portrait=0&amp;color=00adef&amp;fullscreen=1&amp;autoplay=0&amp;loop=0" />'+'<embed src="//vimeo.com/moogaloop.swf?api=1&amp;clip_id='+l.vimeoid+'&amp;server=vimeo.com&amp;show_title=0&amp;show_byline=0&amp;show_portrait=0&amp;color=00adef&amp;fullscreen=1&amp;autoplay=0&amp;loop=0" type="application/x-shockwave-flash" allowfullscreen="true" allowscriptaccess="always" width="'+u+'" height="'+a+'"></embed>'+"</object>"}return o.style.display="none",l},updateNative:function(e,t,n,r){var i=e.htmlMediaElement,s;for(s in mejs.HtmlMediaElement)i[s]=mejs.HtmlMediaElement[s];return t.success(i,i),i}},mejs.YouTubeApi={isIframeStarted:!1,isIframeLoaded:!1,loadIframeApi:function(){if(!this.isIframeStarted){var e=document.createElement("script");e.src="http://www.youtube.com/player_api";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t),this.isIframeStarted=!0}},iframeQueue:[],enqueueIframe:function(e){this.isLoaded?this.createIframe(e):(this.loadIframeApi(),this.iframeQueue.push(e))},createIframe:function(e){var t=e.pluginMediaElement,n=new YT.Player(e.containerId,{height:e.height,width:e.width,videoId:e.videoId,playerVars:{controls:0},events:{onReady:function(){e.pluginMediaElement.pluginApi=n,mejs.MediaPluginBridge.initPlugin(e.pluginId),setInterval(function(){mejs.YouTubeApi.createEvent(n,t,"timeupdate")},250)},onStateChange:function(e){mejs.YouTubeApi.handleStateChange(e.data,n,t)}}})},createEvent:function(e,t,n){var r={type:n,target:t};if(e&&e.getDuration){t.currentTime=r.currentTime=e.getCurrentTime(),t.duration=r.duration=e.getDuration(),r.paused=t.paused,r.ended=t.ended,r.muted=e.isMuted(),r.volume=e.getVolume()/100,r.bytesTotal=e.getVideoBytesTotal(),r.bufferedBytes=e.getVideoBytesLoaded();var i=r.bufferedBytes/r.bytesTotal*r.duration;r.target.buffered=r.buffered={start:function(e){return 0},end:function(e){return i},length:1}}t.dispatchEvent(r.type,r)},iFrameReady:function(){this.isLoaded=!0,this.isIframeLoaded=!0;while(this.iframeQueue.length>0){var e=this.iframeQueue.pop();this.createIframe(e)}},flashPlayers:{},createFlash:function(e){this.flashPlayers[e.pluginId]=e;var t,n="http://www.youtube.com/apiplayer?enablejsapi=1&amp;playerapiid="+e.pluginId+"&amp;version=3&amp;autoplay=0&amp;controls=0&amp;modestbranding=1&loop=0";mejs.MediaFeatures.isIE?(t=document.createElement("div"),e.container.appendChild(t),t.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="//download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab" id="'+e.pluginId+'" width="'+e.width+'" height="'+e.height+'">'+'<param name="movie" value="'+n+'" />'+'<param name="wmode" value="transparent" />'+'<param name="allowScriptAccess" value="always" />'+'<param name="allowFullScreen" value="true" />'+"</object>"):e.container.innerHTML='<object type="application/x-shockwave-flash" id="'+e.pluginId+'" data="'+n+'" '+'width="'+e.width+'" height="'+e.height+'" style="visibility: visible; ">'+'<param name="allowScriptAccess" value="always">'+'<param name="wmode" value="transparent">'+"</object>"},flashReady:function(e){var t=this.flashPlayers[e],n=document.getElementById(e),r=t.pluginMediaElement;r.pluginApi=r.pluginElement=n,mejs.MediaPluginBridge.initPlugin(e),n.cueVideoById(t.videoId);var i=t.containerId+"_callback";window[i]=function(e){mejs.YouTubeApi.handleStateChange(e,n,r)},n.addEventListener("onStateChange",i),setInterval(function(){mejs.YouTubeApi.createEvent(n,r,"timeupdate")},250)},handleStateChange:function(e,t,n){switch(e){case-1:n.paused=!0,n.ended=!0,mejs.YouTubeApi.createEvent(t,n,"loadedmetadata");break;case 0:n.paused=!1,n.ended=!0,mejs.YouTubeApi.createEvent(t,n,"ended");break;case 1:n.paused=!1,n.ended=!1,mejs.YouTubeApi.createEvent(t,n,"play"),mejs.YouTubeApi.createEvent(t,n,"playing");break;case 2:n.paused=!0,n.ended=!1,mejs.YouTubeApi.createEvent(t,n,"pause");break;case 3:mejs.YouTubeApi.createEvent(t,n,"progress");break;case 5:}}},window.mejs=mejs,window.MediaElement=mejs.MediaElement,typeof jQuery!="undefined"?mejs.$=jQuery:typeof ender!="undefined"&&(mejs.$=ender),function(e){mejs.MepDefaults={poster:"",defaultVideoWidth:480,defaultVideoHeight:270,videoWidth:-1,videoHeight:-1,defaultAudioWidth:400,defaultAudioHeight:30,defaultSeekBackwardInterval:function(e){return e.duration*.05},defaultSeekForwardInterval:function(e){return e.duration*.05},audioWidth:-1,audioHeight:-1,startVolume:.8,loop:!1,enableAutosize:!0,alwaysShowHours:!1,showTimecodeFrameCount:!1,framesPerSecond:25,autosizeProgress:!0,alwaysShowControls:!1,iPadUseNativeControls:!1,iPhoneUseNativeControls:!1,AndroidUseNativeControls:!1,features:["playpause","current","progress","duration","tracks","volume","fullscreen"],isVideo:!0,enableKeyboard:!0,pauseOtherPlayers:!0,keyActions:[{keys:[32,179],action:function(e,t){t.paused||t.ended?t.play():t.pause()}},{keys:[38],action:function(e,t){var n=Math.min(t.volume+.1,1);t.setVolume(n)}},{keys:[40],action:function(e,t){var n=Math.max(t.volume-.1,0);t.setVolume(n)}},{keys:[37,227],action:function(e,t){if(!isNaN(t.duration)&&t.duration>0){e.isVideo&&(e.showControls(),e.startControlsTimer());var n=Math.max(t.currentTime-e.options.defaultSeekBackwardInterval(t),0);t.setCurrentTime(n)}}},{keys:[39,228],action:function(e,t){if(!isNaN(t.duration)&&t.duration>0){e.isVideo&&(e.showControls(),e.startControlsTimer());var n=Math.min(t.currentTime+e.options.defaultSeekForwardInterval(t),t.duration);t.setCurrentTime(n)}}},{keys:[70],action:function(e,t){typeof e.enterFullScreen!="undefined"&&(e.isFullScreen?e.exitFullScreen():e.enterFullScreen())}}]},mejs.mepIndex=0,mejs.players=[],mejs.MediaElementPlayer=function(t,n){if(this instanceof mejs.MediaElementPlayer){var r=this;return r.$media=r.$node=e(t),r.node=r.media=r.$media[0],typeof r.node.player!="undefined"?r.node.player:(r.node.player=r,typeof n=="undefined"&&(n=r.$node.data("mejsoptions")),r.options=e.extend({},mejs.MepDefaults,n),mejs.players.push(r),r.init(),r)}return new mejs.MediaElementPlayer(t,n)},mejs.MediaElementPlayer.prototype={hasFocus:!1,controlsAreVisible:!0,init:function(){var t=this,n=mejs.MediaFeatures,r=e.extend(!0,{},t.options,{success:function(e,n){t.meReady(e,n)},error:function(e){t.handleError(e)}}),i=t.media.tagName.toLowerCase();t.isDynamic=i!=="audio"&&i!=="video",t.isDynamic?t.isVideo=t.options.isVideo:t.isVideo=i!=="audio"&&t.options.isVideo;if(n.isiPad&&t.options.iPadUseNativeControls||n.isiPhone&&t.options.iPhoneUseNativeControls)t.$media.attr("controls","controls"),n.isiPad&&t.media.getAttribute("autoplay")!==null&&(t.media.load(),t.media.play());else if(!n.isAndroid||!t.AndroidUseNativeControls){t.$media.removeAttr("controls"),t.id="mep_"+mejs.mepIndex++,t.container=e('<div id="'+t.id+'" class="mejs-container">'+'<div class="mejs-inner">'+'<div class="mejs-mediaelement"></div>'+'<div class="mejs-layers"></div>'+'<div class="mejs-controls"></div>'+'<div class="mejs-clear"></div>'+"</div>"+"</div>").addClass(t.$media[0].className).insertBefore(t.$media),t.container.addClass((n.isAndroid?"mejs-android ":"")+(n.isiOS?"mejs-ios ":"")+(n.isiPad?"mejs-ipad ":"")+(n.isiPhone?"mejs-iphone ":"")+(t.isVideo?"mejs-video ":"mejs-audio "));if(n.isiOS){var s=t.$media.clone();t.container.find(".mejs-mediaelement").append(s),t.$media.remove(),t.$node=t.$media=s,t.node=t.media=s[0]}else t.container.find(".mejs-mediaelement").append(t.$media);t.controls=t.container.find(".mejs-controls"),t.layers=t.container.find(".mejs-layers");var o=t.isVideo?"video":"audio",u=o.substring(0,1).toUpperCase()+o.substring(1);t.options[o+"Width"]>0||t.options[o+"Width"].toString().indexOf("%")>-1?t.width=t.options[o+"Width"]:t.media.style.width!==""&&t.media.style.width!==null?t.width=t.media.style.width:t.media.getAttribute("width")!==null?t.width=t.$media.attr("width"):t.width=t.options["default"+u+"Width"],t.options[o+"Height"]>0||t.options[o+"Height"].toString().indexOf("%")>-1?t.height=t.options[o+"Height"]:t.media.style.height!==""&&t.media.style.height!==null?t.height=t.media.style.height:t.$media[0].getAttribute("height")!==null?t.height=t.$media.attr("height"):t.height=t.options["default"+u+"Height"],t.setPlayerSize(t.width,t.height),r.pluginWidth=t.height,r.pluginHeight=t.width}mejs.MediaElement(t.$media[0],r)},showControls:function(e){var t=this;e=typeof e=="undefined"||e;if(t.controlsAreVisible)return;e?(t.controls.css("visibility","visible").stop(!0,!0).fadeIn(200,function(){t.controlsAreVisible=!0}),t.container.find(".mejs-control").css("visibility","visible").stop(!0,!0).fadeIn(200,function(){t.controlsAreVisible=!0})):(t.controls.css("visibility","visible").css("display","block"),t.container.find(".mejs-control").css("visibility","visible").css("display","block"),t.controlsAreVisible=!0),t.setControlsSize()},hideControls:function(t){var n=this;t=typeof t=="undefined"||t;if(!n.controlsAreVisible)return;t?(n.controls.stop(!0,!0).fadeOut(200,function(){e(this).css("visibility","hidden").css("display","block"),n.controlsAreVisible=!1}),n.container.find(".mejs-control").stop(!0,!0).fadeOut(200,function(){e(this).css("visibility","hidden").css("display","block")})):(n.controls.css("visibility","hidden").css("display","block"),n.container.find(".mejs-control").css("visibility","hidden").css("display","block"),n.controlsAreVisible=!1)},controlsTimer:null,startControlsTimer:function(e){var t=this;e=typeof e!="undefined"?e:1500,t.killControlsTimer("start"),t.controlsTimer=setTimeout(function(){t.hideControls(),t.killControlsTimer("hide")},e)},killControlsTimer:function(e){var t=this;t.controlsTimer!==null&&(clearTimeout(t.controlsTimer),delete t.controlsTimer,t.controlsTimer=null)},controlsEnabled:!0,disableControls:function(){var e=this;e.killControlsTimer(),e.hideControls(!1),this.controlsEnabled=!1},enableControls:function(){var e=this;e.showControls(!1),e.controlsEnabled=!0},meReady:function(t,n){var r=this,i=mejs.MediaFeatures,s=n.getAttribute("autoplay"),o=typeof s!="undefined"&&s!==null&&s!=="false",u,a;if(r.created)return;r.created=!0,r.media=t,r.domNode=n;if((!i.isAndroid||!r.options.AndroidUseNativeControls)&&(!i.isiPad||!r.options.iPadUseNativeControls)&&(!i.isiPhone||!r.options.iPhoneUseNativeControls)){r.buildposter(r,r.controls,r.layers,r.media),r.buildkeyboard(r,r.controls,r.layers,r.media),r.buildoverlays(r,r.controls,r.layers,r.media),r.findTracks();for(u in r.options.features){a=r.options.features[u];if(r["build"+a])try{r["build"+a](r,r.controls,r.layers,r.media)}catch(f){}}r.container.trigger("controlsready"),r.setPlayerSize(r.width,r.height),r.setControlsSize();if(r.isVideo){if(mejs.MediaFeatures.hasTouch)r.$media.bind("touchstart",function(){r.controlsAreVisible?r.hideControls(!1):r.controlsEnabled&&r.showControls(!1)});else{var l=r.media.pluginType=="native"?r.$media:e(r.media.pluginElement);l.click(function(){t.paused?t.play():t.pause()}),r.container.bind("mouseenter mouseover",function(){r.controlsEnabled&&(r.options.alwaysShowControls||(r.killControlsTimer("enter"),r.showControls(),r.startControlsTimer(2500)))}).bind("mousemove",function(){r.controlsEnabled&&(r.controlsAreVisible||r.showControls(),r.options.alwaysShowControls||r.startControlsTimer(2500))}).bind("mouseleave",function(){r.controlsEnabled&&!r.media.paused&&!r.options.alwaysShowControls&&r.startControlsTimer(1e3)})}o&&!r.options.alwaysShowControls&&r.hideControls(),r.options.enableAutosize&&r.media.addEventListener("loadedmetadata",function(e){r.options.videoHeight<=0&&r.domNode.getAttribute("height")===null&&!isNaN(e.target.videoHeight)&&(r.setPlayerSize(e.target.videoWidth,e.target.videoHeight),r.setControlsSize(),r.media.setVideoSize(e.target.videoWidth,e.target.videoHeight))},!1)}t.addEventListener("play",function(){for(var e=0,t=mejs.players.length;e<t;e++){var n=mejs.players[e];n.id!=r.id&&r.options.pauseOtherPlayers&&!n.paused&&!n.ended&&n.pause(),n.hasFocus=!1}r.hasFocus=!0},!1),r.media.addEventListener("ended",function(e){try{r.media.setCurrentTime(0)}catch(t){}r.media.pause(),r.setProgressRail&&r.setProgressRail(),r.setCurrentRail&&r.setCurrentRail(),r.options.loop?r.media.play():!r.options.alwaysShowControls&&r.controlsEnabled&&r.showControls()},!1),r.media.addEventListener("loadedmetadata",function(e){r.updateDuration&&r.updateDuration(),r.updateCurrent&&r.updateCurrent(),r.isFullScreen||(r.setPlayerSize(r.width,r.height),r.setControlsSize())},!1),setTimeout(function(){r.setPlayerSize(r.width,r.height),r.setControlsSize()},50),e(window).resize(function(){r.isFullScreen||mejs.MediaFeatures.hasTrueNativeFullScreen&&document.webkitIsFullScreen||r.setPlayerSize(r.width
,r.height),r.setControlsSize()}),r.media.pluginType=="youtube"&&r.container.find(".mejs-overlay-play").hide()}o&&t.pluginType=="native"&&(t.load(),t.play()),r.options.success&&(typeof r.options.success=="string"?window[r.options.success](r.media,r.domNode,r):r.options.success(r.media,r.domNode,r))},handleError:function(e){var t=this;t.controls.hide(),t.options.error&&t.options.error(e)},setPlayerSize:function(t,n){var r=this;typeof t!="undefined"&&(r.width=t),typeof n!="undefined"&&(r.height=n);if(r.height.toString().indexOf("%")>0||r.$node.css("max-width")==="100%"){var i=r.media.videoWidth&&r.media.videoWidth>0?r.media.videoWidth:r.options.defaultVideoWidth,s=r.media.videoHeight&&r.media.videoHeight>0?r.media.videoHeight:r.options.defaultVideoHeight,o=r.container.parent().width(),u=parseInt(o*s/i,10);r.container.parent()[0].tagName.toLowerCase()==="body"&&(o=e(window).width(),u=e(window).height()),u!=0&&(r.container.width(o).height(u),r.$media.width("100%").height("100%"),r.container.find("object, embed, iframe").width("100%").height("100%"),r.isVideo&&r.media.setVideoSize&&r.media.setVideoSize(o,u),r.layers.children(".mejs-layer").width("100%").height("100%"))}else r.container.width(r.width).height(r.height),r.layers.children(".mejs-layer").width(r.width).height(r.height)},setControlsSize:function(){var t=this,n=0,r=0,i=t.controls.find(".mejs-time-rail"),s=t.controls.find(".mejs-time-total"),o=t.controls.find(".mejs-time-current"),u=t.controls.find(".mejs-time-loaded"),a=i.siblings();t.options&&!t.options.autosizeProgress&&(r=parseInt(i.css("width")));if(r===0||!r)a.each(function(){e(this).css("position")!="absolute"&&(n+=e(this).outerWidth(!0))}),r=t.controls.width()-n-(i.outerWidth(!0)-i.width());i.width(r),s.width(r-(s.outerWidth(!0)-s.width())),t.setProgressRail&&t.setProgressRail(),t.setCurrentRail&&t.setCurrentRail()},buildposter:function(t,n,r,i){var s=this,o=e('<div class="mejs-poster mejs-layer"></div>').appendTo(r),u=t.$media.attr("poster");t.options.poster!==""&&(u=t.options.poster),u!==""&&u!=null?s.setPoster(u):o.hide(),i.addEventListener("play",function(){o.hide()},!1)},setPoster:function(t){var n=this,r=n.container.find(".mejs-poster"),i=r.find("img");i.length==0&&(i=e('<img width="100%" height="100%" />').appendTo(r)),i.attr("src",t)},buildoverlays:function(t,n,r,i){if(!t.isVideo)return;var s=e('<div class="mejs-overlay mejs-layer"><div class="mejs-overlay-loading"><span></span></div></div>').hide().appendTo(r),o=e('<div class="mejs-overlay mejs-layer"><div class="mejs-overlay-error"></div></div>').hide().appendTo(r),u=e('<div class="mejs-overlay mejs-layer mejs-overlay-play"><div class="mejs-overlay-button"></div></div>').appendTo(r).click(function(){i.paused?i.play():i.pause()});i.addEventListener("play",function(){u.hide(),s.hide(),n.find(".mejs-time-buffering").hide(),o.hide()},!1),i.addEventListener("playing",function(){u.hide(),s.hide(),n.find(".mejs-time-buffering").hide(),o.hide()},!1),i.addEventListener("seeking",function(){s.show(),n.find(".mejs-time-buffering").show()},!1),i.addEventListener("seeked",function(){s.hide(),n.find(".mejs-time-buffering").hide()},!1),i.addEventListener("pause",function(){mejs.MediaFeatures.isiPhone||u.show()},!1),i.addEventListener("waiting",function(){s.show(),n.find(".mejs-time-buffering").show()},!1),i.addEventListener("loadeddata",function(){s.show(),n.find(".mejs-time-buffering").show()},!1),i.addEventListener("canplay",function(){s.hide(),n.find(".mejs-time-buffering").hide()},!1),i.addEventListener("error",function(){s.hide(),n.find(".mejs-time-buffering").hide(),o.show(),o.find("mejs-overlay-error").html("Error loading this resource")},!1)},buildkeyboard:function(t,n,r,i){var s=this;e(document).keydown(function(e){if(t.hasFocus&&t.options.enableKeyboard)for(var n=0,r=t.options.keyActions.length;n<r;n++){var s=t.options.keyActions[n];for(var o=0,u=s.keys.length;o<u;o++)if(e.keyCode==s.keys[o])return e.preventDefault(),s.action(t,i,e.keyCode),!1}return!0}),e(document).click(function(n){e(n.target).closest(".mejs-container").length==0&&(t.hasFocus=!1)})},findTracks:function(){var t=this,n=t.$media.find("track");t.tracks=[],n.each(function(n,r){r=e(r),t.tracks.push({srclang:r.attr("srclang").toLowerCase(),src:r.attr("src"),kind:r.attr("kind"),label:r.attr("label")||"",entries:[],isLoaded:!1})})},changeSkin:function(e){this.container[0].className="mejs-container "+e,this.setPlayerSize(this.width,this.height),this.setControlsSize()},play:function(){this.media.play()},pause:function(){this.media.pause()},load:function(){this.media.load()},setMuted:function(e){this.media.setMuted(e)},setCurrentTime:function(e){this.media.setCurrentTime(e)},getCurrentTime:function(){return this.media.currentTime},setVolume:function(e){this.media.setVolume(e)},getVolume:function(){return this.media.volume},setSrc:function(e){this.media.setSrc(e)},remove:function(){var e=this;e.media.pluginType==="flash"?e.media.remove():e.media.pluginType==="native"&&e.$media.prop("controls",!0),e.isDynamic||e.$node.insertBefore(e.container),e.container.remove()}},typeof jQuery!="undefined"&&(jQuery.fn.mediaelementplayer=function(e){return this.each(function(){new mejs.MediaElementPlayer(this,e)})}),e(document).ready(function(){e(".mejs-player").mediaelementplayer()}),window.MediaElementPlayer=mejs.MediaElementPlayer}(mejs.$),function(e){e.extend(mejs.MepDefaults,{playpauseText:"Play/Pause"}),e.extend(MediaElementPlayer.prototype,{buildplaypause:function(t,n,r,i){var s=this,o=e('<div class="mejs-button mejs-playpause-button mejs-play" ><button type="button" aria-controls="'+s.id+'" title="'+s.options.playpauseText+'"></button>'+"</div>").appendTo(n).click(function(e){return e.preventDefault(),i.paused?i.play():i.pause(),!1});i.addEventListener("play",function(){o.removeClass("mejs-play").addClass("mejs-pause")},!1),i.addEventListener("playing",function(){o.removeClass("mejs-play").addClass("mejs-pause")},!1),i.addEventListener("pause",function(){o.removeClass("mejs-pause").addClass("mejs-play")},!1),i.addEventListener("paused",function(){o.removeClass("mejs-pause").addClass("mejs-play")},!1)}})}(mejs.$),function(e){e.extend(mejs.MepDefaults,{stopText:"Stop"}),e.extend(MediaElementPlayer.prototype,{buildstop:function(t,n,r,i){var s=this,o=e('<div class="mejs-button mejs-stop-button mejs-stop"><button type="button" aria-controls="'+s.id+'" title="'+s.options.stopText+'"></button>'+"</div>").appendTo(n).click(function(){i.paused||i.pause(),i.currentTime>0&&(i.setCurrentTime(0),n.find(".mejs-time-current").width("0px"),n.find(".mejs-time-handle").css("left","0px"),n.find(".mejs-time-float-current").html(mejs.Utility.secondsToTimeCode(0)),n.find(".mejs-currenttime").html(mejs.Utility.secondsToTimeCode(0)),r.find(".mejs-poster").show())})}})}(mejs.$),function(e){e.extend(MediaElementPlayer.prototype,{buildprogress:function(t,n,r,i){e('<div class="mejs-time-rail"><span class="mejs-time-total"><span class="mejs-time-buffering"></span><span class="mejs-time-loaded"></span><span class="mejs-time-current"></span><span class="mejs-time-handle"></span><span class="mejs-time-float"><span class="mejs-time-float-current">00:00</span><span class="mejs-time-float-corner"></span></span></span></div>').appendTo(n),n.find(".mejs-time-buffering").hide();var s=this,o=n.find(".mejs-time-total"),u=n.find(".mejs-time-loaded"),a=n.find(".mejs-time-current"),f=n.find(".mejs-time-handle"),l=n.find(".mejs-time-float"),c=n.find(".mejs-time-float-current"),h=function(e){var t=e.pageX,n=o.offset(),r=o.outerWidth(),s=0,u=0,a=t-n.left;t>n.left&&t<=r+n.left&&i.duration&&(s=(t-n.left)/r,u=s<=.02?0:s*i.duration,p&&i.setCurrentTime(u),mejs.MediaFeatures.hasTouch||(l.css("left",a),c.html(mejs.Utility.secondsToTimeCode(u)),l.show()))},p=!1,d=!1;o.bind("mousedown",function(t){if(t.which===1)return p=!0,h(t),e(document).bind("mousemove.dur",function(e){h(e)}).bind("mouseup.dur",function(t){p=!1,l.hide(),e(document).unbind(".dur")}),!1}).bind("mouseenter",function(t){d=!0,e(document).bind("mousemove.dur",function(e){h(e)}),mejs.MediaFeatures.hasTouch||l.show()}).bind("mouseleave",function(t){d=!1,p||(e(document).unbind(".dur"),l.hide())}),i.addEventListener("progress",function(e){t.setProgressRail(e),t.setCurrentRail(e)},!1),i.addEventListener("timeupdate",function(e){t.setProgressRail(e),t.setCurrentRail(e)},!1),s.loaded=u,s.total=o,s.current=a,s.handle=f},setProgressRail:function(e){var t=this,n=e!=undefined?e.target:t.media,r=null;n&&n.buffered&&n.buffered.length>0&&n.buffered.end&&n.duration?r=n.buffered.end(0)/n.duration:n&&n.bytesTotal!=undefined&&n.bytesTotal>0&&n.bufferedBytes!=undefined?r=n.bufferedBytes/n.bytesTotal:e&&e.lengthComputable&&e.total!=0&&(r=e.loaded/e.total),r!==null&&(r=Math.min(1,Math.max(0,r)),t.loaded&&t.total&&t.loaded.width(t.total.width()*r))},setCurrentRail:function(){var e=this;if(e.media.currentTime!=undefined&&e.media.duration&&e.total&&e.handle){var t=e.total.width()*e.media.currentTime/e.media.duration,n=t-e.handle.outerWidth(!0)/2;e.current.width(t),e.handle.css("left",n)}}})}(mejs.$),function(e){e.extend(mejs.MepDefaults,{duration:-1,timeAndDurationSeparator:" <span> | </span> "}),e.extend(MediaElementPlayer.prototype,{buildcurrent:function(t,n,r,i){var s=this;e('<div class="mejs-time"><span class="mejs-currenttime">'+(t.options.alwaysShowHours?"00:":"")+(t.options.showTimecodeFrameCount?"00:00:00":"00:00")+"</span>"+"</div>").appendTo(n),s.currenttime=s.controls.find(".mejs-currenttime"),i.addEventListener("timeupdate",function(){t.updateCurrent()},!1)},buildduration:function(t,n,r,i){var s=this;n.children().last().find(".mejs-currenttime").length>0?e(s.options.timeAndDurationSeparator+'<span class="mejs-duration">'+(s.options.duration>0?mejs.Utility.secondsToTimeCode(s.options.duration,s.options.alwaysShowHours||s.media.duration>3600,s.options.showTimecodeFrameCount,s.options.framesPerSecond||25):(t.options.alwaysShowHours?"00:":"")+(t.options.showTimecodeFrameCount?"00:00:00":"00:00"))+"</span>").appendTo(n.find(".mejs-time")):(n.find(".mejs-currenttime").parent().addClass("mejs-currenttime-container"),e('<div class="mejs-time mejs-duration-container"><span class="mejs-duration">'+(s.options.duration>0?mejs.Utility.secondsToTimeCode(s.options.duration,s.options.alwaysShowHours||s.media.duration>3600,s.options.showTimecodeFrameCount,s.options.framesPerSecond||25):(t.options.alwaysShowHours?"00:":"")+(t.options.showTimecodeFrameCount?"00:00:00":"00:00"))+"</span>"+"</div>").appendTo(n)),s.durationD=s.controls.find(".mejs-duration"),i.addEventListener("timeupdate",function(){t.updateDuration()},!1)},updateCurrent:function(){var e=this;e.currenttime&&e.currenttime.html(mejs.Utility.secondsToTimeCode(e.media.currentTime,e.options.alwaysShowHours||e.media.duration>3600,e.options.showTimecodeFrameCount,e.options.framesPerSecond||25))},updateDuration:function(){var e=this;e.media.duration&&e.durationD&&e.durationD.html(mejs.Utility.secondsToTimeCode(e.media.duration,e.options.alwaysShowHours,e.options.showTimecodeFrameCount,e.options.framesPerSecond||25))}})}(mejs.$),function(e){e.extend(mejs.MepDefaults,{muteText:"Mute Toggle",hideVolumeOnTouchDevices:!0,audioVolume:"horizontal",videoVolume:"vertical"}),e.extend(MediaElementPlayer.prototype,{buildvolume:function(t,n,r,i){if(mejs.MediaFeatures.hasTouch&&this.options.hideVolumeOnTouchDevices)return;var s=this,o=s.isVideo?s.options.videoVolume:s.options.audioVolume,u=o=="horizontal"?e('<div class="mejs-button mejs-volume-button mejs-mute"><button type="button" aria-controls="'+s.id+'" title="'+s.options.muteText+'"></button>'+"</div>"+'<div class="mejs-horizontal-volume-slider">'+'<div class="mejs-horizontal-volume-total"></div>'+'<div class="mejs-horizontal-volume-current"></div>'+'<div class="mejs-horizontal-volume-handle"></div>'+"</div>").appendTo(n):e('<div class="mejs-button mejs-volume-button mejs-mute"><button type="button" aria-controls="'+s.id+'" title="'+s.options.muteText+'"></button>'+'<div class="mejs-volume-slider">'+'<div class="mejs-volume-total"></div>'+'<div class="mejs-volume-current"></div>'+'<div class="mejs-volume-handle"></div>'+"</div>"+"</div>").appendTo(n),a=s.container.find(".mejs-volume-slider, .mejs-horizontal-volume-slider"),f=s.container.find(".mejs-volume-total, .mejs-horizontal-volume-total"),l=s.container.find(".mejs-volume-current, .mejs-horizontal-volume-current"),c=s.container.find(".mejs-volume-handle, .mejs-horizontal-volume-handle"),h=function(e,t){if(!a.is(":visible")&&typeof t!="undefined"){a.show(),h(e,!0),a.hide();return}e=Math.max(0,e),e=Math.min(e,1),e==0?u.removeClass("mejs-mute").addClass("mejs-unmute"):u.removeClass("mejs-unmute").addClass("mejs-mute");if(o=="vertical"){var n=f.height(),r=f.position(),i=n-n*e;c.css("top",r.top+i-c.height()/2),l.height(n-i),l.css("top",r.top+i)}else{var s=f.width(),r=f.position(),p=s*e;c.css("left",r.left+p-c.width()/2),l.width(p)}},p=function(e){var t=null,n=f.offset();if(o=="vertical"){var r=f.height(),s=parseInt(f.css("top").replace(/px/,""),10),u=e.pageY-n.top;t=(r-u)/r;if(n.top==0||n.left==0)return}else{var a=f.width(),l=e.pageX-n.left;t=l/a}t=Math.max(0,t),t=Math.min(t,1),h(t),t==0?i.setMuted(!0):i.setMuted(!1),i.setVolume(t)},d=!1,v=!1;u.hover(function(){a.show(),v=!0},function(){v=!1,!d&&o=="vertical"&&a.hide()}),a.bind("mouseover",function(){v=!0}).bind("mousedown",function(t){return p(t),e(document).bind("mousemove.vol",function(e){p(e)}).bind("mouseup.vol",function(){d=!1,e(document).unbind(".vol"),!v&&o=="vertical"&&a.hide()}),d=!0,!1}),u.find("button").click(function(){i.setMuted(!i.muted)}),i.addEventListener("volumechange",function(e){d||(i.muted?(h(0),u.removeClass("mejs-mute").addClass("mejs-unmute")):(h(i.volume),u.removeClass("mejs-unmute").addClass("mejs-mute")))},!1),s.container.is(":visible")&&(h(t.options.startVolume),i.pluginType==="native"&&i.setVolume(t.options.startVolume))}})}(mejs.$),function(e){e.extend(mejs.MepDefaults,{usePluginFullScreen:!0,newWindowCallback:function(){return""},fullscreenText:"Fullscreen"}),e.extend(MediaElementPlayer.prototype,{isFullScreen:!1,isNativeFullScreen:!1,docStyleOverflow:null,isInIframe:!1,buildfullscreen:function(t,n,r,i){if(!t.isVideo)return;t.isInIframe=window.location!=window.parent.location;if(mejs.MediaFeatures.hasTrueNativeFullScreen){var s=null;mejs.MediaFeatures.hasMozNativeFullScreen?s=e(document):s=t.container,s.bind(mejs.MediaFeatures.fullScreenEventName,function(e){mejs.MediaFeatures.isFullScreen()?(t.isNativeFullScreen=!0,t.setControlsSize()):(t.isNativeFullScreen=!1,t.exitFullScreen())})}var o=this,u=0,a=0,f=t.container,l=e('<div class="mejs-button mejs-fullscreen-button"><button type="button" aria-controls="'+o.id+'" title="'+o.options.fullscreenText+'"></button>'+"</div>").appendTo(n);if(o.media.pluginType==="native"||!o.options.usePluginFullScreen&&!mejs.MediaFeatures.isFirefox)l.click(function(){var e=mejs.MediaFeatures.hasTrueNativeFullScreen&&mejs.MediaFeatures.isFullScreen()||t.isFullScreen;e?t.exitFullScreen():t.enterFullScreen()});else{var c=null,h=function(){var e=document.createElement("x"),t=document.documentElement,n=window.getComputedStyle,r;return"pointerEvents"in e.style?(e.style.pointerEvents="auto",e.style.pointerEvents="x",t.appendChild(e),r=n&&n(e,"").pointerEvents==="auto",t.removeChild(e),!!r):!1}();if(h&&!mejs.MediaFeatures.isOpera){var p=!1,d=function(){p&&(v.hide(),m.hide(),g.hide(),l.css("pointer-events",""),o.controls.css("pointer-events",""),p=!1)},v=e('<div class="mejs-fullscreen-hover" />').appendTo(o.container).mouseover(d),m=e('<div class="mejs-fullscreen-hover"  />').appendTo(o.container).mouseover(d),g=e('<div class="mejs-fullscreen-hover"  />').appendTo(o.container).mouseover(d),y=function(){var e={position:"absolute",top:0,left:0};v.css(e),m.css(e),g.css(e),v.width(o.container.width()).height(o.container.height()-o.controls.height());var t=l.offset().left-o.container.offset().left;fullScreenBtnWidth=l.outerWidth(!0),m.width(t).height(o.controls.height()).css({top:o.container.height()-o.controls.height()}),g.width(o.container.width()-t-fullScreenBtnWidth).height(o.controls.height()).css({top:o.container.height()-o.controls.height(),left:t+fullScreenBtnWidth})};e(document).resize(function(){y()}),l.mouseover(function(){if(!o.isFullScreen){var e=l.offset(),n=t.container.offset();i.positionFullscreenButton(e.left-n.left,e.top-n.top,!1),l.css("pointer-events","none"),o.controls.css("pointer-events","none"),v.show(),g.show(),m.show(),y(),p=!0}}),i.addEventListener("fullscreenchange",function(e){d()})}else l.mouseover(function(){c!==null&&(clearTimeout(c),delete c);var e=l.offset(),n=t.container.offset();i.positionFullscreenButton(e.left-n.left,e.top-n.top,!0)}).mouseout(function(){c!==null&&(clearTimeout(c),delete c),c=setTimeout(function(){i.hideFullscreenButton()},1500)})}t.fullscreenBtn=l,e(document).bind("keydown",function(e){(mejs.MediaFeatures.hasTrueNativeFullScreen&&mejs.MediaFeatures.isFullScreen()||o.isFullScreen)&&e.keyCode==27&&t.exitFullScreen()})},enterFullScreen:function(){var t=this;if(t.media.pluginType!=="native"&&(mejs.MediaFeatures.isFirefox||t.options.usePluginFullScreen))return;docStyleOverflow=document.documentElement.style.overflow,document.documentElement.style.overflow="hidden",normalHeight=t.container.height(),normalWidth=t.container.width(),console.log(normalHeight,normalWidth);if(t.media.pluginType==="native")if(mejs.MediaFeatures.hasTrueNativeFullScreen)mejs.MediaFeatures.requestFullScreen(t.container[0]),t.isInIframe&&setTimeout(function r(){t.isNativeFullScreen&&(e(window).width()!==screen.width?t.exitFullScreen():setTimeout(r,500))},500);else if(mejs.MediaFeatures.hasSemiNativeFullScreen){t.media.webkitEnterFullscreen();return}if(t.isInIframe){var n=t.options.newWindowCallback(this);if(n!==""){if(!mejs.MediaFeatures.hasTrueNativeFullScreen){t.pause(),window.open(n,t.id,"top=0,left=0,width="+screen.availWidth+",height="+screen.availHeight+",resizable=yes,scrollbars=no,status=no,toolbar=no");return}setTimeout(function(){t.isNativeFullScreen||(t.pause(),window.open(n,t.id,"top=0,left=0,width="+screen.availWidth+",height="+screen.availHeight+",resizable=yes,scrollbars=no,status=no,toolbar=no"))},250)}}t.container.addClass("mejs-container-fullscreen").width("100%").height("100%"),setTimeout(function(){t.container.css({width:"100%",height:"100%"}),t.setControlsSize()},500),t.pluginType==="native"?t.$media.width("100%").height("100%"):(t.container.find("object, embed, iframe").width("100%").height("100%"),t.media.setVideoSize(e(window).width(),e(window).height())),t.layers.children("div").width("100%").height("100%"),t.fullscreenBtn&&t.fullscreenBtn.removeClass("mejs-fullscreen").addClass("mejs-unfullscreen"),t.setControlsSize(),t.isFullScreen=!0},exitFullScreen:function(){var e=this;if(e.media.pluginType!=="native"&&mejs.MediaFeatures.isFirefox){e.media.setFullscreen(!1);return}mejs.MediaFeatures.hasTrueNativeFullScreen&&(mejs.MediaFeatures.isFullScreen()||e.isFullScreen)&&mejs.MediaFeatures.cancelFullScreen(),document.documentElement.style.overflow=docStyleOverflow,e.container.removeClass("mejs-container-fullscreen").width(normalWidth).height(normalHeight),e.pluginType==="native"?e.$media.width(normalWidth).height(normalHeight):(e.container.find("object embed").width(normalWidth).height(normalHeight),e.media.setVideoSize(normalWidth,normalHeight)),e.layers.children("div").width(normalWidth).height(normalHeight),e.fullscreenBtn.removeClass("mejs-unfullscreen").addClass("mejs-fullscreen"),e.setControlsSize(),e.isFullScreen=!1}})}(mejs.$),function(e){e.extend(mejs.MepDefaults,{startLanguage:"",tracksText:"Captions/Subtitles"}),e.extend(MediaElementPlayer.prototype,{hasChapters:!1,buildtracks:function(t,n,r,i){if(!t.isVideo)return;if(t.tracks.length==0)return;var s=this,o,u="";t.chapters=e('<div class="mejs-chapters mejs-layer"></div>').prependTo(r).hide(),t.captions=e('<div class="mejs-captions-layer mejs-layer"><div class="mejs-captions-position"><span class="mejs-captions-text"></span></div></div>').prependTo(r).hide(),t.captionsText=t.captions.find(".mejs-captions-text"),t.captionsButton=e('<div class="mejs-button mejs-captions-button"><button type="button" aria-controls="'+s.id+'" title="'+s.options.tracksText+'"></button>'+'<div class="mejs-captions-selector">'+"<ul>"+"<li>"+'<input type="radio" name="'+t.id+'_captions" id="'+t.id+'_captions_none" value="none" checked="checked" />'+'<label for="'+t.id+'_captions_none">None</label>'+"</li>"+"</ul>"+"</div>"+"</div>").appendTo(n).hover(function(){e(this).find(".mejs-captions-selector").css("visibility","visible")},function(){e(this).find(".mejs-captions-selector").css("visibility","hidden")}).delegate("input[type=radio]","click",function(){lang=this.value;if(lang=="none")t.selectedTrack=null;else for(o=0;o<t.tracks.length;o++)if(t.tracks[o].srclang==lang){t.selectedTrack=t.tracks[o],t.captions.attr("lang",t.selectedTrack.srclang),t.displayCaptions();break}}),t.options.alwaysShowControls?t.container.find(".mejs-captions-position").addClass("mejs-captions-position-hover"):t.container.bind("mouseenter",function(){t.container.find(".mejs-captions-position").addClass("mejs-captions-position-hover")}).bind("mouseleave",function(){i.paused||t.container.find(".mejs-captions-position").removeClass("mejs-captions-position-hover")}),t.trackToLoad=-1,t.selectedTrack=null,t.isLoadingTrack=!1;for(o=0;o<t.tracks.length;o++)t.tracks[o].kind=="subtitles"&&t.addTrackButton(t.tracks[o].srclang,t.tracks[o].label);t.loadNextTrack(),i.addEventListener("timeupdate",function(e){t.displayCaptions()},!1),i.addEventListener("loadedmetadata",function(e){t.displayChapters()},!1),t.container.hover(function(){t.hasChapters&&(t.chapters.css("visibility","visible"),t.chapters.fadeIn(200).height(t.chapters.find(".mejs-chapter").outerHeight()))},function(){t.hasChapters&&!i.paused&&t.chapters.fadeOut(200,function(){e(this).css("visibility","hidden"),e(this).css("display","block")})}),t.node.getAttribute("autoplay")!==null&&t.chapters.css("visibility","hidden")},loadNextTrack:function(){var e=this;e.trackToLoad++,e.trackToLoad<e.tracks.length?(e.isLoadingTrack=!0,e.loadTrack(e.trackToLoad)):e.isLoadingTrack=!1},loadTrack:function(t){var n=this,r=n.tracks[t],i=function(){r.isLoaded=!0,n.enableTrackButton(r.srclang,r.label),n.loadNextTrack()};r.isTranslation?mejs.TrackFormatParser.translateTrackText(n.tracks[0].entries,n.tracks[0].srclang,r.srclang,n.options.googleApiKey,function(e){r.entries=e,i()}):e.ajax({url:r.src,success:function(e){r.entries=mejs.TrackFormatParser.parse(e),i(),r.kind=="chapters"&&n.media.duration>0&&n.drawChapters(r)},error:function(){n.loadNextTrack()}})},enableTrackButton:function(t,n){var r=this;n===""&&(n=mejs.language.codes[t]||t),r.captionsButton.find("input[value="+t+"]").prop("disabled",!1).siblings("label").html(n),r.options.startLanguage==t&&e("#"+r.id+"_captions_"+t).click(),r.adjustLanguageBox()},addTrackButton:function(t,n){var r=this;n===""&&(n=mejs.language.codes[t]||t),r.captionsButton.find("ul").append(e('<li><input type="radio" name="'+r.id+'_captions" id="'+r.id+"_captions_"+t+'" value="'+t+'" disabled="disabled" />'+'<label for="'+r.id+"_captions_"+t+'">'+n+" (loading)"+"</label>"+"</li>")),r.adjustLanguageBox(),r.container.find(".mejs-captions-translations option[value="+t+"]").remove()},adjustLanguageBox:function(){var e=this;e.captionsButton.find(".mejs-captions-selector").height(e.captionsButton.find(".mejs-captions-selector ul").outerHeight(!0)+e.captionsButton.find(".mejs-captions-translations").outerHeight(!0))},displayCaptions:function(){if(typeof this.tracks=="undefined")return;var e=this,t,n=e.selectedTrack;if(n!=null&&n.isLoaded){for(t=0;t<n.entries.times.length;t++)if(e.media.currentTime>=n.entries.times[t].start&&e.media.currentTime<=n.entries.times[t].stop){e.captionsText.html(n.entries.text[t]),e.captions.show().height(0);return}e.captions.hide()}else e.captions.hide()},displayChapters:function(){var e=this,t;for(t=0;t<e.tracks.length;t++)if(e.tracks[t].kind=="chapters"&&e.tracks[t].isLoaded){e.drawChapters(e.tracks[t]),e.hasChapters=!0;break}},drawChapters:function(t){var n=this,r,i,s=0,o=0;n.chapters.empty();for(r=0;r<t.entries.times.length;r++){i=t.entries.times[r].stop-t.entries.times[r].start,s=Math.floor(i/n.media.duration*100);if(s+o>100||r==t.entries.times.length-1&&s+o<100)s=100-o;n.chapters.append(e('<div class="mejs-chapter" rel="'+t.entries.times[r].start+'" style="left: '+o.toString()+"%;width: "+s.toString()+'%;">'+'<div class="mejs-chapter-block'+(r==t.entries.times.length-1?" mejs-chapter-block-last":"")+'">'+'<span class="ch-title">'+t.entries.text[r]+"</span>"+'<span class="ch-time">'+mejs.Utility.secondsToTimeCode(t.entries.times[r].start)+"&ndash;"+mejs.Utility.secondsToTimeCode(t.entries.times[r].stop)+"</span>"+"</div>"+"</div>")),o+=s}n.chapters.find("div.mejs-chapter").click(function(){n.media.setCurrentTime(parseFloat(e(this).attr("rel"))),n.media.paused&&n.media.play()}),n.chapters.show()}}),mejs.language={codes:{af:"Afrikaans",sq:"Albanian",ar:"Arabic",be:"Belarusian",bg:"Bulgarian",ca:"Catalan",zh:"Chinese","zh-cn":"Chinese Simplified","zh-tw":"Chinese Traditional",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch",en:"English",et:"Estonian",tl:"Filipino",fi:"Finnish",fr:"French",gl:"Galician",de:"German",el:"Greek",ht:"Haitian Creole",iw:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",ga:"Irish",it:"Italian",ja:"Japanese",ko:"Korean",lv:"Latvian",lt:"Lithuanian",mk:"Macedonian",ms:"Malay",mt:"Maltese",no:"Norwegian",fa:"Persian",pl:"Polish",pt:"Portuguese",ro:"Romanian",ru:"Russian",sr:"Serbian",sk:"Slovak",sl:"Slovenian",es:"Spanish",sw:"Swahili",sv:"Swedish",tl:"Tagalog",th:"Thai",tr:"Turkish",uk:"Ukrainian",vi:"Vietnamese",cy:"Welsh",yi:"Yiddish"}},mejs.TrackFormatParser={pattern_identifier:/^([a-zA-z]+-)?[0-9]+$/,pattern_timecode:/^([0-9]{2}:[0-9]{2}:[0-9]{2}([,.][0-9]{1,3})?) --\> ([0-9]{2}:[0-9]{2}:[0-9]{2}([,.][0-9]{3})?)(.*)$/,split2:function(e,t){return e.split(t)},parse:function(e){var t=0,n=this.split2(e,/\r?\n/),r={text:[],times:[]},i,s;for(;t<n.length;t++)if(this.pattern_identifier.exec(n[t])){t++,i=this.pattern_timecode.exec(n[t]);if(i&&t<n.length){t++,s=n[t],t++;while(n[t]!==""&&t<n.length)s=s+"\n"+n[t],t++;r.text.push(s),r.times.push({start:mejs.Utility.timeCodeToSeconds(i[1]),stop:mejs.Utility.timeCodeToSeconds(i[3]),settings:i[5]})}}return r}},"x\n\ny".split(/\n/gi).length!=3&&(mejs.TrackFormatParser.split2=function(e,t){var n=[],r="",i;for(i=0;i<e.length;i++)r+=e.substring(i,i+1),t.test(r)&&(n.push(r.replace(t,"")),r="");return n.push(r),n})}(mejs.$),function(e){e.extend(mejs.MepDefaults,{contextMenuItems:[{render:function(e){return typeof e.enterFullScreen=="undefined"?null:e.isFullScreen?"Turn off Fullscreen":"Go Fullscreen"},click:function(e){e.isFullScreen?e.exitFullScreen():e.enterFullScreen()}},{render:function(e){return e.media.muted?"Unmute":"Mute"},click:function(e){e.media.muted?e.setMuted(!1):e.setMuted(!0)}},{isSeparator:!0},{render:function(e){return"Download Video"},click:function(e){window.location.href=e.media.currentSrc}}]}),e.extend(MediaElementPlayer.prototype,{buildcontextmenu:function(t,n,r,i){t.contextMenu=e('<div class="mejs-contextmenu"></div>').appendTo(e("body")).hide(),t.container.bind("contextmenu",function(e){if(t.isContextMenuEnabled)return e.preventDefault(),t.renderContextMenu(e.clientX-1,e.clientY-1),!1}),t.container.bind("click",function(){t.contextMenu.hide()}),t.contextMenu.bind("mouseleave",function(){t.startContextMenuTimer()})},isContextMenuEnabled:!0,enableContextMenu:function(){this.isContextMenuEnabled=!0},disableContextMenu:function(){this.isContextMenuEnabled=!1},contextMenuTimeout:null,startContextMenuTimer:function(){var e=this;e.killContextMenuTimer(),e.contextMenuTimer=setTimeout(function(){e.hideContextMenu(),e.killContextMenuTimer()},750)},killContextMenuTimer:function(){var e=this.contextMenuTimer;e!=null&&(clearTimeout(e),delete e,e=null)},hideContextMenu:function(){this.contextMenu.hide()},renderContextMenu:function(t,n){var r=this,i="",s=r.options.contextMenuItems;for(var o=0,u=s.length;o<u;o++)if(s[o].isSeparator)i+='<div class="mejs-contextmenu-separator"></div>';else{var a=s[o].render(r);a!=null&&(i+='<div class="mejs-contextmenu-item" data-itemindex="'+o+'" id="element-'+Math.random()*1e6+'">'+a+"</div>")}r.contextMenu.empty().append(e(i)).css({top:n,left:t}).show(),r.contextMenu.find(".mejs-contextmenu-item").each(function(){var t=e(this),n=parseInt(t.data("itemindex"),10),i=r.options.contextMenuItems[n];typeof i.show!="undefined"&&i.show(t,r),t.click(function(){typeof i.click!="undefined"&&i.click(r),r.contextMenu.hide()})}),setTimeout(function(){r.killControlsTimer("rev3")},100)}})}(mejs.$),function(e,t,n){typeof define=="function"&&define.amd?define(["jquery"],function(r){return n(r,e,t)}):n(e.jQuery,e,t)}(this,document,function(e,t,n,r){var i="featuredMedia";e.fn[i]=function(n){var r={rate:"16:9"};return n=e.extend(!0,r,n),this.each(function(){mejs.MediaElementPlayer.prototype.setPlayerSize=function(n,r){var i=this;typeof n!="undefined"&&(i.width=n),typeof r!="undefined"&&(i.height=r);if(i.height.toString().indexOf("%")>0||i.$node.css("max-width")==="100%"){var s=i.media.videoWidth&&i.media.videoWidth>0?i.media.videoWidth:i.options.defaultVideoWidth,o=i.media.videoHeight&&i.media.videoHeight>0?i.media.videoHeight:i.options.defaultVideoHeight;navigator.userAgent.match("Android")&&(s=i.options.defaultVideoWidth,o=i.options.defaultVideoHeight),typeof i.options.rate=="string"&&i.options.rate.match(":")&&i.options.rate.split(":").length>1&&(s=i.options.rate.split(":")[0],o=i.options.rate.split(":")[1]);var u=i.container.parent().width(),a=parseInt(u*o/s,10);i.container.parent()[0].tagName.toLowerCase()==="body"&&(u=e(t).width(),a=e(t).height()),a!=0&&(i.container.width(u).height(a),i.$media.width("100%").height("100%"),i.container.find("object, embed, iframe").width("100%").height("100%"),i.isVideo&&i.media.setVideoSize&&i.media.setVideoSize(u,a),i.layers.children(".mejs-layer").width("100%").height("100%"))}else i.container.width(i.width).height(i.height),i.layers.children(".mejs-layer").width(i.width).height(i.height)};var r=new mejs.MediaElementPlayer(this,n)})},e("[data-featured=media]").each(function(t){var n=this;e(this)[i]({alwaysShowControls:!0,rate:e(n).data("mediaRate")})})}),function(e,t){function O(e){return i===""?e:(e=e.charAt(0).toUpperCase()+e.substr(1),i+e)}var n=Math,r=t.createElement("div").style,i=function(){var e="t,webkitT,MozT,msT,OT".split(","),t,n=0,i=e.length;for(;n<i;n++){t=e[n]+"ransform";if(t in r)return e[n].substr(0,e[n].length-1)}return!1}(),s=i?"-"+i.toLowerCase()+"-":"",o=O("transform"),u=O("transitionProperty"),a=O("transitionDuration"),f=O("transformOrigin"),l=O("transitionTimingFunction"),c=O("transitionDelay"),h=/android/gi.test(navigator.appVersion),p=/iphone|ipad/gi.test(navigator.appVersion),d=/hp-tablet/gi.test(navigator.appVersion),v=O("perspective")in r,m="ontouchstart"in e&&!d,g=!!i,y=O("transition")in r,b="onorientationchange"in e?"orientationchange":"resize",w=m?"touchstart":"mousedown",E=m?"touchmove":"mousemove",S=m?"touchend":"mouseup",x=m?"touchcancel":"mouseup",T=i=="Moz"?"DOMMouseScroll":"mousewheel",N=function(){if(i===!1)return!1;var e={"":"transitionend",webkit:"webkitTransitionEnd",Moz:"transitionend",O:"otransitionend",ms:"MSTransitionEnd"};return e[i]}(),C=function(){return e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame||function(e){return setTimeout(e,1)}}(),k=function(){return e.cancelRequestAnimationFrame||e.webkitCancelAnimationFrame||e.webkitCancelRequestAnimationFrame||e.mozCancelRequestAnimationFrame||e.oCancelRequestAnimationFrame||e.msCancelRequestAnimationFrame||clearTimeout}(),L=v?" translateZ(0)":"",A=function(n,r){var i=this,c;i.wrapper=typeof n=="object"?n:t.getElementById(n),i.wrapper.style.overflow="hidden",i.scroller=i.wrapper.children[0],i.options={hScroll:!0,vScroll:!0,x:0,y:0,bounce:!0,bounceLock:!1,momentum:!0,lockDirection:!0,useTransform:!0,useTransition:!1,topOffset:0,checkDOMChanges:!1,handleClick:!0,hScrollbar:!0,vScrollbar:!0,fixedScrollbar:h,hideScrollbar:p,fadeScrollbar:p&&v,scrollbarClass:"",zoom:!1,zoomMin:1,zoomMax:4,doubleTapZoom:2,wheelAction:"scroll",snap:!1,snapThreshold:1,onRefresh:null,onBeforeScrollStart:function(e){e.preventDefault()},onScrollStart:null,onBeforeScrollMove:null,onScrollMove:null,onBeforeScrollEnd:null,onScrollEnd:null,onTouchEnd:null,onDestroy:null,onZoomStart:null,onZoom:null,onZoomEnd:null};for(c in r)i.options[c]=r[c];i.x=i.options.x,i.y=i.options.y,i.options.useTransform=
g&&i.options.useTransform,i.options.hScrollbar=i.options.hScroll&&i.options.hScrollbar,i.options.vScrollbar=i.options.vScroll&&i.options.vScrollbar,i.options.zoom=i.options.useTransform&&i.options.zoom,i.options.useTransition=y&&i.options.useTransition,i.options.zoom&&h&&(L=""),i.scroller.style[u]=i.options.useTransform?s+"transform":"top left",i.scroller.style[a]="0",i.scroller.style[f]="0 0",i.options.useTransition&&(i.scroller.style[l]="cubic-bezier(0.33,0.66,0.66,1)"),i.options.useTransform?i.scroller.style[o]="translate("+i.x+"px,"+i.y+"px)"+L:i.scroller.style.cssText+=";position:absolute;top:"+i.y+"px;left:"+i.x+"px",i.options.useTransition&&(i.options.fixedScrollbar=!0),i.refresh(),i._bind(b,e),i._bind(w),m||i.options.wheelAction!="none"&&i._bind(T),i.options.checkDOMChanges&&(i.checkDOMTime=setInterval(function(){i._checkDOMChanges()},500))};A.prototype={enabled:!0,x:0,y:0,steps:[],scale:1,currPageX:0,currPageY:0,pagesX:[],pagesY:[],aniTime:null,wheelZoomCount:0,handleEvent:function(e){var t=this;switch(e.type){case w:if(!m&&e.button!==0)return;t._start(e);break;case E:t._move(e);break;case S:case x:t._end(e);break;case b:t._resize();break;case T:t._wheel(e);break;case N:t._transitionEnd(e)}},_checkDOMChanges:function(){if(this.moved||this.zoomed||this.animating||this.scrollerW==this.scroller.offsetWidth*this.scale&&this.scrollerH==this.scroller.offsetHeight*this.scale)return;this.refresh()},_scrollbar:function(e){var r=this,i;if(!r[e+"Scrollbar"]){r[e+"ScrollbarWrapper"]&&(g&&(r[e+"ScrollbarIndicator"].style[o]=""),r[e+"ScrollbarWrapper"].parentNode.removeChild(r[e+"ScrollbarWrapper"]),r[e+"ScrollbarWrapper"]=null,r[e+"ScrollbarIndicator"]=null);return}r[e+"ScrollbarWrapper"]||(i=t.createElement("div"),r.options.scrollbarClass?i.className=r.options.scrollbarClass+e.toUpperCase():i.style.cssText="position:absolute;z-index:100;"+(e=="h"?"height:7px;bottom:1px;left:2px;right:"+(r.vScrollbar?"7":"2")+"px":"width:7px;bottom:"+(r.hScrollbar?"7":"2")+"px;top:2px;right:1px"),i.style.cssText+=";pointer-events:none;"+s+"transition-property:opacity;"+s+"transition-duration:"+(r.options.fadeScrollbar?"350ms":"0")+";overflow:hidden;opacity:"+(r.options.hideScrollbar?"0":"1"),r.wrapper.appendChild(i),r[e+"ScrollbarWrapper"]=i,i=t.createElement("div"),r.options.scrollbarClass||(i.style.cssText="position:absolute;z-index:100;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);"+s+"background-clip:padding-box;"+s+"box-sizing:border-box;"+(e=="h"?"height:100%":"width:100%")+";"+s+"border-radius:3px;border-radius:3px"),i.style.cssText+=";pointer-events:none;"+s+"transition-property:"+s+"transform;"+s+"transition-timing-function:cubic-bezier(0.33,0.66,0.66,1);"+s+"transition-duration:0;"+s+"transform: translate(0,0)"+L,r.options.useTransition&&(i.style.cssText+=";"+s+"transition-timing-function:cubic-bezier(0.33,0.66,0.66,1)"),r[e+"ScrollbarWrapper"].appendChild(i),r[e+"ScrollbarIndicator"]=i),e=="h"?(r.hScrollbarSize=r.hScrollbarWrapper.clientWidth,r.hScrollbarIndicatorSize=n.max(n.round(r.hScrollbarSize*r.hScrollbarSize/r.scrollerW),8),r.hScrollbarIndicator.style.width=r.hScrollbarIndicatorSize+"px",r.hScrollbarMaxScroll=r.hScrollbarSize-r.hScrollbarIndicatorSize,r.hScrollbarProp=r.hScrollbarMaxScroll/r.maxScrollX):(r.vScrollbarSize=r.vScrollbarWrapper.clientHeight,r.vScrollbarIndicatorSize=n.max(n.round(r.vScrollbarSize*r.vScrollbarSize/r.scrollerH),8),r.vScrollbarIndicator.style.height=r.vScrollbarIndicatorSize+"px",r.vScrollbarMaxScroll=r.vScrollbarSize-r.vScrollbarIndicatorSize,r.vScrollbarProp=r.vScrollbarMaxScroll/r.maxScrollY),r._scrollbarPos(e,!0)},_resize:function(){var e=this;setTimeout(function(){e.refresh()},h?200:0)},_pos:function(e,t){if(this.zoomed)return;e=this.hScroll?e:0,t=this.vScroll?t:0,this.options.useTransform?this.scroller.style[o]="translate("+e+"px,"+t+"px) scale("+this.scale+")"+L:(e=n.round(e),t=n.round(t),this.scroller.style.left=e+"px",this.scroller.style.top=t+"px"),this.x=e,this.y=t,this._scrollbarPos("h"),this._scrollbarPos("v")},_scrollbarPos:function(e,t){var r=this,i=e=="h"?r.x:r.y,s;if(!r[e+"Scrollbar"])return;i=r[e+"ScrollbarProp"]*i,i<0?(r.options.fixedScrollbar||(s=r[e+"ScrollbarIndicatorSize"]+n.round(i*3),s<8&&(s=8),r[e+"ScrollbarIndicator"].style[e=="h"?"width":"height"]=s+"px"),i=0):i>r[e+"ScrollbarMaxScroll"]&&(r.options.fixedScrollbar?i=r[e+"ScrollbarMaxScroll"]:(s=r[e+"ScrollbarIndicatorSize"]-n.round((i-r[e+"ScrollbarMaxScroll"])*3),s<8&&(s=8),r[e+"ScrollbarIndicator"].style[e=="h"?"width":"height"]=s+"px",i=r[e+"ScrollbarMaxScroll"]+(r[e+"ScrollbarIndicatorSize"]-s))),r[e+"ScrollbarWrapper"].style[c]="0",r[e+"ScrollbarWrapper"].style.opacity=t&&r.options.hideScrollbar?"0":"1",r[e+"ScrollbarIndicator"].style[o]="translate("+(e=="h"?i+"px,0)":"0,"+i+"px)")+L},_start:function(t){var r=this,i=m?t.touches[0]:t,s,u,a,f,l;if(!r.enabled)return;r.options.onBeforeScrollStart&&r.options.onBeforeScrollStart.call(r,t),(r.options.useTransition||r.options.zoom)&&r._transitionTime(0),r.moved=!1,r.animating=!1,r.zoomed=!1,r.distX=0,r.distY=0,r.absDistX=0,r.absDistY=0,r.dirX=0,r.dirY=0,r.options.zoom&&m&&t.touches.length>1&&(f=n.abs(t.touches[0].pageX-t.touches[1].pageX),l=n.abs(t.touches[0].pageY-t.touches[1].pageY),r.touchesDistStart=n.sqrt(f*f+l*l),r.originX=n.abs(t.touches[0].pageX+t.touches[1].pageX-r.wrapperOffsetLeft*2)/2-r.x,r.originY=n.abs(t.touches[0].pageY+t.touches[1].pageY-r.wrapperOffsetTop*2)/2-r.y,r.options.onZoomStart&&r.options.onZoomStart.call(r,t));if(r.options.momentum){r.options.useTransform?(s=getComputedStyle(r.scroller,null)[o].replace(/[^0-9\-.,]/g,"").split(","),u=+s[4],a=+s[5]):(u=+getComputedStyle(r.scroller,null).left.replace(/[^0-9-]/g,""),a=+getComputedStyle(r.scroller,null).top.replace(/[^0-9-]/g,""));if(u!=r.x||a!=r.y)r.options.useTransition?r._unbind(N):k(r.aniTime),r.steps=[],r._pos(u,a),r.options.onScrollEnd&&r.options.onScrollEnd.call(r)}r.absStartX=r.x,r.absStartY=r.y,r.startX=r.x,r.startY=r.y,r.pointX=i.pageX,r.pointY=i.pageY,r.startTime=t.timeStamp||Date.now(),r.options.onScrollStart&&r.options.onScrollStart.call(r,t),r._bind(E,e),r._bind(S,e),r._bind(x,e)},_move:function(e){var t=this,r=m?e.touches[0]:e,i=r.pageX-t.pointX,s=r.pageY-t.pointY,u=t.x+i,a=t.y+s,f,l,c,h=e.timeStamp||Date.now();t.options.onBeforeScrollMove&&t.options.onBeforeScrollMove.call(t,e);if(t.options.zoom&&m&&e.touches.length>1){f=n.abs(e.touches[0].pageX-e.touches[1].pageX),l=n.abs(e.touches[0].pageY-e.touches[1].pageY),t.touchesDist=n.sqrt(f*f+l*l),t.zoomed=!0,c=1/t.touchesDistStart*t.touchesDist*this.scale,c<t.options.zoomMin?c=.5*t.options.zoomMin*Math.pow(2,c/t.options.zoomMin):c>t.options.zoomMax&&(c=2*t.options.zoomMax*Math.pow(.5,t.options.zoomMax/c)),t.lastScale=c/this.scale,u=this.originX-this.originX*t.lastScale+this.x,a=this.originY-this.originY*t.lastScale+this.y,this.scroller.style[o]="translate("+u+"px,"+a+"px) scale("+c+")"+L,t.options.onZoom&&t.options.onZoom.call(t,e);return}t.pointX=r.pageX,t.pointY=r.pageY;if(u>0||u<t.maxScrollX)u=t.options.bounce?t.x+i/2:u>=0||t.maxScrollX>=0?0:t.maxScrollX;if(a>t.minScrollY||a<t.maxScrollY)a=t.options.bounce?t.y+s/2:a>=t.minScrollY||t.maxScrollY>=0?t.minScrollY:t.maxScrollY;t.distX+=i,t.distY+=s,t.absDistX=n.abs(t.distX),t.absDistY=n.abs(t.distY);if(t.absDistX<6&&t.absDistY<6)return;t.options.lockDirection&&(t.absDistX>t.absDistY+5?(a=t.y,s=0):t.absDistY>t.absDistX+5&&(u=t.x,i=0)),t.moved=!0,t._pos(u,a),t.dirX=i>0?-1:i<0?1:0,t.dirY=s>0?-1:s<0?1:0,h-t.startTime>300&&(t.startTime=h,t.startX=t.x,t.startY=t.y),t.options.onScrollMove&&t.options.onScrollMove.call(t,e)},_end:function(r){if(m&&r.touches.length!==0)return;var i=this,s=m?r.changedTouches[0]:r,u,f,l={dist:0,time:0},c={dist:0,time:0},h=(r.timeStamp||Date.now())-i.startTime,p=i.x,d=i.y,v,g,y,b,w;i._unbind(E,e),i._unbind(S,e),i._unbind(x,e),i.options.onBeforeScrollEnd&&i.options.onBeforeScrollEnd.call(i,r);if(i.zoomed){w=i.scale*i.lastScale,w=Math.max(i.options.zoomMin,w),w=Math.min(i.options.zoomMax,w),i.lastScale=w/i.scale,i.scale=w,i.x=i.originX-i.originX*i.lastScale+i.x,i.y=i.originY-i.originY*i.lastScale+i.y,i.scroller.style[a]="200ms",i.scroller.style[o]="translate("+i.x+"px,"+i.y+"px) scale("+i.scale+")"+L,i.zoomed=!1,i.refresh(),i.options.onZoomEnd&&i.options.onZoomEnd.call(i,r);return}if(!i.moved){m&&(i.doubleTapTimer&&i.options.zoom?(clearTimeout(i.doubleTapTimer),i.doubleTapTimer=null,i.options.onZoomStart&&i.options.onZoomStart.call(i,r),i.zoom(i.pointX,i.pointY,i.scale==1?i.options.doubleTapZoom:1),i.options.onZoomEnd&&setTimeout(function(){i.options.onZoomEnd.call(i,r)},200)):this.options.handleClick&&(i.doubleTapTimer=setTimeout(function(){i.doubleTapTimer=null,u=s.target;while(u.nodeType!=1)u=u.parentNode;u.tagName!="SELECT"&&u.tagName!="INPUT"&&u.tagName!="TEXTAREA"&&(f=t.createEvent("MouseEvents"),f.initMouseEvent("click",!0,!0,r.view,1,s.screenX,s.screenY,s.clientX,s.clientY,r.ctrlKey,r.altKey,r.shiftKey,r.metaKey,0,null),f._fake=!0,u.dispatchEvent(f))},i.options.zoom?250:0))),i._resetPos(400),i.options.onTouchEnd&&i.options.onTouchEnd.call(i,r);return}if(h<300&&i.options.momentum){l=p?i._momentum(p-i.startX,h,-i.x,i.scrollerW-i.wrapperW+i.x,i.options.bounce?i.wrapperW:0):l,c=d?i._momentum(d-i.startY,h,-i.y,i.maxScrollY<0?i.scrollerH-i.wrapperH+i.y-i.minScrollY:0,i.options.bounce?i.wrapperH:0):c,p=i.x+l.dist,d=i.y+c.dist;if(i.x>0&&p>0||i.x<i.maxScrollX&&p<i.maxScrollX)l={dist:0,time:0};if(i.y>i.minScrollY&&d>i.minScrollY||i.y<i.maxScrollY&&d<i.maxScrollY)c={dist:0,time:0}}if(l.dist||c.dist){y=n.max(n.max(l.time,c.time),10),i.options.snap&&(v=p-i.absStartX,g=d-i.absStartY,n.abs(v)<i.options.snapThreshold&&n.abs(g)<i.options.snapThreshold?i.scrollTo(i.absStartX,i.absStartY,200):(b=i._snap(p,d),p=b.x,d=b.y,y=n.max(b.time,y))),i.scrollTo(n.round(p),n.round(d),y),i.options.onTouchEnd&&i.options.onTouchEnd.call(i,r);return}if(i.options.snap){v=p-i.absStartX,g=d-i.absStartY,n.abs(v)<i.options.snapThreshold&&n.abs(g)<i.options.snapThreshold?i.scrollTo(i.absStartX,i.absStartY,200):(b=i._snap(i.x,i.y),(b.x!=i.x||b.y!=i.y)&&i.scrollTo(b.x,b.y,b.time)),i.options.onTouchEnd&&i.options.onTouchEnd.call(i,r);return}i._resetPos(200),i.options.onTouchEnd&&i.options.onTouchEnd.call(i,r)},_resetPos:function(e){var t=this,n=t.x>=0?0:t.x<t.maxScrollX?t.maxScrollX:t.x,r=t.y>=t.minScrollY||t.maxScrollY>0?t.minScrollY:t.y<t.maxScrollY?t.maxScrollY:t.y;if(n==t.x&&r==t.y){t.moved&&(t.moved=!1,t.options.onScrollEnd&&t.options.onScrollEnd.call(t)),t.hScrollbar&&t.options.hideScrollbar&&(i=="webkit"&&(t.hScrollbarWrapper.style[c]="300ms"),t.hScrollbarWrapper.style.opacity="0"),t.vScrollbar&&t.options.hideScrollbar&&(i=="webkit"&&(t.vScrollbarWrapper.style[c]="300ms"),t.vScrollbarWrapper.style.opacity="0");return}t.scrollTo(n,r,e||0)},_wheel:function(e){var t=this,n,r,i,s,o;if("wheelDeltaX"in e)n=e.wheelDeltaX/12,r=e.wheelDeltaY/12;else if("wheelDelta"in e)n=r=e.wheelDelta/12;else{if(!("detail"in e))return;n=r=-e.detail*3}if(t.options.wheelAction=="zoom"){o=t.scale*Math.pow(2,1/3*(r?r/Math.abs(r):0)),o<t.options.zoomMin&&(o=t.options.zoomMin),o>t.options.zoomMax&&(o=t.options.zoomMax),o!=t.scale&&(!t.wheelZoomCount&&t.options.onZoomStart&&t.options.onZoomStart.call(t,e),t.wheelZoomCount++,t.zoom(e.pageX,e.pageY,o,400),setTimeout(function(){t.wheelZoomCount--,!t.wheelZoomCount&&t.options.onZoomEnd&&t.options.onZoomEnd.call(t,e)},400));return}i=t.x+n,s=t.y+r,i>0?i=0:i<t.maxScrollX&&(i=t.maxScrollX),s>t.minScrollY?s=t.minScrollY:s<t.maxScrollY&&(s=t.maxScrollY),t.maxScrollY<0&&t.scrollTo(i,s,0)},_transitionEnd:function(e){var t=this;if(e.target!=t.scroller)return;t._unbind(N),t._startAni()},_startAni:function(){var e=this,t=e.x,r=e.y,i=Date.now(),s,o,u;if(e.animating)return;if(!e.steps.length){e._resetPos(400);return}s=e.steps.shift(),s.x==t&&s.y==r&&(s.time=0),e.animating=!0,e.moved=!0;if(e.options.useTransition){e._transitionTime(s.time),e._pos(s.x,s.y),e.animating=!1,s.time?e._bind(N):e._resetPos(0);return}u=function(){var a=Date.now(),f,l;if(a>=i+s.time){e._pos(s.x,s.y),e.animating=!1,e.options.onAnimationEnd&&e.options.onAnimationEnd.call(e),e._startAni();return}a=(a-i)/s.time-1,o=n.sqrt(1-a*a),f=(s.x-t)*o+t,l=(s.y-r)*o+r,e._pos(f,l),e.animating&&(e.aniTime=C(u))},u()},_transitionTime:function(e){e+="ms",this.scroller.style[a]=e,this.hScrollbar&&(this.hScrollbarIndicator.style[a]=e),this.vScrollbar&&(this.vScrollbarIndicator.style[a]=e)},_momentum:function(e,t,r,i,s){var o=6e-4,u=n.abs(e)/t,a=u*u/(2*o),f=0,l=0;return e>0&&a>r?(l=s/(6/(a/u*o)),r+=l,u=u*r/a,a=r):e<0&&a>i&&(l=s/(6/(a/u*o)),i+=l,u=u*i/a,a=i),a*=e<0?-1:1,f=u/o,{dist:a,time:n.round(f)}},_offset:function(e){var t=-e.offsetLeft,n=-e.offsetTop;while(e=e.offsetParent)t-=e.offsetLeft,n-=e.offsetTop;return e!=this.wrapper&&(t*=this.scale,n*=this.scale),{left:t,top:n}},_snap:function(e,t){var r=this,i,s,o,u,a,f;o=r.pagesX.length-1;for(i=0,s=r.pagesX.length;i<s;i++)if(e>=r.pagesX[i]){o=i;break}o==r.currPageX&&o>0&&r.dirX<0&&o--,e=r.pagesX[o],a=n.abs(e-r.pagesX[r.currPageX]),a=a?n.abs(r.x-e)/a*500:0,r.currPageX=o,o=r.pagesY.length-1;for(i=0;i<o;i++)if(t>=r.pagesY[i]){o=i;break}return o==r.currPageY&&o>0&&r.dirY<0&&o--,t=r.pagesY[o],f=n.abs(t-r.pagesY[r.currPageY]),f=f?n.abs(r.y-t)/f*500:0,r.currPageY=o,u=n.round(n.max(a,f))||200,{x:e,y:t,time:u}},_bind:function(e,t,n){(t||this.scroller).addEventListener(e,this,!!n)},_unbind:function(e,t,n){(t||this.scroller).removeEventListener(e,this,!!n)},destroy:function(){var t=this;t.scroller.style[o]="",t.hScrollbar=!1,t.vScrollbar=!1,t._scrollbar("h"),t._scrollbar("v"),t._unbind(b,e),t._unbind(w),t._unbind(E,e),t._unbind(S,e),t._unbind(x,e),t.options.hasTouch||t._unbind(T),t.options.useTransition&&t._unbind(N),t.options.checkDOMChanges&&clearInterval(t.checkDOMTime),t.options.onDestroy&&t.options.onDestroy.call(t)},refresh:function(){var e=this,t,r,i,s,o=0,u=0;e.scale<e.options.zoomMin&&(e.scale=e.options.zoomMin),e.wrapperW=e.wrapper.clientWidth||1,e.wrapperH=e.wrapper.clientHeight||1,e.minScrollY=-e.options.topOffset||0,e.scrollerW=n.round(e.scroller.offsetWidth*e.scale),e.scrollerH=n.round((e.scroller.offsetHeight+e.minScrollY)*e.scale),e.maxScrollX=e.wrapperW-e.scrollerW,e.maxScrollY=e.wrapperH-e.scrollerH+e.minScrollY,e.dirX=0,e.dirY=0,e.options.onRefresh&&e.options.onRefresh.call(e),e.hScroll=e.options.hScroll&&e.maxScrollX<0,e.vScroll=e.options.vScroll&&(!e.options.bounceLock&&!e.hScroll||e.scrollerH>e.wrapperH),e.hScrollbar=e.hScroll&&e.options.hScrollbar,e.vScrollbar=e.vScroll&&e.options.vScrollbar&&e.scrollerH>e.wrapperH,t=e._offset(e.wrapper),e.wrapperOffsetLeft=-t.left,e.wrapperOffsetTop=-t.top;if(typeof e.options.snap=="string"){e.pagesX=[],e.pagesY=[],s=e.scroller.querySelectorAll(e.options.snap);for(r=0,i=s.length;r<i;r++)o=e._offset(s[r]),o.left+=e.wrapperOffsetLeft,o.top+=e.wrapperOffsetTop,e.pagesX[r]=o.left<e.maxScrollX?e.maxScrollX:o.left*e.scale,e.pagesY[r]=o.top<e.maxScrollY?e.maxScrollY:o.top*e.scale}else if(e.options.snap){e.pagesX=[];while(o>=e.maxScrollX)e.pagesX[u]=o,o-=e.wrapperW,u++;e.maxScrollX%e.wrapperW&&(e.pagesX[e.pagesX.length]=e.maxScrollX-e.pagesX[e.pagesX.length-1]+e.pagesX[e.pagesX.length-1]),o=0,u=0,e.pagesY=[];while(o>=e.maxScrollY)e.pagesY[u]=o,o-=e.wrapperH,u++;e.maxScrollY%e.wrapperH&&(e.pagesY[e.pagesY.length]=e.maxScrollY-e.pagesY[e.pagesY.length-1]+e.pagesY[e.pagesY.length-1])}e._scrollbar("h"),e._scrollbar("v"),e.zoomed||(e.scroller.style[a]="0",e._resetPos(400))},scrollTo:function(e,t,n,r){var i=this,s=e,o,u;i.stop(),s.length||(s=[{x:e,y:t,time:n,relative:r}]);for(o=0,u=s.length;o<u;o++)s[o].relative&&(s[o].x=i.x-s[o].x,s[o].y=i.y-s[o].y),i.steps.push({x:s[o].x,y:s[o].y,time:s[o].time||0});i._startAni()},scrollToElement:function(e,t){var r=this,i;e=e.nodeType?e:r.scroller.querySelector(e);if(!e)return;i=r._offset(e),i.left+=r.wrapperOffsetLeft,i.top+=r.wrapperOffsetTop,i.left=i.left>0?0:i.left<r.maxScrollX?r.maxScrollX:i.left,i.top=i.top>r.minScrollY?r.minScrollY:i.top<r.maxScrollY?r.maxScrollY:i.top,t=t===undefined?n.max(n.abs(i.left)*2,n.abs(i.top)*2):t,r.scrollTo(i.left,i.top,t)},scrollToPage:function(e,t,n){var r=this,i,s;n=n===undefined?400:n,r.options.onScrollStart&&r.options.onScrollStart.call(r),r.options.snap?(e=e=="next"?r.currPageX+1:e=="prev"?r.currPageX-1:e,t=t=="next"?r.currPageY+1:t=="prev"?r.currPageY-1:t,e=e<0?0:e>r.pagesX.length-1?r.pagesX.length-1:e,t=t<0?0:t>r.pagesY.length-1?r.pagesY.length-1:t,r.currPageX=e,r.currPageY=t,i=r.pagesX[e],s=r.pagesY[t]):(i=-r.wrapperW*e,s=-r.wrapperH*t,i<r.maxScrollX&&(i=r.maxScrollX),s<r.maxScrollY&&(s=r.maxScrollY)),r.scrollTo(i,s,n)},disable:function(){this.stop(),this._resetPos(0),this.enabled=!1,this._unbind(E,e),this._unbind(S,e),this._unbind(x,e)},enable:function(){this.enabled=!0},stop:function(){this.options.useTransition?this._unbind(N):k(this.aniTime),this.steps=[],this.moved=!1,this.animating=!1},zoom:function(e,t,n,r){var i=this,s=n/i.scale;if(!i.options.useTransform)return;i.zoomed=!0,r=r===undefined?200:r,e=e-i.wrapperOffsetLeft-i.x,t=t-i.wrapperOffsetTop-i.y,i.x=e-e*s+i.x,i.y=t-t*s+i.y,i.scale=n,i.refresh(),i.x=i.x>0?0:i.x<i.maxScrollX?i.maxScrollX:i.x,i.y=i.y>i.minScrollY?i.minScrollY:i.y<i.maxScrollY?i.maxScrollY:i.y,i.scroller.style[a]=r+"ms",i.scroller.style[o]="translate("+i.x+"px,"+i.y+"px) scale("+n+")"+L,i.zoomed=!1},isReady:function(){return!this.moved&&!this.zoomed&&!this.animating}},r=null,typeof exports!="undefined"?exports.iScroll=A:e.iScroll=A}(window,document),function(e,t,n){typeof define=="function"&&define.amd?define(function(r,i,s){var o=r("jquery");return n(o,e,t)}):n(e.jQuery,e,t)}(this,document,function(e,t,n){var r="featuredScrollView",i,s,o,u,a,f={formFields:undefined,pullDownID:undefined,pullUpID:undefined,pullDownAction:undefined,pullUpAction:undefined},l=function(t,n){var r=this;this.options=n,this.$el=e(t),this.formCheck(),this.pullToRefresh(),n=e.extend(!0,f,n),this.iscroll=new iScroll(this.$el[0],n),this.$el.on("scrollview.refresh",function(e){r.refresh()})};l.prototype.refresh=function(){this.iscroll.refresh()},l.prototype.formCheck=function(){if(!(!e.isEmptyObject(this.options)&&e.isArray(this.options.formFields)&&this.options.formFields.length>0))return!1;var t=this,n=function(n){var r=n.target,i=!0;while(r.nodeType!=1)r=r.parentNode;e.grep(t.options.formFields,function(e,t){i=i&&r.tagName!=e}),i&&n.preventDefault()};f.onBeforeScrollStart=n},l.prototype.pullToRefresh=function(){if(this.options==null||typeof this.options.pullDownID!="string"||typeof this.options.pullUpID!="string")return!1;var e=this;s=n.getElementById(this.options.pullDownID),o=s.offsetHeight,u=n.getElementById(this.options.pullUpID),a=u.offsetHeight;var t=o,r=function(){s.className.match("loading")?s.className="":u.className.match("loading")&&(u.className="")},i=function(){this.y>5&&!s.className.match("flip")?(s.className="flip",this.minScrollY=0):this.y<5&&s.className.match("flip")?(s.className="",this.minScrollY=-o):this.y<this.maxScrollY-5&&!u.className.match("flip")?(u.className="flip",this.maxScrollY=this.maxScrollY):this.y>this.maxScrollY+5&&u.className.match("flip")&&(u.className="",this.maxScrollY=a)},l=function(){s.className.match("flip")?(s.className="loading",e.options.pullDownAction()):u.className.match("flip")&&(u.className="loading",e.options.pullUpAction())};f.topOffset=t,f.onRefresh=r,f.onScrollMove=i,f.onScrollEnd=l},e.fn[r]=function(e){return this.each(function(){i=new l(this,e)})},e("[data-featured=scrollView]").each(function(t){e(this)[r]()})});